{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/assets/showcase-logo.svg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 500, height: 105, blurWidth: 0, blurHeight: 0};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,yJAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,WAAW;IAAG,YAAY;AAAC","debugId":null}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS;IAAG,IAAA,IAAA,OAAA,UAAA,QAAA,AAAG,SAAH,UAAA,OAAA,OAAA,GAAA,OAAA,MAAA;QAAG,OAAH,QAAA,SAAA,CAAA,KAAuB;;IACxC,OAAO,IAAA,6LAAO,EAAC,IAAA,oKAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-semibold ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"gradient-action text-primary-foreground hover:opacity-90 hover:shadow-glow-pink\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-primary/50 bg-transparent text-primary hover:bg-primary/10 hover:border-primary\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent/10 hover:text-primary\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n        gradient: \"gradient-brand text-primary-foreground hover:opacity-90 hover:shadow-glow-pink\",\n        \"gradient-outline\": \"border border-transparent bg-card text-foreground gradient-border hover:shadow-glow-pink\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,8LAAG,EACxB,wWACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;YACN,UAAU;YACV,oBAAoB;QACtB;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,+LAAgB,MAC7B,QAA0D;QAAzD,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO;IACtD,MAAM,OAAO,UAAU,+LAAI,GAAG;IAC9B,qBAAO,iNAAC;QAAK,WAAW,IAAA,gJAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QAAK,KAAK;QAAM,GAAG,KAAK;;;;;;AAC/F;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/ui/sheet.tsx"],"sourcesContent":["import * as SheetPrimitive from \"@radix-ui/react-dialog\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { X } from \"lucide-react\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Sheet = SheetPrimitive.Root;\n\nconst SheetTrigger = SheetPrimitive.Trigger;\n\nconst SheetClose = SheetPrimitive.Close;\n\nconst SheetPortal = SheetPrimitive.Portal;\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  />\n));\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName;\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  },\n);\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<React.ElementRef<typeof SheetPrimitive.Content>, SheetContentProps>(\n  ({ side = \"right\", className, children, ...props }, ref) => (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content ref={ref} className={cn(sheetVariants({ side }), className)} {...props}>\n        {children}\n        <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none\">\n          <X className=\"h-4 w-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  ),\n);\nSheetContent.displayName = SheetPrimitive.Content.displayName;\n\nconst SheetHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-2 text-center sm:text-left\", className)} {...props} />\n);\nSheetHeader.displayName = \"SheetHeader\";\n\nconst SheetFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nSheetFooter.displayName = \"SheetFooter\";\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold text-foreground\", className)} {...props} />\n));\nSheetTitle.displayName = SheetPrimitive.Title.displayName;\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nSheetDescription.displayName = SheetPrimitive.Description.displayName;\n\nexport {\n  Sheet,\n  SheetClose,\n  SheetContent,\n  SheetDescription,\n  SheetFooter,\n  SheetHeader,\n  SheetOverlay,\n  SheetPortal,\n  SheetTitle,\n  SheetTrigger,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;;;;;;;AAEA,MAAM,QAAQ,iMAAmB;AAEjC,MAAM,eAAe,oMAAsB;AAE3C,MAAM,aAAa,kMAAoB;AAEvC,MAAM,cAAc,mMAAqB;AAEzC,MAAM,6BAAe,+LAAgB,CAGnC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,iNAAC,oMAAsB;QACrB,WAAW,IAAA,gJAAE,EACX,0JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;;KAVH;AAaN,aAAa,WAAW,GAAG,oMAAsB,CAAC,WAAW;AAE7D,MAAM,gBAAgB,IAAA,8LAAG,EACvB,oMACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,+LAAgB,OACnC,QAAoD;QAAnD,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;yBAChD,iNAAC;;0BACC,iNAAC;;;;;0BACD,iNAAC,oMAAsB;gBAAC,KAAK;gBAAK,WAAW,IAAA,gJAAE,EAAC,cAAc;oBAAE;gBAAK,IAAI;gBAAa,GAAG,KAAK;;oBAC3F;kCACD,iNAAC,kMAAoB;wBAAC,WAAU;;0CAC9B,iNAAC,wNAAC;gCAAC,WAAU;;;;;;0CACb,iNAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;;AAMpC,aAAa,WAAW,GAAG,oMAAsB,CAAC,WAAW;AAE7D,MAAM,cAAc;QAAC,EAAE,SAAS,EAAE,GAAG,OAA6C;yBAChF,iNAAC;QAAI,WAAW,IAAA,gJAAE,EAAC,oDAAoD;QAAa,GAAG,KAAK;;;;;;;MADxF;AAGN,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc;QAAC,EAAE,SAAS,EAAE,GAAG,OAA6C;yBAChF,iNAAC;QAAI,WAAW,IAAA,gJAAE,EAAC,iEAAiE;QAAa,GAAG,KAAK;;;;;;;MADrG;AAGN,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,+LAAgB,OAGjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,iNAAC,kMAAoB;QAAC,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,yCAAyC;QAAa,GAAG,KAAK;;;;;;;;AAE9G,WAAW,WAAW,GAAG,kMAAoB,CAAC,WAAW;AAEzD,MAAM,iCAAmB,+LAAgB,OAGvC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,iNAAC,wMAA0B;QAAC,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;;AAE5G,iBAAiB,WAAW,GAAG,wMAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 311, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useFavourites.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\r\n\r\nconst STORAGE_KEY = 'showcase-favourites';\r\nconst FAVOURITES_UPDATED_EVENT = 'favourites-updated';\r\n\r\n// Helper to read current favourites from localStorage\r\nconst getFavouritesFromStorage = (): string[] => {\r\n  try {\r\n    const stored = localStorage.getItem(STORAGE_KEY);\r\n    return stored ? JSON.parse(stored) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n};\r\n\r\n// Helper to save favourites to localStorage and dispatch event\r\nconst saveFavouritesToStorage = (favourites: string[]) => {\r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(favourites));\r\n  window.dispatchEvent(new CustomEvent(FAVOURITES_UPDATED_EVENT));\r\n};\r\n\r\n// For components that only need to check one listing (FavouriteButton)\r\nexport function useIsFavourite(listingId: string) {\r\n  const [isFav, setIsFav] = useState(() => \r\n    getFavouritesFromStorage().includes(listingId)\r\n  );\r\n\r\n  useEffect(() => {\r\n    const handleUpdate = () => {\r\n      setIsFav(getFavouritesFromStorage().includes(listingId));\r\n    };\r\n    \r\n    window.addEventListener(FAVOURITES_UPDATED_EVENT, handleUpdate);\r\n    window.addEventListener('storage', handleUpdate);\r\n    \r\n    return () => {\r\n      window.removeEventListener(FAVOURITES_UPDATED_EVENT, handleUpdate);\r\n      window.removeEventListener('storage', handleUpdate);\r\n    };\r\n  }, [listingId]);\r\n\r\n  const toggle = useCallback(() => {\r\n    const currentFavourites = getFavouritesFromStorage();\r\n    let newFavourites: string[];\r\n    \r\n    if (currentFavourites.includes(listingId)) {\r\n      newFavourites = currentFavourites.filter(id => id !== listingId);\r\n    } else {\r\n      newFavourites = [...currentFavourites, listingId];\r\n    }\r\n    \r\n    saveFavouritesToStorage(newFavourites);\r\n  }, [listingId]);\r\n\r\n  return { isFavourite: isFav, toggle };\r\n}\r\n\r\n// For components that need the full list (Favourites page, Header count)\r\nexport function useFavourites() {\r\n  const [favourites, setFavourites] = useState<string[]>(getFavouritesFromStorage);\r\n\r\n  useEffect(() => {\r\n    const handleUpdate = () => {\r\n      setFavourites(getFavouritesFromStorage());\r\n    };\r\n    \r\n    window.addEventListener(FAVOURITES_UPDATED_EVENT, handleUpdate);\r\n    window.addEventListener('storage', handleUpdate);\r\n    \r\n    return () => {\r\n      window.removeEventListener(FAVOURITES_UPDATED_EVENT, handleUpdate);\r\n      window.removeEventListener('storage', handleUpdate);\r\n    };\r\n  }, []);\r\n\r\n  const toggleFavourite = useCallback((listingId: string) => {\r\n    const currentFavourites = getFavouritesFromStorage();\r\n    let newFavourites: string[];\r\n    \r\n    if (currentFavourites.includes(listingId)) {\r\n      newFavourites = currentFavourites.filter(id => id !== listingId);\r\n    } else {\r\n      newFavourites = [...currentFavourites, listingId];\r\n    }\r\n    \r\n    saveFavouritesToStorage(newFavourites);\r\n  }, []);\r\n\r\n  const removeFavourite = useCallback((listingId: string) => {\r\n    const currentFavourites = getFavouritesFromStorage();\r\n    const newFavourites = currentFavourites.filter(id => id !== listingId);\r\n    saveFavouritesToStorage(newFavourites);\r\n  }, []);\r\n\r\n  return {\r\n    favourites,\r\n    toggleFavourite,\r\n    removeFavourite,\r\n    count: favourites.length,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;;AAFA;;AAIA,MAAM,cAAc;AACpB,MAAM,2BAA2B;AAEjC,sDAAsD;AACtD,MAAM,2BAA2B;IAC/B,IAAI;QACF,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,OAAO,SAAS,KAAK,KAAK,CAAC,UAAU,EAAE;IACzC,EAAE,UAAM;QACN,OAAO,EAAE;IACX;AACF;AAEA,+DAA+D;AAC/D,MAAM,0BAA0B,CAAC;IAC/B,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;IACjD,OAAO,aAAa,CAAC,IAAI,YAAY;AACvC;AAGO,SAAS,eAAe,SAAiB;;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6LAAQ;mCAAC,IACjC,2BAA2B,QAAQ,CAAC;;IAGtC,IAAA,8LAAS;oCAAC;YACR,MAAM;yDAAe;oBACnB,SAAS,2BAA2B,QAAQ,CAAC;gBAC/C;;YAEA,OAAO,gBAAgB,CAAC,0BAA0B;YAClD,OAAO,gBAAgB,CAAC,WAAW;YAEnC;4CAAO;oBACL,OAAO,mBAAmB,CAAC,0BAA0B;oBACrD,OAAO,mBAAmB,CAAC,WAAW;gBACxC;;QACF;mCAAG;QAAC;KAAU;IAEd,MAAM,SAAS,IAAA,gMAAW;8CAAC;YACzB,MAAM,oBAAoB;YAC1B,IAAI;YAEJ,IAAI,kBAAkB,QAAQ,CAAC,YAAY;gBACzC,gBAAgB,kBAAkB,MAAM;0DAAC,CAAA,KAAM,OAAO;;YACxD,OAAO;gBACL,gBAAgB;uBAAI;oBAAmB;iBAAU;YACnD;YAEA,wBAAwB;QAC1B;6CAAG;QAAC;KAAU;IAEd,OAAO;QAAE,aAAa;QAAO;IAAO;AACtC;GAjCgB;AAoCT,SAAS;;IACd,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,6LAAQ,EAAW;IAEvD,IAAA,8LAAS;mCAAC;YACR,MAAM;wDAAe;oBACnB,cAAc;gBAChB;;YAEA,OAAO,gBAAgB,CAAC,0BAA0B;YAClD,OAAO,gBAAgB,CAAC,WAAW;YAEnC;2CAAO;oBACL,OAAO,mBAAmB,CAAC,0BAA0B;oBACrD,OAAO,mBAAmB,CAAC,WAAW;gBACxC;;QACF;kCAAG,EAAE;IAEL,MAAM,kBAAkB,IAAA,gMAAW;sDAAC,CAAC;YACnC,MAAM,oBAAoB;YAC1B,IAAI;YAEJ,IAAI,kBAAkB,QAAQ,CAAC,YAAY;gBACzC,gBAAgB,kBAAkB,MAAM;kEAAC,CAAA,KAAM,OAAO;;YACxD,OAAO;gBACL,gBAAgB;uBAAI;oBAAmB;iBAAU;YACnD;YAEA,wBAAwB;QAC1B;qDAAG,EAAE;IAEL,MAAM,kBAAkB,IAAA,gMAAW;sDAAC,CAAC;YACnC,MAAM,oBAAoB;YAC1B,MAAM,gBAAgB,kBAAkB,MAAM;4EAAC,CAAA,KAAM,OAAO;;YAC5D,wBAAwB;QAC1B;qDAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;QACA,OAAO,WAAW,MAAM;IAC1B;AACF;IA1CgB","debugId":null}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/header/MobileMenuButton.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { Menu, Heart } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\";\r\nimport { useFavourites } from \"@/hooks/useFavourites\";\r\nimport { useState } from \"react\";\r\n\r\nconst navItems = [\r\n  { label: \"HOME\", to: \"/\" },\r\n  { label: \"CATEGORIES\", to: \"/categories\" },\r\n];\r\n\r\nexport function MobileMenuButton() {\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const { count: favouritesCount } = useFavourites();\r\n\r\n  return (\r\n    <Sheet open={mobileMenuOpen} onOpenChange={setMobileMenuOpen}>\r\n      <SheetTrigger asChild className=\"md:hidden\">\r\n        <Button variant=\"ghost\" size=\"icon\">\r\n          <Menu className=\"h-6 w-6\" />\r\n        </Button>\r\n      </SheetTrigger>\r\n      <SheetContent side=\"right\" className=\"w-[280px] bg-card border-border\">\r\n        <nav className=\"flex flex-col gap-4 mt-8\">\r\n          {navItems.map((item) => (\r\n            <Link\r\n              key={item.to}\r\n              href={item.to}\r\n              className=\"text-lg font-medium text-foreground hover:text-primary transition-colors py-2\"\r\n              onClick={() => setMobileMenuOpen(false)}\r\n            >\r\n              {item.label}\r\n            </Link>\r\n          ))}\r\n          <Link\r\n            href=\"/favourites\"\r\n            className=\"text-lg font-medium text-foreground hover:text-primary transition-colors py-2 flex items-center gap-2\"\r\n            onClick={() => setMobileMenuOpen(false)}\r\n          >\r\n            <Heart className=\"h-5 w-5\" />\r\n            FAVOURITES\r\n            {favouritesCount > 0 && (\r\n              <span className=\"bg-primary text-primary-foreground text-xs px-1.5 py-0.5 rounded-full\">\r\n                {favouritesCount}\r\n              </span>\r\n            )}\r\n          </Link>\r\n        </nav>\r\n      </SheetContent>\r\n    </Sheet>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AASA,MAAM,WAAW;IACf;QAAE,OAAO;QAAQ,IAAI;IAAI;IACzB;QAAE,OAAO;QAAc,IAAI;IAAc;CAC1C;AAEM,SAAS;;IACd,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,6LAAQ,EAAC;IACrD,MAAM,EAAE,OAAO,eAAe,EAAE,GAAG,IAAA,qKAAa;IAEhD,qBACE,iNAAC,iKAAK;QAAC,MAAM;QAAgB,cAAc;;0BACzC,iNAAC,wKAAY;gBAAC,OAAO;gBAAC,WAAU;0BAC9B,cAAA,iNAAC,mKAAM;oBAAC,SAAQ;oBAAQ,MAAK;8BAC3B,cAAA,iNAAC,iOAAI;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGpB,iNAAC,wKAAY;gBAAC,MAAK;gBAAQ,WAAU;0BACnC,cAAA,iNAAC;oBAAI,WAAU;;wBACZ,SAAS,GAAG,CAAC,CAAC,qBACb,iNAAC,8LAAI;gCAEH,MAAM,KAAK,EAAE;gCACb,WAAU;gCACV,SAAS,IAAM,kBAAkB;0CAEhC,KAAK,KAAK;+BALN,KAAK,EAAE;;;;;sCAQhB,iNAAC,8LAAI;4BACH,MAAK;4BACL,WAAU;4BACV,SAAS,IAAM,kBAAkB;;8CAEjC,iNAAC,oOAAK;oCAAC,WAAU;;;;;;gCAAY;gCAE5B,kBAAkB,mBACjB,iNAAC;oCAAK,WAAU;8CACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjB;GAxCgB;;QAEqB,qKAAa;;;KAFlC","debugId":null}},
    {"offset": {"line": 585, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/header/TopBar.tsx"],"sourcesContent":["import Link from 'next/link';\r\nimport showcaseLogo from \"@/assets/showcase-logo.svg\";\r\nimport { MobileMenuButton } from './MobileMenuButton';\r\n\r\ninterface Ad {\r\n  id: string;\r\n  name: string;\r\n  image_url: string;\r\n  link_url: string | null;\r\n  alt_text: string | null;\r\n}\r\n\r\ninterface TopBarProps {\r\n  sponsorAd: Ad | null;\r\n}\r\n\r\nexport function TopBar({ sponsorAd }: TopBarProps) {\r\n  return (\r\n    <div className=\"bg-card/50 border-b border-border\">\r\n      <div className=\"container py-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <Link href=\"/\">\r\n            <img\r\n              src={showcaseLogo}\r\n              alt=\"Showcase Music - The International Music Business Guide\"\r\n              className=\"h-14 w-auto\"\r\n            />\r\n          </Link>\r\n\r\n          <div className=\"hidden md:flex items-center gap-3\">\r\n            <span className=\"text-xs text-muted-foreground uppercase tracking-wide\">Sponsored By</span>\r\n            {sponsorAd ? (\r\n              <a href={sponsorAd.link_url || \"#\"} target=\"_blank\" rel=\"noopener noreferrer\" className=\"block hover:opacity-80 transition-opacity\">\r\n                <img src={sponsorAd.image_url} alt={sponsorAd.alt_text || sponsorAd.name} className=\"h-14 w-auto max-w-48 object-contain\" />\r\n              </a>\r\n            ) : (\r\n              <div className=\"w-48 h-14 bg-secondary border border-dashed border-border rounded-lg flex items-center justify-center\">\r\n                <span className=\"text-xs text-muted-foreground\">Your Logo Here</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <MobileMenuButton />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAcO,SAAS,OAAO,KAA0B;QAA1B,EAAE,SAAS,EAAe,GAA1B;IACrB,qBACE,iNAAC;QAAI,WAAU;kBACb,cAAA,iNAAC;YAAI,WAAU;sBACb,cAAA,iNAAC;gBAAI,WAAU;;kCACb,iNAAC,8LAAI;wBAAC,MAAK;kCACT,cAAA,iNAAC;4BACC,KAAK,yWAAY;4BACjB,KAAI;4BACJ,WAAU;;;;;;;;;;;kCAId,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;gCAAK,WAAU;0CAAwD;;;;;;4BACvE,0BACC,iNAAC;gCAAE,MAAM,UAAU,QAAQ,IAAI;gCAAK,QAAO;gCAAS,KAAI;gCAAsB,WAAU;0CACtF,cAAA,iNAAC;oCAAI,KAAK,UAAU,SAAS;oCAAE,KAAK,UAAU,QAAQ,IAAI,UAAU,IAAI;oCAAE,WAAU;;;;;;;;;;qDAGtF,iNAAC;gCAAI,WAAU;0CACb,cAAA,iNAAC;oCAAK,WAAU;8CAAgC;;;;;;;;;;;;;;;;;kCAKtD,iNAAC,2LAAgB;;;;;;;;;;;;;;;;;;;;;AAK3B;KA/BgB","debugId":null}},
    {"offset": {"line": 704, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/NavLink.tsx"],"sourcesContent":["'use client';\n\nimport { forwardRef } from \"react\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { cn } from \"@/lib/utils\";\n\ninterface NavLinkProps extends Omit<React.ComponentPropsWithoutRef<typeof Link>, 'href'> {\n  className?: string;\n  activeClassName?: string;\n  href?: string;\n  to?: string; // Legacy React Router prop\n}\n\nconst NavLink = forwardRef<HTMLAnchorElement, NavLinkProps>(\n  ({ className, activeClassName, href, to, ...props }, ref) => {\n    const pathname = usePathname();\n    const linkHref = href || to || '/'; // Use href or to, fallback to '/'\n    const isActive = pathname === linkHref || pathname?.startsWith(linkHref + '/');\n    \n    return (\n      <Link\n        ref={ref}\n        href={linkHref}\n        className={cn(className, isActive && activeClassName)}\n        {...props}\n      />\n    );\n  },\n);\n\nNavLink.displayName = \"NavLink\";\n\nexport { NavLink };"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAcA,MAAM,wBAAU,GAAA,IAAA,+LAAU,UACxB,QAAqD;QAApD,EAAE,SAAS,EAAE,eAAe,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,OAAO;;IACjD,MAAM,WAAW,IAAA,wKAAW;IAC5B,MAAM,WAAW,QAAQ,MAAM,KAAK,kCAAkC;IACtE,MAAM,WAAW,aAAa,aAAY,qBAAA,+BAAA,SAAU,UAAU,CAAC,WAAW;IAE1E,qBACE,iNAAC,8LAAI;QACH,KAAK;QACL,MAAM;QACN,WAAW,IAAA,gJAAE,EAAC,WAAW,YAAY;QACpC,GAAG,KAAK;;;;;;AAGf;;QAZmB,wKAAW;;;;QAAX,wKAAW;;;;AAehC,QAAQ,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 758, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/header/NavBar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Heart, ChevronRight } from \"lucide-react\";\r\nimport { NavLink } from \"@/components/NavLink\";\r\nimport { useFavourites } from \"@/hooks/useFavourites\";\r\nimport { ReactNode } from \"react\";\r\n\r\nconst navItems = [\r\n  { label: \"HOME\", to: \"/\" },\r\n  { label: \"CATEGORIES\", to: \"/categories\" },\r\n];\r\n\r\nexport interface BreadcrumbItem {\r\n  label: string;\r\n  to?: string;\r\n}\r\n\r\ninterface NavBarProps {\r\n  breadcrumbs?: BreadcrumbItem[];\r\n  rightContent?: ReactNode;\r\n  customNavContent?: ReactNode;\r\n}\r\n\r\nexport function NavBar({ breadcrumbs, rightContent, customNavContent }: NavBarProps) {\r\n  const { count: favouritesCount } = useFavourites();\r\n\r\n  const showBreadcrumbs = breadcrumbs && breadcrumbs.length > 0;\r\n  const showCustomNav = !!customNavContent;\r\n\r\n  return (\r\n    <nav className=\"hidden md:block bg-secondary/50\">\r\n      <div className=\"container\">\r\n        <div className=\"flex items-center justify-between py-2\">\r\n          <div className=\"flex items-center justify-between w-full\">\r\n            {showCustomNav ? (\r\n              <div className=\"flex items-center gap-1.5 text-xs lg:text-sm min-w-0 overflow-hidden\">\r\n                {customNavContent}\r\n              </div>\r\n            ) : showBreadcrumbs ? (\r\n              <div className=\"flex items-center gap-1 lg:gap-1.5 text-xs lg:text-sm text-muted-foreground min-w-0 overflow-hidden\">\r\n                {breadcrumbs.map((crumb, index) => {\r\n                  const isFirst = index === 0;\r\n                  const isLast = index === breadcrumbs.length - 1;\r\n                  const isSecondLast = index === breadcrumbs.length - 2;\r\n                  const totalItems = breadcrumbs.length;\r\n\r\n                  const isMiddleItem = !isFirst && !isLast && !isSecondLast;\r\n                  const shouldHideOnMobile = isMiddleItem && totalItems > 3;\r\n                  const showEllipsis = isSecondLast && totalItems > 3;\r\n\r\n                  return (\r\n                    <div\r\n                      key={index}\r\n                      className={`flex items-center gap-1 lg:gap-1.5 min-w-0 ${shouldHideOnMobile ? \"hidden lg:flex\" : \"\"}`}\r\n                    >\r\n                      {index > 0 && (\r\n                        <ChevronRight\r\n                          className={`h-3 w-3 lg:h-4 lg:w-4 flex-shrink-0 ${shouldHideOnMobile ? \"hidden lg:block\" : \"\"}`}\r\n                        />\r\n                      )}\r\n                      {showEllipsis && (\r\n                        <span className=\"lg:hidden flex items-center gap-1\">\r\n                          <span>...</span>\r\n                          <ChevronRight className=\"h-3 w-3 flex-shrink-0\" />\r\n                        </span>\r\n                      )}\r\n                      {crumb.to ? (\r\n                        <Link\r\n                          href={crumb.to}\r\n                          className=\"hover:text-primary transition-colors whitespace-nowrap max-w-[120px] lg:max-w-[200px] truncate\"\r\n                        >\r\n                          {crumb.label}\r\n                        </Link>\r\n                      ) : (\r\n                        <span className=\"text-foreground truncate max-w-[150px] lg:max-w-[250px]\">{crumb.label}</span>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            ) : (\r\n              <div className=\"flex items-center\">\r\n                {navItems.map((item, index) => (\r\n                  <div key={item.to} className=\"flex items-center\">\r\n                    <NavLink\r\n                      to={item.to}\r\n                      className=\"text-xs lg:text-sm font-medium text-muted-foreground hover:text-primary transition-colors px-2 lg:px-3 py-1 whitespace-nowrap\"\r\n                      activeClassName=\"text-primary\"\r\n                    >\r\n                      {item.label}\r\n                    </NavLink>\r\n                    {index < navItems.length - 1 && <span className=\"text-border\">|</span>}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {/* Right side: optional content + Favourites */}\r\n            <div className=\"flex items-center gap-2 lg:gap-3\">\r\n              {rightContent}\r\n              <NavLink\r\n                to=\"/favourites\"\r\n                className=\"text-xs lg:text-sm font-medium text-muted-foreground hover:text-primary transition-colors px-2 lg:px-3 py-1 flex items-center gap-1 lg:gap-1.5 whitespace-nowrap\"\r\n                activeClassName=\"text-primary\"\r\n              >\r\n                <Heart className=\"h-4 w-4\" />\r\n                FAVOURITES\r\n                {favouritesCount > 0 && (\r\n                  <span className=\"bg-primary text-primary-foreground text-xs px-1.5 py-0.5 rounded-full\">\r\n                    {favouritesCount}\r\n                  </span>\r\n                )}\r\n              </NavLink>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AAEA;AAAA;AACA;AACA;;;AANA;;;;;AASA,MAAM,WAAW;IACf;QAAE,OAAO;QAAQ,IAAI;IAAI;IACzB;QAAE,OAAO;QAAc,IAAI;IAAc;CAC1C;AAaM,SAAS,OAAO,KAA4D;QAA5D,EAAE,WAAW,EAAE,YAAY,EAAE,gBAAgB,EAAe,GAA5D;;IACrB,MAAM,EAAE,OAAO,eAAe,EAAE,GAAG,IAAA,qKAAa;IAEhD,MAAM,kBAAkB,eAAe,YAAY,MAAM,GAAG;IAC5D,MAAM,gBAAgB,CAAC,CAAC;IAExB,qBACE,iNAAC;QAAI,WAAU;kBACb,cAAA,iNAAC;YAAI,WAAU;sBACb,cAAA,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAI,WAAU;;wBACZ,8BACC,iNAAC;4BAAI,WAAU;sCACZ;;;;;mCAED,gCACF,iNAAC;4BAAI,WAAU;sCACZ,YAAY,GAAG,CAAC,CAAC,OAAO;gCACvB,MAAM,UAAU,UAAU;gCAC1B,MAAM,SAAS,UAAU,YAAY,MAAM,GAAG;gCAC9C,MAAM,eAAe,UAAU,YAAY,MAAM,GAAG;gCACpD,MAAM,aAAa,YAAY,MAAM;gCAErC,MAAM,eAAe,CAAC,WAAW,CAAC,UAAU,CAAC;gCAC7C,MAAM,qBAAqB,gBAAgB,aAAa;gCACxD,MAAM,eAAe,gBAAgB,aAAa;gCAElD,qBACE,iNAAC;oCAEC,WAAW,AAAC,8CAAwF,OAA3C,qBAAqB,mBAAmB;;wCAEhG,QAAQ,mBACP,iNAAC,6PAAY;4CACX,WAAW,AAAC,uCAAkF,OAA5C,qBAAqB,oBAAoB;;;;;;wCAG9F,8BACC,iNAAC;4CAAK,WAAU;;8DACd,iNAAC;8DAAK;;;;;;8DACN,iNAAC,6PAAY;oDAAC,WAAU;;;;;;;;;;;;wCAG3B,MAAM,EAAE,iBACP,iNAAC,8LAAI;4CACH,MAAM,MAAM,EAAE;4CACd,WAAU;sDAET,MAAM,KAAK;;;;;iEAGd,iNAAC;4CAAK,WAAU;sDAA2D,MAAM,KAAK;;;;;;;mCAtBnF;;;;;4BA0BX;;;;;iDAGF,iNAAC;4BAAI,WAAU;sCACZ,SAAS,GAAG,CAAC,CAAC,MAAM,sBACnB,iNAAC;oCAAkB,WAAU;;sDAC3B,iNAAC,+JAAO;4CACN,IAAI,KAAK,EAAE;4CACX,WAAU;4CACV,iBAAgB;sDAEf,KAAK,KAAK;;;;;;wCAEZ,QAAQ,SAAS,MAAM,GAAG,mBAAK,iNAAC;4CAAK,WAAU;sDAAc;;;;;;;mCARtD,KAAK,EAAE;;;;;;;;;;sCAevB,iNAAC;4BAAI,WAAU;;gCACZ;8CACD,iNAAC,+JAAO;oCACN,IAAG;oCACH,WAAU;oCACV,iBAAgB;;sDAEhB,iNAAC,oOAAK;4CAAC,WAAU;;;;;;wCAAY;wCAE5B,kBAAkB,mBACjB,iNAAC;4CAAK,WAAU;sDACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUrB;GAhGgB;;QACqB,qKAAa;;;KADlC","debugId":null}},
    {"offset": {"line": 985, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/integrations/supabase/client.ts"],"sourcesContent":["// This file is automatically generated. Do not edit it directly.\r\n'use client';\r\nimport { createClient } from \"@supabase/supabase-js\";\r\nimport type { Database } from \"./types\";\r\n\r\nconst SUPABASE_URL = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst SUPABASE_PUBLISHABLE_KEY = process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY;\r\n\r\n// Import the supabase client like this:\r\n// import { supabase } from \"@/integrations/supabase/client\";\r\n\r\nexport const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY, {\r\n  auth: {\r\n    storage: typeof window !== 'undefined' ? window.localStorage : undefined,\r\n    persistSession: true,\r\n    autoRefreshToken: true,\r\n    detectSessionInUrl: true,\r\n    flowType: 'pkce',\r\n  },\r\n});\r\n"],"names":[],"mappings":"AAAA,iEAAiE;;;;;AAK5C;AAHrB;AADA;;AAIA,MAAM;AACN,MAAM;AAKC,MAAM,WAAW,IAAA,8MAAY,EAAW,cAAc,0BAA0B;IACrF,MAAM;QACJ,SAAS,uCAAgC,OAAO,YAAY,GAAG;QAC/D,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;QACpB,UAAU;IACZ;AACF","debugId":null}},
    {"offset": {"line": 1012, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useAds.ts"],"sourcesContent":["'use client';\n\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { supabase } from '@/integrations/supabase/client';\r\n\r\nexport interface Ad {\r\n  id: string;\r\n  name: string;\r\n  position: 'sponsor-logo' | 'featured';\r\n  image_url: string;\r\n  link_url: string | null;\r\n  alt_text: string | null;\r\n  is_active: boolean;\r\n  start_date: string | null;\r\n  end_date: string | null;\r\n  target_category_ids: string[];\r\n  target_countries: string[];\r\n  target_pages: string[];\r\n  rotation_interval: number | null;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport const useAds = () => {\r\n  return useQuery({\r\n    queryKey: ['ads'],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from('ads')\r\n        .select('*')\r\n        .order('created_at', { ascending: false });\r\n      \r\n      if (error) throw error;\r\n      return data as Ad[];\r\n    },\r\n  });\r\n};\r\n\r\nexport const useActiveAdsByPosition = (\r\n  position: string, \r\n  categoryId?: string | null, \r\n  country?: string | null\r\n) => {\r\n  return useQuery({\r\n    queryKey: ['active-ads', position, categoryId, country],\r\n    queryFn: async () => {\r\n      const now = new Date().toISOString();\r\n      \r\n      // Build query with targeting priority\r\n      let query = supabase\r\n        .from('ads')\r\n        .select('*')\r\n        .eq('position', position)\r\n        .eq('is_active', true)\r\n        .or(`start_date.is.null,start_date.lte.${now}`)\r\n        .or(`end_date.is.null,end_date.gte.${now}`);\r\n      \r\n      const { data, error } = await query;\r\n      if (error) throw error;\r\n      \r\n      const ads = data as Ad[];\r\n      \r\n      // Helper functions\r\n      const hasTargetCategories = (ad: Ad) => ad.target_category_ids && ad.target_category_ids.length > 0;\r\n      const hasTargetCountries = (ad: Ad) => ad.target_countries && ad.target_countries.length > 0;\r\n      const categoryMatches = (ad: Ad) => categoryId && ad.target_category_ids?.includes(categoryId);\r\n      const countryMatches = (ad: Ad) => country && ad.target_countries?.includes(country);\r\n      \r\n      // Prioritize: exact match > category only > country only > site-wide\r\n      const exactMatch = ads.find(ad => \r\n        categoryMatches(ad) && countryMatches(ad)\r\n      );\r\n      if (exactMatch) return exactMatch;\r\n      \r\n      const categoryMatch = ads.find(ad => \r\n        categoryMatches(ad) && !hasTargetCountries(ad)\r\n      );\r\n      if (categoryMatch) return categoryMatch;\r\n      \r\n      const countryMatch = ads.find(ad => \r\n        !hasTargetCategories(ad) && countryMatches(ad)\r\n      );\r\n      if (countryMatch) return countryMatch;\r\n      \r\n      // Fall back to site-wide ad\r\n      return ads.find(ad => !hasTargetCategories(ad) && !hasTargetCountries(ad));\r\n    },\r\n  });\r\n};\r\n\r\n// New hook for rotating banners - fetches ALL active ads for a position with targeting\r\nexport const useRotatingAds = (\r\n  position: string,\r\n  categoryId?: string | null,\r\n  country?: string | null\r\n) => {\r\n  return useQuery({\r\n    queryKey: ['rotating-ads', position, categoryId, country],\r\n    queryFn: async () => {\r\n      const now = new Date().toISOString();\r\n      \r\n      const { data, error } = await supabase\r\n        .from('ads')\r\n        .select('*')\r\n        .eq('position', position)\r\n        .eq('is_active', true)\r\n        .or(`start_date.is.null,start_date.lte.${now}`)\r\n        .or(`end_date.is.null,end_date.gte.${now}`)\r\n        .order('created_at', { ascending: false });\r\n      \r\n      if (error) throw error;\r\n      \r\n      const ads = data as Ad[];\r\n      \r\n      // Filter ads by targeting with AND logic:\r\n      // - If ad has both categories AND countries: at least one category must match AND country must match\r\n      // - If ad has only categories: at least one category must match (any country)\r\n      // - If ad has only countries: country must match (any category)\r\n      // - If ad has neither: site-wide (always show)\r\n      return ads.filter(ad => {\r\n        const hasCategories = ad.target_category_ids && ad.target_category_ids.length > 0;\r\n        const hasTargetCountries = ad.target_countries && ad.target_countries.length > 0;\r\n        const categoryMatches = categoryId && ad.target_category_ids?.includes(categoryId);\r\n        const countryMatches = country && ad.target_countries?.includes(country);\r\n\r\n        // Site-wide ad (no targeting)\r\n        if (!hasCategories && !hasTargetCountries) return true;\r\n        \r\n        // Both categories and country specified: both must match\r\n        if (hasCategories && hasTargetCountries) {\r\n          return categoryMatches && countryMatches;\r\n        }\r\n        \r\n        // Only categories specified\r\n        if (hasCategories && !hasTargetCountries) {\r\n          return categoryMatches;\r\n        }\r\n        \r\n        // Only countries specified\r\n        if (!hasCategories && hasTargetCountries) {\r\n          return countryMatches;\r\n        }\r\n        \r\n        return false;\r\n      });\r\n    },\r\n  });\r\n};\r\n\r\n// New hook for featured ads with category, page, parent category priority and country filtering\r\nexport const useFeaturedAds = (categoryId?: string, pageId?: string, parentCategoryId?: string, country?: string) => {\r\n  return useQuery({\r\n    queryKey: ['featured-ads', categoryId, pageId, parentCategoryId, country],\r\n    queryFn: async () => {\r\n      const now = new Date().toISOString();\r\n      \r\n      // Fetch all featured ads\r\n      const { data, error } = await supabase\r\n        .from('ads')\r\n        .select('*')\r\n        .eq('position', 'featured')\r\n        .eq('is_active', true)\r\n        .or(`start_date.is.null,start_date.lte.${now}`)\r\n        .or(`end_date.is.null,end_date.gte.${now}`);\r\n      \r\n      if (error) throw error;\r\n      \r\n      const ads = data as Ad[];\r\n      \r\n      // Filter by country if ad has country targeting\r\n      const filterByCountry = (adsToFilter: Ad[]) => {\r\n        return adsToFilter.filter(ad => {\r\n          // If ad has no country targeting, it shows everywhere\r\n          if (!ad.target_countries || ad.target_countries.length === 0) return true;\r\n          // If ad has country targeting, only show if current country matches\r\n          return country && ad.target_countries.includes(country);\r\n        });\r\n      };\r\n      \r\n      // Site-wide ads (no category, no page targeting)\r\n      const siteWideAds = ads.filter(ad => \r\n        (!ad.target_category_ids || ad.target_category_ids.length === 0) &&\r\n        (!ad.target_pages || ad.target_pages.length === 0)\r\n      );\r\n      \r\n      // Page-specific ads\r\n      const pageAds = pageId \r\n        ? ads.filter(ad => ad.target_pages?.includes(pageId))\r\n        : [];\r\n      \r\n      // Exact match ads: category AND country both specified and matching\r\n      const exactMatchAds = categoryId && country\r\n        ? ads.filter(ad => \r\n            ad.target_category_ids?.includes(categoryId) && \r\n            ad.target_countries?.includes(country)\r\n          )\r\n        : [];\r\n      \r\n      // Category-only ads: category matches but NO country targeting\r\n      const categoryOnlyAds = categoryId \r\n        ? ads.filter(ad => \r\n            ad.target_category_ids?.includes(categoryId) &&\r\n            (!ad.target_countries || ad.target_countries.length === 0)\r\n          )\r\n        : [];\r\n      \r\n      // Child category ads (for parent pages) - fetch child category IDs\r\n      let childCategoryAds: Ad[] = [];\r\n      if (parentCategoryId) {\r\n        const { data: childCategories } = await supabase\r\n          .from('categories')\r\n          .select('id')\r\n          .eq('parent_id', parentCategoryId);\r\n        \r\n        const childIds = childCategories?.map(c => c.id) || [];\r\n        childCategoryAds = ads.filter(ad => \r\n          ad.target_category_ids?.some(catId => childIds.includes(catId))\r\n        );\r\n      }\r\n      \r\n      // Apply country filter to page, child, and site-wide ads\r\n      return {\r\n        exactMatchAds,  // Already filtered by category + country\r\n        categoryOnlyAds, // No country targeting, so no filter needed\r\n        pageAds: filterByCountry(pageAds),\r\n        childCategoryAds: filterByCountry(childCategoryAds),\r\n        siteWideAds: filterByCountry(siteWideAds),\r\n      };\r\n    },\r\n  });\r\n};\r\n\r\nexport const useCreateAd = () => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: async (ad: Omit<Ad, 'id' | 'created_at' | 'updated_at'>) => {\r\n      const { data, error } = await supabase\r\n        .from('ads')\r\n        .insert(ad)\r\n        .select()\r\n        .single();\r\n      \r\n      if (error) throw error;\r\n      return data;\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['ads'] });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useUpdateAd = () => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: async ({ id, ...ad }: Partial<Ad> & { id: string }) => {\r\n      const { data, error } = await supabase\r\n        .from('ads')\r\n        .update(ad)\r\n        .eq('id', id)\r\n        .select()\r\n        .single();\r\n      \r\n      if (error) throw error;\r\n      return data;\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['ads'] });\r\n      queryClient.invalidateQueries({ queryKey: ['active-ads'] });\r\n      queryClient.invalidateQueries({ queryKey: ['rotating-ads'] });\r\n      queryClient.invalidateQueries({ queryKey: ['featured-ads'] });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useDeleteAd = () => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: async (id: string) => {\r\n      const { error } = await supabase\r\n        .from('ads')\r\n        .delete()\r\n        .eq('id', id);\r\n      \r\n      if (error) throw error;\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['ads'] });\r\n      queryClient.invalidateQueries({ queryKey: ['active-ads'] });\r\n      queryClient.invalidateQueries({ queryKey: ['rotating-ads'] });\r\n      queryClient.invalidateQueries({ queryKey: ['featured-ads'] });\r\n    },\r\n  });\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAEA;AAAA;AAAA;AACA;;AAHA;;;AAuBO,MAAM,SAAS;;IACpB,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;SAAM;QACjB,OAAO;+BAAE;gBACP,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4KAAQ,CACnC,IAAI,CAAC,OACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAM;gBAE1C,IAAI,OAAO,MAAM;gBACjB,OAAO;YACT;;IACF;AACF;GAba;;QACJ,8MAAQ;;;AAcV,MAAM,yBAAyB,CACpC,UACA,YACA;;IAEA,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;YAAc;YAAU;YAAY;SAAQ;QACvD,OAAO;+CAAE;gBACP,MAAM,MAAM,IAAI,OAAO,WAAW;gBAElC,sCAAsC;gBACtC,IAAI,QAAQ,4KAAQ,CACjB,IAAI,CAAC,OACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAY,UACf,EAAE,CAAC,aAAa,MAChB,EAAE,CAAC,AAAC,qCAAwC,OAAJ,MACxC,EAAE,CAAC,AAAC,iCAAoC,OAAJ;gBAEvC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM;gBAC9B,IAAI,OAAO,MAAM;gBAEjB,MAAM,MAAM;gBAEZ,mBAAmB;gBACnB,MAAM;2EAAsB,CAAC,KAAW,GAAG,mBAAmB,IAAI,GAAG,mBAAmB,CAAC,MAAM,GAAG;;gBAClG,MAAM;0EAAqB,CAAC,KAAW,GAAG,gBAAgB,IAAI,GAAG,gBAAgB,CAAC,MAAM,GAAG;;gBAC3F,MAAM;uEAAkB,CAAC;4BAAyB;+BAAd,gBAAc,0BAAA,GAAG,mBAAmB,cAAtB,8CAAA,wBAAwB,QAAQ,CAAC;;;gBACnF,MAAM;sEAAiB,CAAC;4BAAsB;+BAAX,aAAW,uBAAA,GAAG,gBAAgB,cAAnB,2CAAA,qBAAqB,QAAQ,CAAC;;;gBAE5E,qEAAqE;gBACrE,MAAM,aAAa,IAAI,IAAI;kEAAC,CAAA,KAC1B,gBAAgB,OAAO,eAAe;;gBAExC,IAAI,YAAY,OAAO;gBAEvB,MAAM,gBAAgB,IAAI,IAAI;qEAAC,CAAA,KAC7B,gBAAgB,OAAO,CAAC,mBAAmB;;gBAE7C,IAAI,eAAe,OAAO;gBAE1B,MAAM,eAAe,IAAI,IAAI;oEAAC,CAAA,KAC5B,CAAC,oBAAoB,OAAO,eAAe;;gBAE7C,IAAI,cAAc,OAAO;gBAEzB,4BAA4B;gBAC5B,OAAO,IAAI,IAAI;uDAAC,CAAA,KAAM,CAAC,oBAAoB,OAAO,CAAC,mBAAmB;;YACxE;;IACF;AACF;IAlDa;;QAKJ,8MAAQ;;;AAgDV,MAAM,iBAAiB,CAC5B,UACA,YACA;;IAEA,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;YAAgB;YAAU;YAAY;SAAQ;QACzD,OAAO;uCAAE;gBACP,MAAM,MAAM,IAAI,OAAO,WAAW;gBAElC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4KAAQ,CACnC,IAAI,CAAC,OACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAY,UACf,EAAE,CAAC,aAAa,MAChB,EAAE,CAAC,AAAC,qCAAwC,OAAJ,MACxC,EAAE,CAAC,AAAC,iCAAoC,OAAJ,MACpC,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAM;gBAE1C,IAAI,OAAO,MAAM;gBAEjB,MAAM,MAAM;gBAEZ,0CAA0C;gBAC1C,qGAAqG;gBACrG,8EAA8E;gBAC9E,gEAAgE;gBAChE,+CAA+C;gBAC/C,OAAO,IAAI,MAAM;+CAAC,CAAA;4BAGsB,yBACJ;wBAHlC,MAAM,gBAAgB,GAAG,mBAAmB,IAAI,GAAG,mBAAmB,CAAC,MAAM,GAAG;wBAChF,MAAM,qBAAqB,GAAG,gBAAgB,IAAI,GAAG,gBAAgB,CAAC,MAAM,GAAG;wBAC/E,MAAM,kBAAkB,gBAAc,0BAAA,GAAG,mBAAmB,cAAtB,8CAAA,wBAAwB,QAAQ,CAAC;wBACvE,MAAM,iBAAiB,aAAW,uBAAA,GAAG,gBAAgB,cAAnB,2CAAA,qBAAqB,QAAQ,CAAC;wBAEhE,8BAA8B;wBAC9B,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,OAAO;wBAElD,yDAAyD;wBACzD,IAAI,iBAAiB,oBAAoB;4BACvC,OAAO,mBAAmB;wBAC5B;wBAEA,4BAA4B;wBAC5B,IAAI,iBAAiB,CAAC,oBAAoB;4BACxC,OAAO;wBACT;wBAEA,2BAA2B;wBAC3B,IAAI,CAAC,iBAAiB,oBAAoB;4BACxC,OAAO;wBACT;wBAEA,OAAO;oBACT;;YACF;;IACF;AACF;IAxDa;;QAKJ,8MAAQ;;;AAsDV,MAAM,iBAAiB,CAAC,YAAqB,QAAiB,kBAA2B;;IAC9F,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;YAAgB;YAAY;YAAQ;YAAkB;SAAQ;QACzE,OAAO;uCAAE;gBACP,MAAM,MAAM,IAAI,OAAO,WAAW;gBAElC,yBAAyB;gBACzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4KAAQ,CACnC,IAAI,CAAC,OACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAY,YACf,EAAE,CAAC,aAAa,MAChB,EAAE,CAAC,AAAC,qCAAwC,OAAJ,MACxC,EAAE,CAAC,AAAC,iCAAoC,OAAJ;gBAEvC,IAAI,OAAO,MAAM;gBAEjB,MAAM,MAAM;gBAEZ,gDAAgD;gBAChD,MAAM;+DAAkB,CAAC;wBACvB,OAAO,YAAY,MAAM;uEAAC,CAAA;gCACxB,sDAAsD;gCACtD,IAAI,CAAC,GAAG,gBAAgB,IAAI,GAAG,gBAAgB,CAAC,MAAM,KAAK,GAAG,OAAO;gCACrE,oEAAoE;gCACpE,OAAO,WAAW,GAAG,gBAAgB,CAAC,QAAQ,CAAC;4BACjD;;oBACF;;gBAEA,iDAAiD;gBACjD,MAAM,cAAc,IAAI,MAAM;2DAAC,CAAA,KAC7B,CAAC,CAAC,GAAG,mBAAmB,IAAI,GAAG,mBAAmB,CAAC,MAAM,KAAK,CAAC,KAC/D,CAAC,CAAC,GAAG,YAAY,IAAI,GAAG,YAAY,CAAC,MAAM,KAAK,CAAC;;gBAGnD,oBAAoB;gBACpB,MAAM,UAAU,SACZ,IAAI,MAAM;+CAAC,CAAA;4BAAM;gCAAA,mBAAA,GAAG,YAAY,cAAf,uCAAA,iBAAiB,QAAQ,CAAC;;gDAC3C,EAAE;gBAEN,oEAAoE;gBACpE,MAAM,gBAAgB,cAAc,UAChC,IAAI,MAAM;+CAAC,CAAA;4BACT,yBACA;+BADA,EAAA,0BAAA,GAAG,mBAAmB,cAAtB,8CAAA,wBAAwB,QAAQ,CAAC,kBACjC,uBAAA,GAAG,gBAAgB,cAAnB,2CAAA,qBAAqB,QAAQ,CAAC;;gDAEhC,EAAE;gBAEN,+DAA+D;gBAC/D,MAAM,kBAAkB,aACpB,IAAI,MAAM;+CAAC,CAAA;4BACT;+BAAA,EAAA,0BAAA,GAAG,mBAAmB,cAAtB,8CAAA,wBAAwB,QAAQ,CAAC,gBACjC,CAAC,CAAC,GAAG,gBAAgB,IAAI,GAAG,gBAAgB,CAAC,MAAM,KAAK,CAAC;;gDAE3D,EAAE;gBAEN,mEAAmE;gBACnE,IAAI,mBAAyB,EAAE;gBAC/B,IAAI,kBAAkB;oBACpB,MAAM,EAAE,MAAM,eAAe,EAAE,GAAG,MAAM,4KAAQ,CAC7C,IAAI,CAAC,cACL,MAAM,CAAC,MACP,EAAE,CAAC,aAAa;oBAEnB,MAAM,WAAW,CAAA,4BAAA,sCAAA,gBAAiB,GAAG;mDAAC,CAAA,IAAK,EAAE,EAAE;sDAAK,EAAE;oBACtD,mBAAmB,IAAI,MAAM;mDAAC,CAAA;gCAC5B;oCAAA,0BAAA,GAAG,mBAAmB,cAAtB,8CAAA,wBAAwB,IAAI;2DAAC,CAAA,QAAS,SAAS,QAAQ,CAAC;;;;gBAE5D;gBAEA,yDAAyD;gBACzD,OAAO;oBACL;oBACA;oBACA,SAAS,gBAAgB;oBACzB,kBAAkB,gBAAgB;oBAClC,aAAa,gBAAgB;gBAC/B;YACF;;IACF;AACF;IAhFa;;QACJ,8MAAQ;;;AAiFV,MAAM,cAAc;;IACzB,MAAM,cAAc,IAAA,+NAAc;IAElC,OAAO,IAAA,oNAAW,EAAC;QACjB,UAAU;uCAAE,OAAO;gBACjB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4KAAQ,CACnC,IAAI,CAAC,OACL,MAAM,CAAC,IACP,MAAM,GACN,MAAM;gBAET,IAAI,OAAO,MAAM;gBACjB,OAAO;YACT;;QACA,SAAS;uCAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAM;gBAAC;YACpD;;IACF;AACF;IAlBa;;QACS,+NAAc;QAE3B,oNAAW;;;AAiBb,MAAM,cAAc;;IACzB,MAAM,cAAc,IAAA,+NAAc;IAElC,OAAO,IAAA,oNAAW,EAAC;QACjB,UAAU;uCAAE;oBAAO,EAAE,EAAE,EAAE,GAAG,IAAkC;gBAC5D,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4KAAQ,CACnC,IAAI,CAAC,OACL,MAAM,CAAC,IACP,EAAE,CAAC,MAAM,IACT,MAAM,GACN,MAAM;gBAET,IAAI,OAAO,MAAM;gBACjB,OAAO;YACT;;QACA,SAAS;uCAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAM;gBAAC;gBAClD,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAa;gBAAC;gBACzD,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAe;gBAAC;gBAC3D,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAe;gBAAC;YAC7D;;IACF;AACF;IAtBa;;QACS,+NAAc;QAE3B,oNAAW;;;AAqBb,MAAM,cAAc;;IACzB,MAAM,cAAc,IAAA,+NAAc;IAElC,OAAO,IAAA,oNAAW,EAAC;QACjB,UAAU;uCAAE,OAAO;gBACjB,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,4KAAQ,CAC7B,IAAI,CAAC,OACL,MAAM,GACN,EAAE,CAAC,MAAM;gBAEZ,IAAI,OAAO,MAAM;YACnB;;QACA,SAAS;uCAAE;gBACT,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAM;gBAAC;gBAClD,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAa;gBAAC;gBACzD,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAe;gBAAC;gBAC3D,YAAY,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAAe;gBAAC;YAC7D;;IACF;AACF;IAnBa;;QACS,+NAAc;QAE3B,oNAAW","debugId":null}},
    {"offset": {"line": 1384, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/Header.tsx"],"sourcesContent":["'use client';\n\nimport { TopBar } from './header/TopBar';\nimport { NavBar, BreadcrumbItem } from './header/NavBar';\nimport { useActiveAdsByPosition } from '@/hooks/useAds';\nimport { ReactNode } from 'react';\n\ninterface HeaderProps {\n  breadcrumbs?: BreadcrumbItem[];\n  rightContent?: ReactNode;\n  customNavContent?: ReactNode;\n}\n\nexport function Header({ breadcrumbs, rightContent, customNavContent }: HeaderProps) {\n  const { data: sponsorAd } = useActiveAdsByPosition(\"sponsor-logo\");\n\n  return (\n    <header className=\"sticky top-0 z-50 w-full bg-background/95 backdrop-blur-sm border-b border-border\">\n      <TopBar sponsorAd={sponsorAd || null} />\n      <NavBar breadcrumbs={breadcrumbs} rightContent={rightContent} customNavContent={customNavContent} />\n    </header>\n  );\n}\n\nexport type { BreadcrumbItem };"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAaO,SAAS,OAAO,KAA4D;QAA5D,EAAE,WAAW,EAAE,YAAY,EAAE,gBAAgB,EAAe,GAA5D;;IACrB,MAAM,EAAE,MAAM,SAAS,EAAE,GAAG,IAAA,uKAAsB,EAAC;IAEnD,qBACE,iNAAC;QAAO,WAAU;;0BAChB,iNAAC,uKAAM;gBAAC,WAAW,aAAa;;;;;;0BAChC,iNAAC,uKAAM;gBAAC,aAAa;gBAAa,cAAc;gBAAc,kBAAkB;;;;;;;;;;;;AAGtF;GATgB;;QACc,uKAAsB;;;KADpC","debugId":null}},
    {"offset": {"line": 1443, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/Footer.tsx"],"sourcesContent":["import Link from 'next/link';\n\nconst categories = [\n  { name: \"Live Event Services\", slug: \"/live-event-services\" },\n  { name: \"The Business\", slug: \"/the-business\" },\n  { name: \"Venues\", slug: \"/venues\" },\n  { name: \"Equipment\", slug: \"/equipment\" },\n  { name: \"Studios\", slug: \"/studios\" },\n  { name: \"UK Recording Services\", slug: \"/uk-recording-services\" },\n];\n\nconst quickLinks = [\n  { name: \"Home\", slug: \"/\" },\n  { name: \"Categories\", slug: \"/categories\" },\n  { name: \"About Us\", slug: \"/about\" },\n  { name: \"Promote\", slug: \"/promote\" },\n  { name: \"Get Listed\", slug: \"/get-listed\" },\n  { name: \"Contact\", slug: \"/contact\" },\n];\n\nexport function Footer() {\n  return (\n    <footer className=\"bg-card mt-auto\">\n      {/* Gradient accent line at top */}\n      <div className=\"h-px gradient-brand\" />\n      {/* Main Footer */}\n      <div className=\"container pt-8 pb-5\">\n        {/* Desktop: 3 columns in one row (xl and up) */}\n        <div className=\"hidden xl:grid xl:grid-cols-3 gap-6\">\n          {/* Categories */}\n          <div>\n            <h3 className=\"font-semibold mb-2 text-foreground text-sm\">Categories</h3>\n            <ul className=\"space-y-1 text-xs text-muted-foreground\">\n              {categories.map((category) => (\n                <li key={category.slug}>\n                  <Link href={category.slug} className=\"hover:text-primary transition-colors\">\n                    {category.name}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Quick Links */}\n          <div>\n            <h3 className=\"font-semibold mb-2 text-foreground text-sm\">Quick Links</h3>\n            <ul className=\"space-y-1 text-xs text-muted-foreground\">\n              {quickLinks.map((link) => (\n                <li key={link.slug}>\n                  <Link href={link.slug} className=\"hover:text-primary transition-colors\">\n                    {link.name}\n                  </Link>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Contact */}\n          <div>\n            <h3 className=\"font-semibold mb-2 text-foreground text-sm\">Contact</h3>\n            <ul className=\"space-y-1 text-xs text-muted-foreground\">\n              <li>info@entourage-pro.com</li>\n              <li>United Kingdom</li>\n            </ul>\n          </div>\n        </div>\n\n        {/* Tablet/Mobile: 3 columns (below xl) */}\n        <div className=\"xl:hidden\">\n          <div className=\"grid grid-cols-3 gap-4\">\n            {/* Categories */}\n            <div>\n              <h3 className=\"font-semibold mb-1.5 text-foreground text-xs sm:text-sm\">Categories</h3>\n              <ul className=\"space-y-1 text-xs text-muted-foreground\">\n                {categories.map((category) => (\n                  <li key={category.slug}>\n                    <Link href={category.slug} className=\"hover:text-primary transition-colors\">\n                      {category.name}\n                    </Link>\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            {/* Quick Links */}\n            <div>\n              <h3 className=\"font-semibold mb-1.5 text-foreground text-xs sm:text-sm\">Quick Links</h3>\n              <ul className=\"space-y-1 text-xs text-muted-foreground\">\n                {quickLinks.map((link) => (\n                  <li key={link.slug}>\n                    <Link href={link.slug} className=\"hover:text-primary transition-colors\">\n                      {link.name}\n                    </Link>\n                  </li>\n                ))}\n              </ul>\n            </div>\n\n            {/* Contact */}\n            <div>\n              <h3 className=\"font-semibold mb-1.5 text-foreground text-xs sm:text-sm\">Contact</h3>\n              <ul className=\"space-y-1 text-xs text-muted-foreground\">\n                <li>info@entourage-pro.com</li>\n                <li>United Kingdom</li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* Copyright Bar */}\n      <div className=\"border-t border-border bg-background/50\">\n        <div className=\"container py-3\">\n          <p className=\"text-xs text-muted-foreground mb-1\">\n             2025 Showcase Music. All rights reserved.\n          </p>\n          <p className=\"text-[10px] text-muted-foreground/50 max-w-5xl leading-relaxed\">\n            No part of this website may be reproduced in any material form, by any means, whether graphic, electronic, mechanical or other, including information storage and retrieval systems, without the written permission of the publisher and where necessary any relevant other copyright owner. This website in whole or in part may not be used to prepare or compile other directories or mailing lists without written permission from the publisher. Measures have been adopted during preparation of this publication which will assist the publisher to protect its copyright. Any unauthorised use of this data will result in immediate legal proceedings. The greatest care has been taken to ensure accuracy but the publisher can accept no responsibility for errors or omissions nor for any liability occasioned by relying on its content.\n          </p>\n        </div>\n      </div>\n    </footer>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,aAAa;IACjB;QAAE,MAAM;QAAuB,MAAM;IAAuB;IAC5D;QAAE,MAAM;QAAgB,MAAM;IAAgB;IAC9C;QAAE,MAAM;QAAU,MAAM;IAAU;IAClC;QAAE,MAAM;QAAa,MAAM;IAAa;IACxC;QAAE,MAAM;QAAW,MAAM;IAAW;IACpC;QAAE,MAAM;QAAyB,MAAM;IAAyB;CACjE;AAED,MAAM,aAAa;IACjB;QAAE,MAAM;QAAQ,MAAM;IAAI;IAC1B;QAAE,MAAM;QAAc,MAAM;IAAc;IAC1C;QAAE,MAAM;QAAY,MAAM;IAAS;IACnC;QAAE,MAAM;QAAW,MAAM;IAAW;IACpC;QAAE,MAAM;QAAc,MAAM;IAAc;IAC1C;QAAE,MAAM;QAAW,MAAM;IAAW;CACrC;AAEM,SAAS;IACd,qBACE,iNAAC;QAAO,WAAU;;0BAEhB,iNAAC;gBAAI,WAAU;;;;;;0BAEf,iNAAC;gBAAI,WAAU;;kCAEb,iNAAC;wBAAI,WAAU;;0CAEb,iNAAC;;kDACC,iNAAC;wCAAG,WAAU;kDAA6C;;;;;;kDAC3D,iNAAC;wCAAG,WAAU;kDACX,WAAW,GAAG,CAAC,CAAC,yBACf,iNAAC;0DACC,cAAA,iNAAC,8LAAI;oDAAC,MAAM,SAAS,IAAI;oDAAE,WAAU;8DAClC,SAAS,IAAI;;;;;;+CAFT,SAAS,IAAI;;;;;;;;;;;;;;;;0CAU5B,iNAAC;;kDACC,iNAAC;wCAAG,WAAU;kDAA6C;;;;;;kDAC3D,iNAAC;wCAAG,WAAU;kDACX,WAAW,GAAG,CAAC,CAAC,qBACf,iNAAC;0DACC,cAAA,iNAAC,8LAAI;oDAAC,MAAM,KAAK,IAAI;oDAAE,WAAU;8DAC9B,KAAK,IAAI;;;;;;+CAFL,KAAK,IAAI;;;;;;;;;;;;;;;;0CAUxB,iNAAC;;kDACC,iNAAC;wCAAG,WAAU;kDAA6C;;;;;;kDAC3D,iNAAC;wCAAG,WAAU;;0DACZ,iNAAC;0DAAG;;;;;;0DACJ,iNAAC;0DAAG;;;;;;;;;;;;;;;;;;;;;;;;kCAMV,iNAAC;wBAAI,WAAU;kCACb,cAAA,iNAAC;4BAAI,WAAU;;8CAEb,iNAAC;;sDACC,iNAAC;4CAAG,WAAU;sDAA0D;;;;;;sDACxE,iNAAC;4CAAG,WAAU;sDACX,WAAW,GAAG,CAAC,CAAC,yBACf,iNAAC;8DACC,cAAA,iNAAC,8LAAI;wDAAC,MAAM,SAAS,IAAI;wDAAE,WAAU;kEAClC,SAAS,IAAI;;;;;;mDAFT,SAAS,IAAI;;;;;;;;;;;;;;;;8CAU5B,iNAAC;;sDACC,iNAAC;4CAAG,WAAU;sDAA0D;;;;;;sDACxE,iNAAC;4CAAG,WAAU;sDACX,WAAW,GAAG,CAAC,CAAC,qBACf,iNAAC;8DACC,cAAA,iNAAC,8LAAI;wDAAC,MAAM,KAAK,IAAI;wDAAE,WAAU;kEAC9B,KAAK,IAAI;;;;;;mDAFL,KAAK,IAAI;;;;;;;;;;;;;;;;8CAUxB,iNAAC;;sDACC,iNAAC;4CAAG,WAAU;sDAA0D;;;;;;sDACxE,iNAAC;4CAAG,WAAU;;8DACZ,iNAAC;8DAAG;;;;;;8DACJ,iNAAC;8DAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOd,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC;oBAAI,WAAU;;sCACb,iNAAC;4BAAE,WAAU;sCAAqC;;;;;;sCAGlD,iNAAC;4BAAE,WAAU;sCAAiE;;;;;;;;;;;;;;;;;;;;;;;AAOxF;KAtGgB","debugId":null}},
    {"offset": {"line": 1827, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useAnalytics.ts"],"sourcesContent":["'use client';\n\nimport { usePathname, useSearchParams } from 'next/navigation';\nimport { useQuery } from '@tanstack/react-query';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useEffect, useRef } from 'react';\n\nconst SUPABASE_URL = process.env.NEXT_PUBLIC_SUPABASE_URL;\n\n// Helper to track events directly to database\nasync function trackEvent(eventType: string, data: Record<string, unknown>) {\n  try {\n    // Map event types to their respective tables\n    const tableMap: Record<string, string> = {\n      'page_view': 'page_views',\n      'category_view': 'category_page_views',\n      'ad_view': 'ad_views',\n      'ad_click': 'ad_clicks',\n      'listing_view': 'listing_views',\n      'link_click': 'listing_link_clicks',\n    };\n\n    const tableName = tableMap[eventType];\n    if (!tableName) {\n      console.warn(`Unknown event type: ${eventType}`);\n      return;\n    }\n\n    console.log('Attempting to insert:', { tableName, data });\n    const { data: result, error } = await supabase.from(tableName).insert(data);\n    \n    if (error) {\n      console.error(`Failed to track ${eventType}:`, {\n        message: error.message,\n        code: error.code,\n        details: error.details,\n        hint: error.hint,\n        tableName: tableName,\n        eventType: eventType\n      });\n    } else {\n      console.log('Successfully tracked:', eventType);\n    }\n  } catch (error) {\n    console.error(`Failed to track ${eventType}:`, {\n      message: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined,\n      eventType: eventType\n    });\n  }\n}\n\n// Track page view\nexport const usePageViewTracking = () => {\n  const pathname = usePathname();\n  const trackedRef = useRef<string | null>(null);\n\n  useEffect(() => {\n    // Don't track admin pages or dashboard-login\n    if (pathname.startsWith('/admin') || pathname.startsWith('/dashboard-login')) {\n      return;\n    }\n\n    // Only track once per page\n    if (trackedRef.current === pathname) {\n      return;\n    }\n\n    trackedRef.current = pathname;\n\n    trackEvent('page_view', {\n      page_url: pathname,\n      referrer: document.referrer || null,\n      user_agent: navigator.userAgent,\n    });\n  }, [pathname]);\n};\n\n// Track category page views\nexport const useCategoryViewTracking = (categoryId: string | null, categoryName: string | null) => {\n  const trackedRef = useRef<string | null>(null);\n\n  useEffect(() => {\n    if (!categoryId || trackedRef.current === categoryId) {\n      return;\n    }\n\n    trackedRef.current = categoryId;\n\n    trackEvent('category_view', {\n      category_id: categoryId,\n      category_name: categoryName,\n    });\n  }, [categoryId, categoryName]);\n};\n\n// Direct tracking function for category page views with location\nexport const trackCategoryPageView = (\n  categoryId: string,\n  categoryName: string,\n  country: string | null = null,\n  city: string | null = null\n) => {\n  trackEvent('category_view', {\n    category_id: categoryId,\n    category_name: categoryName,\n    country: country,\n    city: city,\n  });\n};\n\n// Track ad view\nexport const trackAdView = (adId: string) => {\n  trackEvent('ad_view', { ad_id: adId });\n};\n\n// Track ad click\nexport const trackAdClick = (adId: string, targetUrl: string) => {\n  trackEvent('ad_click', { ad_id: adId, target_url: targetUrl });\n};\n\n// Track listing view\nexport const trackListingView = (listingId: string) => {\n  trackEvent('listing_view', { listing_id: listingId });\n};\n\n// Track link clicks from listing pages\nexport const trackLinkClick = (listingId: string, linkType: string, linkUrl?: string) => {\n  trackEvent('link_click', {\n    listing_id: listingId,\n    link_type: linkType,\n    link_url: linkUrl || null,\n  });\n};\n\n// Fetch analytics data - Page Views (with count)\nexport function usePageViews(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'page-views', startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('page_views')\n        .select('*', { count: 'exact', head: false })\n        .order('viewed_at', { ascending: false })\n        .limit(1000);\n\n      if (startDate) {\n        query = query.gte('viewed_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('viewed_at', endDate);\n      }\n\n      const { data, count, error } = await query;\n      if (error) throw error;\n      return { data: data || [], count: count || 0 };\n    },\n  });\n}\n\n// Fetch analytics data - Category Views (with count)\nexport function useCategoryViews(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'category-views', startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('category_page_views')\n        .select('*', { count: 'exact', head: false })\n        .order('viewed_at', { ascending: false })\n        .limit(1000);\n\n      if (startDate) {\n        query = query.gte('viewed_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('viewed_at', endDate);\n      }\n\n      const { data, count, error } = await query;\n      if (error) throw error;\n      return { data: data || [], count: count || 0 };\n    },\n  });\n}\n\n// Fetch analytics data - Ad Views (with count)\nexport function useAdViews(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'ad-views', startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('ad_views')\n        .select('*', { count: 'exact', head: false })\n        .order('viewed_at', { ascending: false })\n        .limit(1000);\n\n      if (startDate) {\n        query = query.gte('viewed_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('viewed_at', endDate);\n      }\n\n      const { data, count, error } = await query;\n      if (error) throw error;\n      return { data: data || [], count: count || 0 };\n    },\n  });\n}\n\n// Fetch analytics data - Ad Clicks (with count)\nexport function useAdClicks(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'ad-clicks', startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('ad_clicks')\n        .select('*', { count: 'exact', head: false })\n        .order('clicked_at', { ascending: false })\n        .limit(1000);\n\n      if (startDate) {\n        query = query.gte('clicked_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('clicked_at', endDate);\n      }\n\n      const { data, count, error } = await query;\n      if (error) throw error;\n      return { data: data || [], count: count || 0 };\n    },\n  });\n}\n\n// Fetch analytics data - Listing Views (with count)\nexport function useListingViews(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'listing-views', startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('listing_views')\n        .select('*', { count: 'exact', head: false })\n        .order('viewed_at', { ascending: false })\n        .limit(1000);\n\n      if (startDate) {\n        query = query.gte('viewed_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('viewed_at', endDate);\n      }\n\n      const { data, count, error } = await query;\n      if (error) throw error;\n      return { data: data || [], count: count || 0 };\n    },\n  });\n}\n\n// Fetch analytics data - Link Clicks (with count)\nexport function useLinkClicks(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'link-clicks', startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('listing_link_clicks')\n        .select('*', { count: 'exact', head: false })\n        .order('clicked_at', { ascending: false })\n        .limit(1000);\n\n      if (startDate) {\n        query = query.gte('clicked_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('clicked_at', endDate);\n      }\n\n      const { data, count, error } = await query;\n      if (error) throw error;\n      return { data: data || [], count: count || 0 };\n    },\n  });\n}\n\n// Aggregated analytics for dashboard\nexport function useAnalyticsSummary(startDate?: string, endDate?: string) {\n  const { data: pageViews } = usePageViews(startDate, endDate);\n  const { data: categoryViews } = useCategoryViews(startDate, endDate);\n  const { data: adViews } = useAdViews(startDate, endDate);\n  const { data: adClicks } = useAdClicks(startDate, endDate);\n  const { data: listingViews } = useListingViews(startDate, endDate);\n  const { data: linkClicks } = useLinkClicks(startDate, endDate);\n\n  return {\n    pageViews: pageViews?.count || 0,\n    categoryViews: categoryViews?.count || 0,\n    adViews: adViews?.count || 0,\n    adClicks: adClicks?.count || 0,\n    listingViews: listingViews?.count || 0,\n    linkClicks: linkClicks?.count || 0,\n  };\n}\n\n// Top performing listings by views\nexport function useTopListings(limit: number = 10, startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'top-listings', limit, startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('listing_views')\n        .select('listing_id');\n\n      if (startDate) {\n        query = query.gte('viewed_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('viewed_at', endDate);\n      }\n\n      const { data, error } = await query;\n      if (error) throw error;\n\n      // Count views per listing\n      const viewCounts = data.reduce((acc: Record<string, number>, view) => {\n        acc[view.listing_id] = (acc[view.listing_id] || 0) + 1;\n        return acc;\n      }, {});\n\n      // Sort and limit\n      const sorted = Object.entries(viewCounts)\n        .sort(([, a], [, b]) => b - a)\n        .slice(0, limit)\n        .map(([listing_id, views]) => ({ listing_id, views }));\n\n      return sorted;\n    },\n  });\n}\n\n// Top performing categories by views\nexport function useTopCategories(limit: number = 10, startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'top-categories', limit, startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('category_page_views')\n        .select('category_id, category_name');\n\n      if (startDate) {\n        query = query.gte('viewed_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('viewed_at', endDate);\n      }\n\n      const { data, error } = await query;\n      if (error) throw error;\n\n      // Count views per category\n      const viewCounts = data.reduce((acc: Record<string, { name: string; views: number }>, view) => {\n        if (!acc[view.category_id]) {\n          acc[view.category_id] = { name: view.category_name || 'Unknown', views: 0 };\n        }\n        acc[view.category_id].views++;\n        return acc;\n      }, {});\n\n      // Sort and limit\n      const sorted = Object.entries(viewCounts)\n        .sort(([, a], [, b]) => b.views - a.views)\n        .slice(0, limit)\n        .map(([category_id, data]) => ({ category_id, ...data }));\n\n      return sorted;\n    },\n  });\n}\n\n// Analytics Overview\nexport function useAnalyticsOverview(startDate?: string, endDate?: string) {\n  const { data: pageViews, isLoading: pageViewsLoading } = usePageViews(startDate, endDate);\n  const { data: categoryViews, isLoading: categoryViewsLoading } = useCategoryViews(startDate, endDate);\n  const { data: adViews, isLoading: adViewsLoading } = useAdViews(startDate, endDate);\n  const { data: adClicks, isLoading: adClicksLoading } = useAdClicks(startDate, endDate);\n  const { data: listingViews, isLoading: listingViewsLoading } = useListingViews(startDate, endDate);\n  const { data: linkClicks, isLoading: linkClicksLoading } = useLinkClicks(startDate, endDate);\n\n  const isLoading = pageViewsLoading || categoryViewsLoading || adViewsLoading || \n                    adClicksLoading || listingViewsLoading || linkClicksLoading;\n\n  const totalAdViews = adViews?.count || 0;\n  const totalAdClicks = adClicks?.count || 0;\n  const ctr = totalAdViews > 0 ? ((totalAdClicks / totalAdViews) * 100).toFixed(2) : '0.00';\n\n  return {\n    data: {\n      pageViews: pageViews?.count || 0,\n      categoryViews: categoryViews?.count || 0,\n      adViews: totalAdViews,\n      adClicks: totalAdClicks,\n      ctr: ctr,\n      listingViews: listingViews?.count || 0,\n      linkClicks: linkClicks?.count || 0,\n    },\n    isLoading,\n    error: null\n  };\n}\n\n// Ad Analytics - aggregated by ad\nexport function useAdAnalytics() {\n  return useQuery({\n    queryKey: ['ad-analytics'],\n    queryFn: async () => {\n      // Get all ads\n      const { data: ads, error: adsError } = await supabase\n        .from('ads')\n        .select('id, name, position')\n        .order('name');\n\n      if (adsError) throw adsError;\n\n      // Get views and clicks for each ad\n      const results = await Promise.all(\n        ads.map(async (ad) => {\n          const [viewsRes, clicksRes] = await Promise.all([\n            supabase.from('ad_views').select('id', { count: 'exact', head: true }).eq('ad_id', ad.id),\n            supabase.from('ad_clicks').select('id', { count: 'exact', head: true }).eq('ad_id', ad.id)\n          ]);\n\n          const views = viewsRes.count || 0;\n          const clicks = clicksRes.count || 0;\n          const ctr = views > 0 ? ((clicks / views) * 100).toFixed(2) : '0.00';\n\n          return {\n            id: ad.id,\n            name: ad.name,\n            position: ad.position,\n            views,\n            clicks,\n            ctr\n          };\n        })\n      );\n\n      return results;\n    },\n  });\n}\n\n// Time series analytics\nexport function useAnalyticsTimeSeries(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics-timeseries', startDate, endDate],\n    queryFn: async () => {\n      const start = startDate || new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString();\n      const end = endDate || new Date().toISOString();\n\n      // Get page views\n      const { data: pageViews } = await supabase\n        .from('page_views')\n        .select('viewed_at')\n        .gte('viewed_at', start)\n        .lte('viewed_at', end);\n\n      // Get ad views\n      const { data: adViews } = await supabase\n        .from('ad_views')\n        .select('viewed_at')\n        .gte('viewed_at', start)\n        .lte('viewed_at', end);\n\n      // Get ad clicks\n      const { data: adClicks } = await supabase\n        .from('ad_clicks')\n        .select('clicked_at')\n        .gte('clicked_at', start)\n        .lte('clicked_at', end);\n\n      // Group by date\n      const dateMap: Record<string, { pageViews: number; adViews: number; adClicks: number }> = {};\n\n      pageViews?.forEach((view) => {\n        const date = view.viewed_at.split('T')[0];\n        if (!dateMap[date]) dateMap[date] = { pageViews: 0, adViews: 0, adClicks: 0 };\n        dateMap[date].pageViews++;\n      });\n\n      adViews?.forEach((view) => {\n        const date = view.viewed_at.split('T')[0];\n        if (!dateMap[date]) dateMap[date] = { pageViews: 0, adViews: 0, adClicks: 0 };\n        dateMap[date].adViews++;\n      });\n\n      adClicks?.forEach((click) => {\n        const date = click.clicked_at.split('T')[0];\n        if (!dateMap[date]) dateMap[date] = { pageViews: 0, adViews: 0, adClicks: 0 };\n        dateMap[date].adClicks++;\n      });\n\n      // Convert to array and sort\n      return Object.entries(dateMap)\n        .map(([date, counts]) => ({ date, ...counts }))\n        .sort((a, b) => a.date.localeCompare(b.date));\n    },\n  });\n}\n\n// Category views analytics with search\nexport function useCategoryViewsAnalytics(search?: string) {\n  return useQuery({\n    queryKey: ['category-views-analytics', search],\n    queryFn: async () => {\n      let query = supabase\n        .from('category_page_views')\n        .select('category_name, country, city');\n\n      const { data, error } = await query;\n      if (error) throw error;\n\n      // Group by category + location\n      const grouped: Record<string, { category: string; country: string | null; city: string | null; views: number }> = {};\n      \n      data?.forEach((view) => {\n        const key = `${view.category_name}-${view.country}-${view.city}`;\n        if (!grouped[key]) {\n          grouped[key] = {\n            category: view.category_name,\n            country: view.country,\n            city: view.city,\n            views: 0\n          };\n        }\n        grouped[key].views++;\n      });\n\n      let results = Object.values(grouped);\n\n      // Filter by search\n      if (search) {\n        const searchLower = search.toLowerCase();\n        results = results.filter(item => \n          item.category.toLowerCase().includes(searchLower) ||\n          item.country?.toLowerCase().includes(searchLower) ||\n          item.city?.toLowerCase().includes(searchLower)\n        );\n      }\n\n      // Sort by views descending\n      return results.sort((a, b) => b.views - a.views);\n    },\n  });\n}\n\n// Company views analytics with search\nexport function useCompanyViewsAnalytics(search?: string) {\n  return useQuery({\n    queryKey: ['company-views-analytics', search],\n    queryFn: async () => {\n      const { data: views, error: viewsError } = await supabase\n        .from('listing_views')\n        .select('listing_id');\n\n      if (viewsError) throw viewsError;\n\n      // Count views per listing\n      const viewCounts: Record<string, number> = {};\n      views?.forEach((view) => {\n        viewCounts[view.listing_id] = (viewCounts[view.listing_id] || 0) + 1;\n      });\n\n      // Get listing details\n      const listingIds = Object.keys(viewCounts);\n      if (listingIds.length === 0) return [];\n\n      let query = supabase\n        .from('listings')\n        .select('id, name, slug')\n        .in('id', listingIds);\n\n      if (search) {\n        query = query.ilike('name', `%${search}%`);\n      }\n\n      const { data: listings, error: listingsError } = await query;\n      if (listingsError) throw listingsError;\n\n      // Combine data\n      const results = listings?.map((listing) => ({\n        id: listing.id,\n        name: listing.name,\n        slug: listing.slug,\n        views: viewCounts[listing.id] || 0\n      })) || [];\n\n      // Sort by views descending\n      return results.sort((a, b) => b.views - a.views);\n    },\n  });\n}\n\n// Link clicks analytics with search\nexport function useLinkClicksAnalytics(search?: string) {\n  return useQuery({\n    queryKey: ['link-clicks-analytics', search],\n    queryFn: async () => {\n      const { data: clicks, error: clicksError } = await supabase\n        .from('listing_link_clicks')\n        .select('listing_id, link_type');\n\n      if (clicksError) throw clicksError;\n\n      // Group by listing + link type\n      const grouped: Record<string, { listingId: string; linkType: string; clicks: number }> = {};\n      \n      clicks?.forEach((click) => {\n        const key = `${click.listing_id}-${click.link_type}`;\n        if (!grouped[key]) {\n          grouped[key] = {\n            listingId: click.listing_id,\n            linkType: click.link_type,\n            clicks: 0\n          };\n        }\n        grouped[key].clicks++;\n      });\n\n      // Get listing details\n      const listingIds = [...new Set(Object.values(grouped).map(g => g.listingId))];\n      if (listingIds.length === 0) return [];\n\n      let query = supabase\n        .from('listings')\n        .select('id, name, slug')\n        .in('id', listingIds);\n\n      if (search) {\n        query = query.ilike('name', `%${search}%`);\n      }\n\n      const { data: listings, error: listingsError } = await query;\n      if (listingsError) throw listingsError;\n\n      const listingMap = new Map(listings?.map(l => [l.id, l]) || []);\n\n      // Combine data\n      const results = Object.values(grouped)\n        .map((item) => {\n          const listing = listingMap.get(item.listingId);\n          return listing ? {\n            listingId: item.listingId,\n            companyName: listing.name,\n            slug: listing.slug,\n            linkType: item.linkType,\n            clicks: item.clicks\n          } : null;\n        })\n        .filter(Boolean) as Array<{\n          listingId: string;\n          companyName: string;\n          slug: string;\n          linkType: string;\n          clicks: number;\n        }>;\n\n      // Sort by clicks descending\n      return results.sort((a, b) => b.clicks - a.clicks);\n    },\n  });\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2714, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/PageViewTracker.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { usePageViewTracking } from '@/hooks/useAnalytics';\r\n\r\nexport function PageViewTracker() {\r\n  usePageViewTracking();\r\n  return null;\r\n}"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAIO,SAAS;;IACd,IAAA,0KAAmB;IACnB,OAAO;AACT;GAHgB;;QACd,0KAAmB;;;KADL","debugId":null}},
    {"offset": {"line": 2742, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/Layout.tsx"],"sourcesContent":["import { Header, BreadcrumbItem } from \"./Header\";\nimport { Footer } from \"./Footer\";\nimport { PageViewTracker } from \"./PageViewTracker\";\nimport { cn } from \"@/lib/utils\";\nimport { ReactNode } from \"react\";\n\ninterface LayoutProps {\n  children: React.ReactNode;\n  hideFooter?: boolean;\n  breadcrumbs?: BreadcrumbItem[];\n  headerRightContent?: ReactNode;\n  customNavContent?: ReactNode;\n}\n\nexport function Layout({ children, hideFooter, breadcrumbs, headerRightContent, customNavContent }: LayoutProps) {\n  return (\n    <>\n      <PageViewTracker />\n      <div className={cn(\n        \"flex flex-col\",\n        hideFooter ? \"h-screen overflow-hidden\" : \"min-h-screen\"\n      )}>\n        <Header \n          breadcrumbs={breadcrumbs} \n          rightContent={headerRightContent} \n          customNavContent={customNavContent} \n        />\n        <main className={cn(\n          \"flex-1 flex flex-col\",\n          hideFooter && \"overflow-hidden\"\n        )}>{children}</main>\n        {!hideFooter && <Footer />}\n      </div>\n    </>\n  );\n}\n\nexport type { BreadcrumbItem };"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;AAWO,SAAS,OAAO,KAAwF;QAAxF,EAAE,QAAQ,EAAE,UAAU,EAAE,WAAW,EAAE,kBAAkB,EAAE,gBAAgB,EAAe,GAAxF;IACrB,qBACE;;0BACE,iNAAC,+KAAe;;;;;0BAChB,iNAAC;gBAAI,WAAW,IAAA,gJAAE,EAChB,iBACA,aAAa,6BAA6B;;kCAE1C,iNAAC,6JAAM;wBACL,aAAa;wBACb,cAAc;wBACd,kBAAkB;;;;;;kCAEpB,iNAAC;wBAAK,WAAW,IAAA,gJAAE,EACjB,wBACA,cAAc;kCACZ;;;;;;oBACH,CAAC,4BAAc,iNAAC,6JAAM;;;;;;;;;;;;;AAI/B;KArBgB","debugId":null}},
    {"offset": {"line": 2809, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-border bg-secondary px-3 py-2 text-base text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-colors duration-200\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = \"Input\";\n\nexport { Input };"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,+LAAgB,MAC5B,QAAgC;QAA/B,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO;IAC5B,qBACE,iNAAC;QACC,MAAM;QACN,WAAW,IAAA,gJAAE,EACX,idACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 2845, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useVenueSearch.ts"],"sourcesContent":["'use client';\n\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\n\r\n// =============================================================================\r\n// SECURITY NOTE: Uses listings_public view (no contact data)\r\n// =============================================================================\r\n\r\ninterface VenueSearchResult {\r\n  id: string;\r\n  name: string;\r\n  slug: string;\r\n  venue_type: string | null;\r\n  town_city: string | null;\r\n  country: string | null;\r\n}\r\n\r\nexport function useVenueSearch(query: string) {\r\n  return useQuery({\r\n    queryKey: [\"venue-search\", query],\r\n    queryFn: async (): Promise<VenueSearchResult[]> => {\r\n      if (!query || query.length < 2) return [];\r\n\r\n      const searchTerm = query.trim().toLowerCase();\r\n\r\n      if (!searchTerm) return [];\r\n\r\n      // Search venues directly - venue_type is only populated for venue listings\r\n      // This avoids the massive .in() clause that was causing 400 errors\r\n      const { data, error } = await supabase\r\n        .from(\"listings_public\")\r\n        .select(\"id, name, slug, venue_type, town_city, country\")\r\n        .not(\"venue_type\", \"is\", null)\r\n        .ilike(\"name\", `%${searchTerm}%`)\r\n        .order(\"name\")\r\n        .limit(10);\r\n\r\n      if (error) throw error;\r\n\r\n      return (data || []).filter((v): v is VenueSearchResult => v.id !== null && v.name !== null && v.slug !== null);\r\n    },\r\n    enabled: query.length >= 2,\r\n    staleTime: 1000 * 60,\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;;AAHA;;;AAkBO,SAAS,eAAe,KAAa;;IAC1C,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;YAAgB;SAAM;QACjC,OAAO;uCAAE;gBACP,IAAI,CAAC,SAAS,MAAM,MAAM,GAAG,GAAG,OAAO,EAAE;gBAEzC,MAAM,aAAa,MAAM,IAAI,GAAG,WAAW;gBAE3C,IAAI,CAAC,YAAY,OAAO,EAAE;gBAE1B,2EAA2E;gBAC3E,mEAAmE;gBACnE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4KAAQ,CACnC,IAAI,CAAC,mBACL,MAAM,CAAC,kDACP,GAAG,CAAC,cAAc,MAAM,MACxB,KAAK,CAAC,QAAQ,AAAC,IAAc,OAAX,YAAW,MAC7B,KAAK,CAAC,QACN,KAAK,CAAC;gBAET,IAAI,OAAO,MAAM;gBAEjB,OAAO,CAAC,QAAQ,EAAE,EAAE,MAAM;+CAAC,CAAC,IAA8B,EAAE,EAAE,KAAK,QAAQ,EAAE,IAAI,KAAK,QAAQ,EAAE,IAAI,KAAK;;YAC3G;;QACA,SAAS,MAAM,MAAM,IAAI;QACzB,WAAW,OAAO;IACpB;AACF;GA3BgB;;QACP,8MAAQ","debugId":null}},
    {"offset": {"line": 2892, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useDebounce.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from \"react\";\r\n\r\nexport function useDebounce<T>(value: T, delay: number): T {\r\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAIO,SAAS,YAAe,KAAQ,EAAE,KAAa;;IACpD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,6LAAQ,EAAI;IAExD,IAAA,8LAAS;iCAAC;YACR,MAAM,QAAQ;+CAAW;oBACvB,kBAAkB;gBACpB;8CAAG;YAEH;yCAAO;oBACL,aAAa;gBACf;;QACF;gCAAG;QAAC;QAAO;KAAM;IAEjB,OAAO;AACT;GAdgB","debugId":null}},
    {"offset": {"line": 2930, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLSpanElement>, VariantProps<typeof badgeVariants> {}\n\nconst Badge = React.forwardRef<HTMLSpanElement, BadgeProps>(\n  ({ className, variant, ...props }, ref) => {\n    return <span ref={ref} className={cn(badgeVariants({ variant }), className)} {...props} />;\n  }\n);\nBadge.displayName = \"Badge\";\n\nexport { Badge, badgeVariants };\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,IAAA,8LAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,WAAW;YACX,aAAa;YACb,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAKF,MAAM,sBAAQ,+LAAgB,MAC5B,QAAmC;QAAlC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO;IAC/B,qBAAO,iNAAC;QAAK,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AACxF;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 2984, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/venues/VenueSearchAutocomplete.tsx"],"sourcesContent":["'use client';\n\nimport { useRouter } from 'next/navigation';\nimport { useState, useRef, useEffect } from \"react\";\nimport { Search, MapPin, Loader2 } from \"lucide-react\";\nimport { Input } from \"@/components/ui/input\";\nimport { useVenueSearch } from \"@/hooks/useVenueSearch\";\nimport { useDebounce } from \"@/hooks/useDebounce\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { cn } from \"@/lib/utils\";\n\ninterface VenueSearchAutocompleteProps {\n  placeholder?: string;\n}\n\nexport function VenueSearchAutocomplete({ placeholder = \"Search venues...\" }: VenueSearchAutocompleteProps) {\n  const [query, setQuery] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState(-1);\n  const debouncedQuery = useDebounce(query, 300);\n  const { data: venues = [], isLoading } = useVenueSearch(debouncedQuery);\n  const router = useRouter();\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(e.target as Node) &&\n        inputRef.current &&\n        !inputRef.current.contains(e.target as Node)\n      ) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  // Reset selection when results change\n  useEffect(() => {\n    setSelectedIndex(-1);\n  }, [debouncedQuery]);\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (!isOpen || venues.length === 0) {\n      return;\n    }\n\n    switch (e.key) {\n      case \"ArrowDown\":\n        e.preventDefault();\n        setSelectedIndex((prev) => (prev < venues.length - 1 ? prev + 1 : 0));\n        break;\n      case \"ArrowUp\":\n        e.preventDefault();\n        setSelectedIndex((prev) => (prev > 0 ? prev - 1 : venues.length - 1));\n        break;\n      case \"Enter\":\n        e.preventDefault();\n        if (selectedIndex >= 0 && venues[selectedIndex]) {\n          handleSelect(selectedIndex);\n        }\n        break;\n      case \"Escape\":\n        setIsOpen(false);\n        break;\n    }\n  };\n\n  const handleSelect = (index: number) => {\n    const venue = venues[index];\n    if (venue) {\n      router.push(`/listing/${venue.slug}?from=venues`);\n      setIsOpen(false);\n      setQuery(\"\");\n    }\n  };\n\n  const highlightMatch = (text: string) => {\n    if (!query) return text;\n    const regex = new RegExp(`(${query.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')})`, \"gi\");\n    const parts = text.split(regex);\n    return parts.map((part, i) =>\n      part.toLowerCase() === query.toLowerCase() ? (\n        <span key={i} className=\"text-primary font-semibold\">\n          {part}\n        </span>\n      ) : (\n        part\n      )\n    );\n  };\n\n  return (\n    <div className=\"relative w-full\">\n      <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-primary\" />\n      <Input\n        ref={inputRef}\n        type=\"search\"\n        placeholder={placeholder}\n        className=\"w-full pl-9 pr-9 bg-secondary/50 border-border focus-visible:border-primary focus-visible:ring-primary\"\n        value={query}\n        onChange={(e) => {\n          setQuery(e.target.value);\n          setIsOpen(true);\n        }}\n        onFocus={() => setIsOpen(true)}\n        onKeyDown={handleKeyDown}\n      />\n      {isLoading && <Loader2 className=\"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 animate-spin text-primary\" />}\n\n      {/* Dropdown */}\n      {isOpen && query.length >= 2 && (\n        <div\n          ref={dropdownRef}\n          className=\"absolute top-full left-0 right-0 mt-1 bg-card border border-border rounded-md shadow-lg z-50 max-h-[300px] overflow-y-auto\"\n          onMouseLeave={() => setSelectedIndex(-1)}\n        >\n          {venues.length === 0 && !isLoading && (\n            <div className=\"p-4 text-sm text-muted-foreground text-center\">\n              No venues found for \"{query}\"\n            </div>\n          )}\n\n          {venues.map((venue, index) => (\n            <button\n              key={venue.id}\n              className={cn(\n                \"w-full flex items-center gap-3 px-3 py-2 text-left text-foreground hover:bg-primary/10 hover:text-primary transition-colors\",\n                selectedIndex === index && \"bg-primary/10 text-primary\"\n              )}\n              onClick={() => handleSelect(index)}\n              onMouseEnter={() => setSelectedIndex(index)}\n            >\n              <MapPin className=\"h-4 w-4 text-muted-foreground shrink-0\" />\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"truncate\">{highlightMatch(venue.name)}</div>\n                <div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n                  {venue.venue_type && (\n                    <Badge variant=\"secondary\" className=\"text-xs px-1.5 py-0\">\n                      {venue.venue_type}\n                    </Badge>\n                  )}\n                  {venue.town_city && (\n                    <span className=\"truncate\">\n                      {venue.town_city}\n                      {venue.country && `, ${venue.country}`}\n                    </span>\n                  )}\n                </div>\n              </div>\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3235, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/ui/checkbox.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\";\nimport { Check } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n      className,\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator className={cn(\"flex items-center justify-center text-current\")}>\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n));\nCheckbox.displayName = CheckboxPrimitive.Root.displayName;\n\nexport { Checkbox };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,yBAAW,+LAAgB,MAG/B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,iNAAC,mMAAsB;QACrB,KAAK;QACL,WAAW,IAAA,gJAAE,EACX,kTACA;QAED,GAAG,KAAK;kBAET,cAAA,iNAAC,wMAA2B;YAAC,WAAW,IAAA,gJAAE,EAAC;sBACzC,cAAA,iNAAC,oOAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;;;AAIvB,SAAS,WAAW,GAAG,mMAAsB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 3288, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/supabasePagination.ts"],"sourcesContent":["const PAGE_SIZE = 1000;\r\n\r\n/**\r\n * Fetches all rows from a Supabase query by paginating through results.\r\n * Bypasses the server-side 1000 row limit by fetching in batches.\r\n * \r\n * @param baseQuery - A function that returns a fresh Supabase query builder\r\n * @param pageSize - Number of rows per page (default: 1000)\r\n * @returns Promise<T[]> - All rows combined from all pages\r\n */\r\nexport async function fetchAllRows<T>(\r\n  baseQuery: () => { range: (start: number, end: number) => PromiseLike<{ data: T[] | null; error: unknown }> },\r\n  pageSize = PAGE_SIZE\r\n): Promise<T[]> {\r\n  let allData: T[] = [];\r\n  let page = 0;\r\n  let hasMore = true;\r\n\r\n  while (hasMore) {\r\n    const start = page * pageSize;\r\n    const end = start + pageSize - 1;\r\n\r\n    // Create a fresh query for each page to avoid mutation issues\r\n    const result = await baseQuery().range(start, end);\r\n    \r\n    if (result.error) throw result.error;\r\n\r\n    const rows = result.data || [];\r\n    allData = [...allData, ...rows];\r\n    \r\n    // If we got fewer rows than requested, we've reached the end\r\n    hasMore = rows.length === pageSize;\r\n    page++;\r\n    \r\n    // Safety limit to prevent infinite loops (max 50 pages = 50,000 rows)\r\n    if (page >= 50) break;\r\n  }\r\n\r\n  return allData;\r\n}\r\n"],"names":[],"mappings":";;;;AAAA,MAAM,YAAY;AAUX,eAAe,aACpB,SAA6G;QAC7G,WAAA,iEAAW;IAEX,IAAI,UAAe,EAAE;IACrB,IAAI,OAAO;IACX,IAAI,UAAU;IAEd,MAAO,QAAS;QACd,MAAM,QAAQ,OAAO;QACrB,MAAM,MAAM,QAAQ,WAAW;QAE/B,8DAA8D;QAC9D,MAAM,SAAS,MAAM,YAAY,KAAK,CAAC,OAAO;QAE9C,IAAI,OAAO,KAAK,EAAE,MAAM,OAAO,KAAK;QAEpC,MAAM,OAAO,OAAO,IAAI,IAAI,EAAE;QAC9B,UAAU;eAAI;eAAY;SAAK;QAE/B,6DAA6D;QAC7D,UAAU,KAAK,MAAM,KAAK;QAC1B;QAEA,sEAAsE;QACtE,IAAI,QAAQ,IAAI;IAClB;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 3324, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/geoUtils.ts"],"sourcesContent":["/**\n * Geographic utility functions for distance calculations and proximity filtering\n */\n\nexport interface Coordinates {\n  latitude: number;\n  longitude: number;\n}\n\n/**\n * Calculate distance between two points using Haversine formula\n * Returns distance in kilometers\n * \n * @param lat1 - Latitude of first point\n * @param lon1 - Longitude of first point\n * @param lat2 - Latitude of second point\n * @param lon2 - Longitude of second point\n * @returns Distance in kilometers\n */\nexport function haversineDistance(\n  lat1: number,\n  lon1: number,\n  lat2: number,\n  lon2: number\n): number {\n  const R = 6371; // Earth's radius in kilometers\n  \n  const dLat = toRadians(lat2 - lat1);\n  const dLon = toRadians(lon2 - lon1);\n  \n  const a =\n    Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n    Math.cos(toRadians(lat1)) *\n      Math.cos(toRadians(lat2)) *\n      Math.sin(dLon / 2) *\n      Math.sin(dLon / 2);\n  \n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  \n  return R * c;\n}\n\n/**\n * Convert degrees to radians\n */\nfunction toRadians(degrees: number): number {\n  return (degrees * Math.PI) / 180;\n}\n\n/**\n * Check if a point is within a given radius of a center point\n * \n * @param centerLat - Latitude of center point\n * @param centerLon - Longitude of center point\n * @param pointLat - Latitude of point to check\n * @param pointLon - Longitude of point to check\n * @param radiusKm - Radius in kilometers\n * @returns true if point is within radius\n */\nexport function isWithinRadius(\n  centerLat: number,\n  centerLon: number,\n  pointLat: number,\n  pointLon: number,\n  radiusKm: number\n): boolean {\n  const distance = haversineDistance(centerLat, centerLon, pointLat, pointLon);\n  return distance <= radiusKm;\n}\n\n/**\n * Find the center point (mean latitude/longitude) of a collection of coordinates\n * Useful for finding city center from venues in that city\n * \n * @param coordinates - Array of coordinate objects\n * @returns Center point or null if no valid coordinates\n */\nexport function findCenterPoint(coordinates: Coordinates[]): Coordinates | null {\n  const validCoords = coordinates.filter(\n    (c) => c.latitude !== null && c.longitude !== null\n  );\n  \n  if (validCoords.length === 0) return null;\n  \n  const sumLat = validCoords.reduce((sum, c) => sum + c.latitude, 0);\n  const sumLon = validCoords.reduce((sum, c) => sum + c.longitude, 0);\n  \n  return {\n    latitude: sumLat / validCoords.length,\n    longitude: sumLon / validCoords.length,\n  };\n}\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;AAiBM,SAAS,kBACd,IAAY,EACZ,IAAY,EACZ,IAAY,EACZ,IAAY;IAEZ,MAAM,IAAI,MAAM,+BAA+B;IAE/C,MAAM,OAAO,UAAU,OAAO;IAC9B,MAAM,OAAO,UAAU,OAAO;IAE9B,MAAM,IACJ,KAAK,GAAG,CAAC,OAAO,KAAK,KAAK,GAAG,CAAC,OAAO,KACrC,KAAK,GAAG,CAAC,UAAU,SACjB,KAAK,GAAG,CAAC,UAAU,SACnB,KAAK,GAAG,CAAC,OAAO,KAChB,KAAK,GAAG,CAAC,OAAO;IAEpB,MAAM,IAAI,IAAI,KAAK,KAAK,CAAC,KAAK,IAAI,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI;IAErD,OAAO,IAAI;AACb;AAEA;;CAEC,GACD,SAAS,UAAU,OAAe;IAChC,OAAO,AAAC,UAAU,KAAK,EAAE,GAAI;AAC/B;AAYO,SAAS,eACd,SAAiB,EACjB,SAAiB,EACjB,QAAgB,EAChB,QAAgB,EAChB,QAAgB;IAEhB,MAAM,WAAW,kBAAkB,WAAW,WAAW,UAAU;IACnE,OAAO,YAAY;AACrB;AASO,SAAS,gBAAgB,WAA0B;IACxD,MAAM,cAAc,YAAY,MAAM,CACpC,CAAC,IAAM,EAAE,QAAQ,KAAK,QAAQ,EAAE,SAAS,KAAK;IAGhD,IAAI,YAAY,MAAM,KAAK,GAAG,OAAO;IAErC,MAAM,SAAS,YAAY,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,QAAQ,EAAE;IAChE,MAAM,SAAS,YAAY,MAAM,CAAC,CAAC,KAAK,IAAM,MAAM,EAAE,SAAS,EAAE;IAEjE,OAAO;QACL,UAAU,SAAS,YAAY,MAAM;QACrC,WAAW,SAAS,YAAY,MAAM;IACxC;AACF","debugId":null}},
    {"offset": {"line": 3368, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/cityRegions.ts"],"sourcesContent":["/**\n * City-Regions: Regions that contain only one city with the same name.\n * These are treated as cities, not regions, to avoid redundant URLs like /london/london.\n *\n * For these regions:\n * - /uk/london is the city page (not region page)\n * - /uk/london/london redirects to /uk/london\n * - Breadcrumbs show: UK > London (not UK > London > London)\n *\n * Proximity Configuration:\n * - City-regions use larger proximity radius (metropolitan areas)\n * - Regular cities use smaller default radius\n * - Proximity shows venues within radius, not just exact city match\n */\n\n// Default proximity radii (in kilometers)\nexport const DEFAULT_CITY_PROXIMITY_KM = 25; // Regular cities (Manchester, Birmingham)\nexport const DEFAULT_CITY_REGION_PROXIMITY_KM = 40; // City-regions (London, NYC)\n\ninterface CityRegionConfig {\n  country: string;\n  countryAliases: string[];\n  region: string;\n  regionSlug: string;\n  proximityRadiusKm?: number; // Optional override - uses DEFAULT_CITY_REGION_PROXIMITY_KM if not set\n}\n\nconst CITY_REGIONS: CityRegionConfig[] = [\n  {\n    country: \"United Kingdom\",\n    countryAliases: [\"uk\", \"united kingdom\"],\n    region: \"London\",\n    regionSlug: \"london\",\n  },\n  {\n    country: \"United States\",\n    countryAliases: [\"usa\", \"united states\", \"us\"],\n    region: \"New York\",\n    regionSlug: \"new-york\",\n    proximityRadiusKm: 50, // Large metro area - includes Newark, Jersey City, parts of Long Island\n  },\n];\n\n/**\n * Check if a region is a \"city-region\" - a region that should be treated as a city\n * because it only contains one city with the same name.\n *\n * @param country - Country name or slug (e.g., \"United Kingdom\", \"uk\")\n * @param region - Region name or slug (e.g., \"London\", \"london\")\n * @returns true if this region should be treated as a city\n */\nexport function isCityRegion(country: string | null, region: string | null): boolean {\n  if (!country || !region) return false;\n\n  const normalizedCountry = country.toLowerCase();\n  const normalizedRegion = region.toLowerCase();\n\n  return CITY_REGIONS.some((config) => {\n    const countryMatches =\n      config.country.toLowerCase() === normalizedCountry || config.countryAliases.includes(normalizedCountry);\n\n    const regionMatches = config.region.toLowerCase() === normalizedRegion || config.regionSlug === normalizedRegion;\n\n    return countryMatches && regionMatches;\n  });\n}\n\n/**\n * Get the city-region configuration for a given country/region combination\n */\nexport function getCityRegionConfig(country: string | null, region: string | null): CityRegionConfig | null {\n  if (!country || !region) return null;\n\n  const normalizedCountry = country.toLowerCase();\n  const normalizedRegion = region.toLowerCase();\n\n  return (\n    CITY_REGIONS.find((config) => {\n      const countryMatches =\n        config.country.toLowerCase() === normalizedCountry || config.countryAliases.includes(normalizedCountry);\n\n      const regionMatches = config.region.toLowerCase() === normalizedRegion || config.regionSlug === normalizedRegion;\n\n      return countryMatches && regionMatches;\n    }) || null\n  );\n}\n\n/**\n * Get the display name for a city-region (always returns the city name)\n */\nexport function getCityRegionDisplayName(country: string | null, region: string | null): string | null {\n  const config = getCityRegionConfig(country, region);\n  return config?.region || null;\n}\n\n/**\n * Get the proximity radius for a city-region\n * Returns the configured radius or default if not specified\n */\nexport function getCityRegionProximityRadius(country: string | null, region: string | null): number {\n  const config = getCityRegionConfig(country, region);\n  return config?.proximityRadiusKm || DEFAULT_CITY_REGION_PROXIMITY_KM;\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;CAaC,GAED,0CAA0C;;;;;;;;;;;;;;;AACnC,MAAM,4BAA4B,IAAI,0CAA0C;AAChF,MAAM,mCAAmC,IAAI,6BAA6B;AAUjF,MAAM,eAAmC;IACvC;QACE,SAAS;QACT,gBAAgB;YAAC;YAAM;SAAiB;QACxC,QAAQ;QACR,YAAY;IACd;IACA;QACE,SAAS;QACT,gBAAgB;YAAC;YAAO;YAAiB;SAAK;QAC9C,QAAQ;QACR,YAAY;QACZ,mBAAmB;IACrB;CACD;AAUM,SAAS,aAAa,OAAsB,EAAE,MAAqB;IACxE,IAAI,CAAC,WAAW,CAAC,QAAQ,OAAO;IAEhC,MAAM,oBAAoB,QAAQ,WAAW;IAC7C,MAAM,mBAAmB,OAAO,WAAW;IAE3C,OAAO,aAAa,IAAI,CAAC,CAAC;QACxB,MAAM,iBACJ,OAAO,OAAO,CAAC,WAAW,OAAO,qBAAqB,OAAO,cAAc,CAAC,QAAQ,CAAC;QAEvF,MAAM,gBAAgB,OAAO,MAAM,CAAC,WAAW,OAAO,oBAAoB,OAAO,UAAU,KAAK;QAEhG,OAAO,kBAAkB;IAC3B;AACF;AAKO,SAAS,oBAAoB,OAAsB,EAAE,MAAqB;IAC/E,IAAI,CAAC,WAAW,CAAC,QAAQ,OAAO;IAEhC,MAAM,oBAAoB,QAAQ,WAAW;IAC7C,MAAM,mBAAmB,OAAO,WAAW;IAE3C,OACE,aAAa,IAAI,CAAC,CAAC;QACjB,MAAM,iBACJ,OAAO,OAAO,CAAC,WAAW,OAAO,qBAAqB,OAAO,cAAc,CAAC,QAAQ,CAAC;QAEvF,MAAM,gBAAgB,OAAO,MAAM,CAAC,WAAW,OAAO,oBAAoB,OAAO,UAAU,KAAK;QAEhG,OAAO,kBAAkB;IAC3B,MAAM;AAEV;AAKO,SAAS,yBAAyB,OAAsB,EAAE,MAAqB;IACpF,MAAM,SAAS,oBAAoB,SAAS;IAC5C,OAAO,CAAA,mBAAA,6BAAA,OAAQ,MAAM,KAAI;AAC3B;AAMO,SAAS,6BAA6B,OAAsB,EAAE,MAAqB;IACxF,MAAM,SAAS,oBAAoB,SAAS;IAC5C,OAAO,CAAA,mBAAA,6BAAA,OAAQ,iBAAiB,KAAI;AACtC","debugId":null}},
    {"offset": {"line": 3455, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useVenues.ts"],"sourcesContent":["'use client';\n\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { fetchAllRows } from \"@/lib/supabasePagination\";\r\nimport { haversineDistance, findCenterPoint } from \"@/lib/geoUtils\";\r\nimport { isCityRegion, getCityRegionProximityRadius, DEFAULT_CITY_PROXIMITY_KM } from \"@/lib/cityRegions\";\r\n\r\n// =============================================================================\r\n// SECURITY NOTE: All queries use listings_public view (no contact data)\r\n// Venues are identified by having a venue_type value (not null)\r\n// =============================================================================\r\n\r\n// Tier ordering: premier (0) > enhanced (1) > free (2)\r\nconst TIER_ORDER: Record<string, number> = {\r\n  premier: 0,\r\n  enhanced: 1,\r\n  free: 2,\r\n};\r\n\r\nexport const VENUE_TYPES = [\r\n  \"Arena\",\r\n  \"Amphitheatre\",\r\n  \"Bar\",\r\n  \"Club\",\r\n  \"Concert Hall\",\r\n  \"Convention Centre\",\r\n  \"Cultural Centre\",\r\n  \"Opera House\",\r\n  \"Outdoor Venue\",\r\n  \"Performing Arts Centre\",\r\n  \"Stadium\",\r\n  \"Theatre\",\r\n] as const;\r\n\r\nexport type VenueType = (typeof VENUE_TYPES)[number];\r\n\r\nexport interface VenueListing {\r\n  id: string;\r\n  name: string;\r\n  slug: string;\r\n  venue_type: string | null;\r\n  venue_capacity: number | null;\r\n  country: string | null;\r\n  town_city: string | null;\r\n  latitude: number | null;\r\n  longitude: number | null;\r\n  logo_url: string | null;\r\n  tier: string;\r\n  region_id?: number | null;\r\n  region_slug?: string | null;\r\n}\r\n\r\ninterface UseVenuesOptions {\r\n  venueTypes?: string[];\r\n  capacityMin?: number;\r\n  capacityMax?: number;\r\n  country?: string;\r\n  regionId?: number;\r\n  city?: string;\r\n  continent?: string;\r\n}\r\n\r\nexport function useVenues(options: UseVenuesOptions = {}) {\r\n  const { venueTypes, capacityMin, capacityMax, country, regionId, city, continent } = options;\r\n\r\n  return useQuery({\r\n    queryKey: [\"venues\", venueTypes, capacityMin, capacityMax, country, regionId, city, continent],\r\n    queryFn: async () => {\r\n      // Determine if we need proximity filtering\r\n      const needsCityProximityFilter = !!city && !!country;\r\n      const needsRegionProximityFilter = !!regionId && !!country && !city;\r\n\r\n      // Query venues directly - identified by having venue_type set\r\n      const data = await fetchAllRows<{\r\n        id: string;\r\n        name: string;\r\n        slug: string;\r\n        venue_type: string | null;\r\n        venue_capacity: number | null;\r\n        country: string | null;\r\n        town_city: string | null;\r\n        latitude: number | null;\r\n        longitude: number | null;\r\n        logo_url: string | null;\r\n        tier: string;\r\n        region_id: number | null;\r\n        continent: string | null;\r\n      }>(() => {\r\n        let query = supabase\r\n          .from(\"listings_public\")\r\n          .select(\r\n            `\r\n            id,\r\n            name,\r\n            slug,\r\n            venue_type,\r\n            venue_capacity,\r\n            country,\r\n            town_city,\r\n            latitude,\r\n            longitude,\r\n            logo_url,\r\n            tier,\r\n            region_id,\r\n            continent\r\n          `,\r\n          )\r\n          .not(\"venue_type\", \"is\", null);\r\n\r\n        // Add continent filter\r\n        if (continent) {\r\n          query = query.eq(\"continent\", continent);\r\n        }\r\n\r\n        if (venueTypes && venueTypes.length > 0) {\r\n          query = query.in(\"venue_type\", venueTypes);\r\n        }\r\n\r\n        if (capacityMin !== undefined && capacityMin > 0) {\r\n          query = query.gte(\"venue_capacity\", capacityMin);\r\n        }\r\n        if (capacityMax !== undefined && capacityMax < 100000) {\r\n          query = query.lte(\"venue_capacity\", capacityMax);\r\n        }\r\n\r\n        if (country) {\r\n          query = query.eq(\"country\", country);\r\n        }\r\n\r\n        // For proximity filtering, we fetch broader dataset and filter client-side\r\n        // For exact filtering, we filter at database level (more efficient)\r\n        if (regionId && !needsRegionProximityFilter) {\r\n          query = query.eq(\"region_id\", regionId);\r\n        }\r\n        if (city && !needsCityProximityFilter) {\r\n          query = query.eq(\"town_city\", city);\r\n        }\r\n\r\n        return query;\r\n      });\r\n\r\n      // Apply proximity filtering if needed\r\n      let filteredData = data;\r\n\r\n      // CITY PROXIMITY FILTERING\r\n      if (needsCityProximityFilter && city && country) {\r\n        // Find center point of the city from venues in that city\r\n        const cityVenues = data.filter((v) => v.town_city === city && v.latitude && v.longitude);\r\n\r\n        if (cityVenues.length > 0) {\r\n          const cityCenter = findCenterPoint(\r\n            cityVenues.map((v) => ({ latitude: v.latitude!, longitude: v.longitude! })),\r\n          );\r\n\r\n          if (cityCenter) {\r\n            const radiusKm = DEFAULT_CITY_PROXIMITY_KM;\r\n\r\n            filteredData = data.filter((venue) => {\r\n              // Always include exact city matches\r\n              if (venue.town_city === city) return true;\r\n\r\n              // Filter others by proximity\r\n              if (!venue.latitude || !venue.longitude) return false;\r\n\r\n              const distance = haversineDistance(\r\n                cityCenter.latitude,\r\n                cityCenter.longitude,\r\n                venue.latitude,\r\n                venue.longitude,\r\n              );\r\n\r\n              return distance <= radiusKm;\r\n            });\r\n          } else {\r\n            // Fallback to exact match if we can't determine city center\r\n            filteredData = data.filter((v) => v.town_city === city);\r\n          }\r\n        } else {\r\n          // No venues with coordinates in this city - use exact match\r\n          filteredData = data.filter((v) => v.town_city === city);\r\n        }\r\n      }\r\n\r\n      // REGION PROXIMITY FILTERING (for city-regions like London, NYC)\r\n      if (needsRegionProximityFilter && regionId && country) {\r\n        // Check if this region is a city-region that needs proximity\r\n        const { data: regionData } = await supabase\r\n          .from(\"regions\")\r\n          .select(\"region_slug, latitude, longitude\")\r\n          .eq(\"id\", regionId)\r\n          .single();\r\n\r\n        if (regionData && isCityRegion(country, regionData.region_slug)) {\r\n          // This is a city-region - apply proximity\r\n          if (regionData.latitude && regionData.longitude) {\r\n            const radiusKm = getCityRegionProximityRadius(country, regionData.region_slug);\r\n\r\n            filteredData = data.filter((venue) => {\r\n              // Always include venues explicitly in this region\r\n              if (venue.region_id === regionId) return true;\r\n\r\n              // Filter others by proximity\r\n              if (!venue.latitude || !venue.longitude) return false;\r\n\r\n              const distance = haversineDistance(\r\n                regionData.latitude,\r\n                regionData.longitude,\r\n                venue.latitude,\r\n                venue.longitude,\r\n              );\r\n\r\n              return distance <= radiusKm;\r\n            });\r\n          } else {\r\n            // Region doesn't have coordinates - fallback to exact match\r\n            filteredData = data.filter((v) => v.region_id === regionId);\r\n          }\r\n        } else {\r\n          // Not a city-region - use exact region match\r\n          filteredData = data.filter((v) => v.region_id === regionId);\r\n        }\r\n      }\r\n\r\n      // Get region slugs for venues that have region_id\r\n      const regionIds = [...new Set(filteredData.filter((v) => v.region_id).map((v) => v.region_id))] as number[];\r\n      let regionMap: Record<number, string> = {};\r\n\r\n      if (regionIds.length > 0) {\r\n        const { data: regions } = await supabase.from(\"regions\").select(\"id, region_slug\").in(\"id\", regionIds);\r\n\r\n        if (regions) {\r\n          regionMap = Object.fromEntries(regions.map((r) => [r.id, r.region_slug]));\r\n        }\r\n      }\r\n\r\n      // Add region_slug and sort by tier (premier > enhanced > free), then name\r\n      return filteredData\r\n        .map((v) => ({\r\n          ...v,\r\n          region_slug: v.region_id ? regionMap[v.region_id] || null : null,\r\n        }))\r\n        .sort((a, b) => {\r\n          const tierA = TIER_ORDER[a.tier] ?? 2;\r\n          const tierB = TIER_ORDER[b.tier] ?? 2;\r\n          if (tierA !== tierB) return tierA - tierB;\r\n          return (a.name || \"\").localeCompare(b.name || \"\");\r\n        }) as VenueListing[];\r\n    },\r\n    staleTime: 2 * 60 * 1000, // Cache for 2 minutes - prevents refetch on focus/mount\r\n  });\r\n}\r\n\r\nexport function useVenueCountries(continent?: string) {\r\n  return useQuery({\r\n    queryKey: [\"venue-countries\", continent],\r\n    queryFn: async () => {\r\n      // Query venues directly - identified by having venue_type set\r\n      const data = await fetchAllRows<{ id: string; country: string | null; continent: string | null }>(() => {\r\n        let query = supabase\r\n          .from(\"listings_public\")\r\n          .select(\"id, country, continent\")\r\n          .not(\"venue_type\", \"is\", null)\r\n          .not(\"country\", \"is\", null);\r\n\r\n        // Filter by continent at database level\r\n        if (continent) {\r\n          query = query.eq(\"continent\", continent);\r\n        }\r\n\r\n        return query;\r\n      });\r\n\r\n      const countMap = new Map<string, number>();\r\n      data.forEach((item) => {\r\n        if (item.country) {\r\n          countMap.set(item.country, (countMap.get(item.country) || 0) + 1);\r\n        }\r\n      });\r\n\r\n      return Array.from(countMap.entries())\r\n        .map(([country, count]) => ({ country, count }))\r\n        .sort((a, b) => a.country.localeCompare(b.country));\r\n    },\r\n    staleTime: 5 * 60 * 1000, // Cache for 5 minutes - country list rarely changes\r\n  });\r\n}\r\n\r\n// Get regions that have venues for a specific country\r\nexport function useVenueRegionsByCountry(country?: string) {\r\n  return useQuery({\r\n    queryKey: [\"venue-regions-by-country\", country],\r\n    queryFn: async () => {\r\n      if (!country) return [];\r\n\r\n      // Query venues directly - identified by having venue_type set\r\n      const data = await fetchAllRows<{ id: string; region_id: number | null }>(() =>\r\n        supabase\r\n          .from(\"listings_public\")\r\n          .select(\"id, region_id\")\r\n          .not(\"venue_type\", \"is\", null)\r\n          .eq(\"country\", country)\r\n          .not(\"region_id\", \"is\", null),\r\n      );\r\n\r\n      // Get unique region IDs that have venues\r\n      const regionIds = [...new Set(data.map((v) => v.region_id).filter(Boolean))] as number[];\r\n\r\n      if (regionIds.length === 0) return [];\r\n\r\n      // Fetch region details\r\n      const { data: regions } = await supabase\r\n        .from(\"regions\")\r\n        .select(\"id, region_name, region_slug\")\r\n        .in(\"id\", regionIds)\r\n        .order(\"region_name\");\r\n\r\n      return regions || [];\r\n    },\r\n    enabled: !!country,\r\n    staleTime: 5 * 60 * 1000,\r\n  });\r\n}\r\n\r\n// Get cities that have venues for a specific country (no region filter)\r\nexport function useVenueCitiesByCountry(country?: string) {\r\n  return useQuery({\r\n    queryKey: [\"venue-cities-by-country\", country],\r\n    queryFn: async () => {\r\n      if (!country) return [];\r\n\r\n      // Query venues directly - identified by having venue_type set\r\n      const data = await fetchAllRows<{ id: string; town_city: string | null }>(() =>\r\n        supabase\r\n          .from(\"listings_public\")\r\n          .select(\"id, town_city\")\r\n          .not(\"venue_type\", \"is\", null)\r\n          .eq(\"country\", country)\r\n          .not(\"town_city\", \"is\", null),\r\n      );\r\n\r\n      // Get unique cities\r\n      const cities = [...new Set(data.map((v) => v.town_city).filter(Boolean))] as string[];\r\n\r\n      return cities.sort((a, b) => a.localeCompare(b));\r\n    },\r\n    enabled: !!country,\r\n    staleTime: 5 * 60 * 1000,\r\n  });\r\n}\r\n\r\n// Get cities that have venues for a specific region\r\nexport function useVenueCitiesByRegion(regionId?: number) {\r\n  return useQuery({\r\n    queryKey: [\"venue-cities-by-region\", regionId],\r\n    queryFn: async () => {\r\n      if (!regionId) return [];\r\n\r\n      // Query venues directly - identified by having venue_type set\r\n      const data = await fetchAllRows<{ id: string; town_city: string | null }>(() =>\r\n        supabase\r\n          .from(\"listings_public\")\r\n          .select(\"id, town_city\")\r\n          .not(\"venue_type\", \"is\", null)\r\n          .eq(\"region_id\", regionId)\r\n          .not(\"town_city\", \"is\", null),\r\n      );\r\n\r\n      // Get unique cities\r\n      const cities = [...new Set(data.map((v) => v.town_city).filter(Boolean))] as string[];\r\n\r\n      return cities.sort((a, b) => a.localeCompare(b));\r\n    },\r\n    enabled: !!regionId,\r\n    staleTime: 5 * 60 * 1000,\r\n  });\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3832, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/venues/VenueTypeFilter.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useRef, useEffect } from \"react\";\r\nimport { Check, ChevronDown, X } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Checkbox } from \"@/components/ui/checkbox\";\r\nimport { VENUE_TYPES } from \"@/hooks/useVenues\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface VenueTypeFilterProps {\r\n  selectedTypes: string[];\r\n  onChange: (types: string[]) => void;\r\n}\r\n\r\nexport function VenueTypeFilter({ selectedTypes, onChange }: VenueTypeFilterProps) {\r\n  const [open, setOpen] = useState(false);\r\n  const ref = useRef<HTMLDivElement>(null);\r\n\r\n  // Close on click outside\r\n  useEffect(() => {\r\n    function handleClickOutside(event: MouseEvent) {\r\n      if (ref.current && !ref.current.contains(event.target as Node)) {\r\n        setOpen(false);\r\n      }\r\n    }\r\n    document.addEventListener(\"mousedown\", handleClickOutside);\r\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\r\n  }, []);\r\n\r\n  // Close on scroll outside\r\n  useEffect(() => {\r\n    if (!open) return;\r\n\r\n    function handleScroll(event: Event) {\r\n      // Check if scroll happened inside the dropdown\r\n      if (ref.current && ref.current.contains(event.target as Node)) {\r\n        return;\r\n      }\r\n      setOpen(false);\r\n    }\r\n\r\n    document.addEventListener(\"scroll\", handleScroll, true);\r\n    return () => document.removeEventListener(\"scroll\", handleScroll, true);\r\n  }, [open]);\r\n\r\n  const handleToggle = (type: string) => {\r\n    if (selectedTypes.includes(type)) {\r\n      onChange(selectedTypes.filter((t) => t !== type));\r\n    } else {\r\n      onChange([...selectedTypes, type]);\r\n    }\r\n  };\r\n\r\n  const triggerLabel =\r\n    selectedTypes.length === 0\r\n      ? \"Venue Type\"\r\n      : selectedTypes.length === 1\r\n        ? selectedTypes[0]\r\n        : `Venue Type (${selectedTypes.length})`;\r\n\r\n  return (\r\n    <div ref={ref} className=\"relative\">\r\n      <Button\r\n        variant=\"outline\"\r\n        size=\"sm\"\r\n        onClick={() => setOpen(!open)}\r\n        className={cn(\r\n          \"h-9 w-full gap-1.5 px-3 justify-between text-xs font-normal\",\r\n          selectedTypes.length > 0\r\n            ? \"border-primary bg-primary/10 text-primary hover:bg-primary/20\"\r\n            : \"border-input bg-background text-foreground hover:bg-muted hover:border-input\",\r\n        )}\r\n      >\r\n        <span className=\"truncate\">{triggerLabel}</span>\r\n        <ChevronDown className={cn(\"h-4 w-4 shrink-0 opacity-50 transition-transform\", open && \"rotate-180\")} />\r\n      </Button>\r\n\r\n      {open && (\r\n        <div className=\"absolute top-full right-0 md:left-0 md:right-auto mt-1 z-50 w-48 md:w-56 rounded-md border bg-popover p-1 shadow-lg\">\r\n          <div className=\"flex items-center justify-between mb-1\">\r\n            {selectedTypes.length > 0 ? (\r\n              <button\r\n                onClick={() => onChange([])}\r\n                className=\"flex items-center gap-1 px-2 py-1.5 rounded-sm hover:bg-muted text-sm text-muted-foreground\"\r\n              >\r\n                <X className=\"h-3 w-3\" />\r\n                <span className=\"md:hidden\">Clear</span>\r\n                <span className=\"hidden md:inline\">Clear selection</span>\r\n              </button>\r\n            ) : (\r\n              <span />\r\n            )}\r\n            <button\r\n              onClick={() => setOpen(false)}\r\n              className=\"flex items-center gap-1 px-2 py-1.5 rounded-sm hover:bg-muted text-sm text-muted-foreground\"\r\n            >\r\n              <X className=\"h-3 w-3\" />\r\n              Close\r\n            </button>\r\n          </div>\r\n          <div className=\"max-h-64 overflow-y-auto overscroll-contain\">\r\n            {VENUE_TYPES.map((type) => (\r\n              <label\r\n                key={type}\r\n                className=\"flex items-center gap-2 px-2 py-1.5 rounded-sm hover:bg-muted cursor-pointer text-sm\"\r\n              >\r\n                <Checkbox checked={selectedTypes.includes(type)} onCheckedChange={() => handleToggle(type)} />\r\n                <span>{type}</span>\r\n              </label>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;AAcO,SAAS,gBAAgB,KAAiD;QAAjD,EAAE,aAAa,EAAE,QAAQ,EAAwB,GAAjD;;IAC9B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,6LAAQ,EAAC;IACjC,MAAM,MAAM,IAAA,2LAAM,EAAiB;IAEnC,yBAAyB;IACzB,IAAA,8LAAS;qCAAC;YACR,SAAS,mBAAmB,KAAiB;gBAC3C,IAAI,IAAI,OAAO,IAAI,CAAC,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;oBAC9D,QAAQ;gBACV;YACF;YACA,SAAS,gBAAgB,CAAC,aAAa;YACvC;6CAAO,IAAM,SAAS,mBAAmB,CAAC,aAAa;;QACzD;oCAAG,EAAE;IAEL,0BAA0B;IAC1B,IAAA,8LAAS;qCAAC;YACR,IAAI,CAAC,MAAM;YAEX,SAAS,aAAa,KAAY;gBAChC,+CAA+C;gBAC/C,IAAI,IAAI,OAAO,IAAI,IAAI,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAAW;oBAC7D;gBACF;gBACA,QAAQ;YACV;YAEA,SAAS,gBAAgB,CAAC,UAAU,cAAc;YAClD;6CAAO,IAAM,SAAS,mBAAmB,CAAC,UAAU,cAAc;;QACpE;oCAAG;QAAC;KAAK;IAET,MAAM,eAAe,CAAC;QACpB,IAAI,cAAc,QAAQ,CAAC,OAAO;YAChC,SAAS,cAAc,MAAM,CAAC,CAAC,IAAM,MAAM;QAC7C,OAAO;YACL,SAAS;mBAAI;gBAAe;aAAK;QACnC;IACF;IAEA,MAAM,eACJ,cAAc,MAAM,KAAK,IACrB,eACA,cAAc,MAAM,KAAK,IACvB,aAAa,CAAC,EAAE,GAChB,AAAC,eAAmC,OAArB,cAAc,MAAM,EAAC;IAE5C,qBACE,iNAAC;QAAI,KAAK;QAAK,WAAU;;0BACvB,iNAAC,mKAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,SAAS,IAAM,QAAQ,CAAC;gBACxB,WAAW,IAAA,gJAAE,EACX,+DACA,cAAc,MAAM,GAAG,IACnB,kEACA;;kCAGN,iNAAC;wBAAK,WAAU;kCAAY;;;;;;kCAC5B,iNAAC,0PAAW;wBAAC,WAAW,IAAA,gJAAE,EAAC,oDAAoD,QAAQ;;;;;;;;;;;;YAGxF,sBACC,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAI,WAAU;;4BACZ,cAAc,MAAM,GAAG,kBACtB,iNAAC;gCACC,SAAS,IAAM,SAAS,EAAE;gCAC1B,WAAU;;kDAEV,iNAAC,wNAAC;wCAAC,WAAU;;;;;;kDACb,iNAAC;wCAAK,WAAU;kDAAY;;;;;;kDAC5B,iNAAC;wCAAK,WAAU;kDAAmB;;;;;;;;;;;qDAGrC,iNAAC;;;;;0CAEH,iNAAC;gCACC,SAAS,IAAM,QAAQ;gCACvB,WAAU;;kDAEV,iNAAC,wNAAC;wCAAC,WAAU;;;;;;oCAAY;;;;;;;;;;;;;kCAI7B,iNAAC;wBAAI,WAAU;kCACZ,+JAAW,CAAC,GAAG,CAAC,CAAC,qBAChB,iNAAC;gCAEC,WAAU;;kDAEV,iNAAC,uKAAQ;wCAAC,SAAS,cAAc,QAAQ,CAAC;wCAAO,iBAAiB,IAAM,aAAa;;;;;;kDACrF,iNAAC;kDAAM;;;;;;;+BAJF;;;;;;;;;;;;;;;;;;;;;;AAYrB;GArGgB;KAAA","debugId":null}},
    {"offset": {"line": 4055, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/venues/CountryFilter.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useEffect, memo } from \"react\";\nimport { ChevronDown, X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { cn } from \"@/lib/utils\";\n\ninterface CountryOption {\n  country: string;\n  count: number;\n}\n\ninterface CountryFilterProps {\n  countries: CountryOption[];\n  selectedCountries: string[];\n  onChange: (countries: string[]) => void;\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n}\n\nexport const CountryFilter = memo(function CountryFilter({\n  countries,\n  selectedCountries,\n  onChange,\n  open,\n  onOpenChange,\n}: CountryFilterProps) {\n  const KEEP_OPEN_KEY = 'venue-country-filter-keep-open';\n  const ref = useRef<HTMLDivElement>(null);\n\n  console.log(' CountryFilter render:', {\n    countriesCount: countries.length,\n    selectedCountries,\n    open,\n    hasOnChange: typeof onChange === 'function'\n  });\n\n  // Check if we should restore open state after navigation\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const keepOpen = sessionStorage.getItem(KEEP_OPEN_KEY);\n    if (keepOpen) {\n      console.log(' Found keep-open flag, reopening dropdown');\n      sessionStorage.removeItem(KEEP_OPEN_KEY); // Clear immediately\n      onOpenChange(true);\n    }\n  }, [onOpenChange]);\n\n  // Close on click outside\n  useEffect(() => {\n    if (!open) return;\n    \n    function handleClickOutside(event: MouseEvent) {\n      const target = event.target as Node;\n      \n      if (ref.current && !ref.current.contains(target)) {\n        console.log(' Click OUTSIDE - closing');\n        onOpenChange(false);\n      } else {\n        console.log(' Click INSIDE - ignoring');\n      }\n    }\n    \n    // Use capture phase and add delay to let internal handlers finish first\n    const timeoutId = setTimeout(() => {\n      document.addEventListener(\"click\", handleClickOutside, { capture: true });\n    }, 100);\n    \n    return () => {\n      clearTimeout(timeoutId);\n      document.removeEventListener(\"click\", handleClickOutside, { capture: true });\n    };\n  }, [open, onOpenChange]);\n\n  // Close on scroll outside - but NOT on internal dropdown scroll\n  useEffect(() => {\n    if (!open) return;\n\n    console.log(' Scroll handler - dropdown is open');\n\n    let scrollTimeout: NodeJS.Timeout | null = null;\n\n    function handleScroll(event: Event) {\n      const target = event.target as Node;\n      \n      console.log(' Scroll event detected:', target);\n\n      // Don't close if scrolling inside the dropdown itself\n      if (ref.current && ref.current.contains(target)) {\n        console.log(' Scroll inside dropdown - ignoring');\n        return;\n      }\n\n      // Don't close if the scroll event is from the dropdown's scrollable container\n      if (target instanceof HTMLElement && target.classList.contains(\"overflow-y-auto\")) {\n        console.log(' Scroll in scrollable container - ignoring');\n        return;\n      }\n\n      console.log(' Scroll outside - closing dropdown');\n      // Small delay to allow touch/click events to complete before closing\n      if (scrollTimeout) clearTimeout(scrollTimeout);\n      scrollTimeout = setTimeout(() => {\n        onOpenChange(false);\n      }, 100);\n    }\n\n    // TEMPORARILY DISABLED - testing if this is causing the issue\n    // document.addEventListener(\"scroll\", handleScroll, true);\n    // window.addEventListener(\"scroll\", handleScroll, true);\n\n    return () => {\n      // document.removeEventListener(\"scroll\", handleScroll, true);\n      // window.removeEventListener(\"scroll\", handleScroll, true);\n      if (scrollTimeout) clearTimeout(scrollTimeout);\n    };\n  }, [open, onOpenChange]);\n\n  const handleToggle = (country: string) => {\n    console.log(' CountryFilter handleToggle called:', country);\n    console.log(' Current selectedCountries:', selectedCountries);\n    console.log(' onChange function exists:', typeof onChange);\n    \n    // Mark that we want to keep the dropdown open after navigation\n    sessionStorage.setItem('venue-country-filter-keep-open', 'true');\n    \n    const newCountries = selectedCountries.includes(country)\n      ? selectedCountries.filter((c) => c !== country)\n      : [...selectedCountries, country];\n    \n    console.log(' About to call onChange with:', newCountries);\n    onChange(newCountries);\n    console.log(' onChange called');\n  };\n\n  const handleClearAll = () => {\n    // Mark that we want to keep the dropdown open after clearing\n    sessionStorage.setItem('venue-country-filter-keep-open', 'true');\n    onChange([]);\n  };\n\n  const handleClose = () => {\n    // User explicitly closed - clear the keep-open flag\n    sessionStorage.removeItem('venue-country-filter-keep-open');\n    onOpenChange(false);\n  };\n\n  const triggerLabel =\n    selectedCountries.length === 0\n      ? \"All Countries\"\n      : selectedCountries.length === 1\n        ? selectedCountries[0]\n        : `${selectedCountries.length} Countries`;\n\n  return (\n    <div ref={ref} className=\"relative\">\n      <Button\n        variant=\"outline\"\n        size=\"sm\"\n        onClick={() => onOpenChange(!open)}\n        className={cn(\n          \"h-9 w-full gap-1.5 px-3 justify-between text-xs font-normal\",\n          selectedCountries.length > 0\n            ? \"border-primary bg-primary/10 text-primary hover:bg-primary/20\"\n            : \"border-input bg-background text-foreground hover:bg-muted hover:border-input\",\n        )}\n      >\n        <span className=\"truncate\">{triggerLabel}</span>\n        <ChevronDown className={cn(\"h-4 w-4 shrink-0 opacity-50 transition-transform\", open && \"rotate-180\")} />\n      </Button>\n\n      {open && (\n        <div\n          className=\"absolute top-full left-0 mt-1 z-50 w-64 rounded-md border bg-popover p-1 shadow-lg\"\n          onMouseDown={(e) => e.stopPropagation()}\n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"flex items-center justify-between mb-1\">\n            {selectedCountries.length > 0 ? (\n              <button\n                type=\"button\"\n                onClick={handleClearAll}\n                className=\"flex items-center gap-1 px-2 py-1.5 rounded-sm hover:bg-muted text-sm text-muted-foreground\"\n              >\n                <X className=\"h-3 w-3\" />\n                <span className=\"md:hidden\">Clear</span>\n                <span className=\"hidden md:inline\">Clear selection</span>\n              </button>\n            ) : (\n              <span />\n            )}\n            <button\n              type=\"button\"\n              onClick={handleClose}\n              className=\"flex items-center gap-1 px-2 py-1.5 rounded-sm hover:bg-muted text-sm text-muted-foreground\"\n            >\n              <X className=\"h-3 w-3\" />\n              Close\n            </button>\n          </div>\n          <div className=\"max-h-64 overflow-y-auto overscroll-contain\">\n            {countries.map(({ country, count }) => (\n              <label\n                key={country}\n                className=\"flex items-center gap-2 px-2 py-1.5 rounded-sm hover:bg-muted cursor-pointer text-sm\"\n                onClick={(e) => {\n                  console.log(' Label clicked for:', country);\n                  console.log(' Event target:', e.target);\n                  console.log(' Event currentTarget:', e.currentTarget);\n                }}\n              >\n                <Checkbox \n                  checked={selectedCountries.includes(country)} \n                  onCheckedChange={(checked) => {\n                    console.log(' Checkbox onCheckedChange fired for:', country, 'checked:', checked);\n                    handleToggle(country);\n                  }}\n                />\n                <span className=\"flex-1\">{country}</span>\n                <span className=\"text-muted-foreground text-xs\">({count})</span>\n              </label>\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4383, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/ui/slider.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as SliderPrimitive from \"@radix-ui/react-slider\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  // Check if it's a range slider (multiple values)\n  const isRange = Array.isArray(props.value) || Array.isArray(props.defaultValue);\n  \n  return (\n    <SliderPrimitive.Root\n      ref={ref}\n      className={cn(\"relative flex w-full touch-none select-none items-center\", className)}\n      {...props}\n    >\n      <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary\">\n        <SliderPrimitive.Range className=\"absolute h-full bg-primary\" />\n      </SliderPrimitive.Track>\n      {isRange ? (\n        <>\n          <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n          <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n        </>\n      ) : (\n        <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\" />\n      )}\n    </SliderPrimitive.Root>\n  );\n});\nSlider.displayName = SliderPrimitive.Root.displayName;\n\nexport { Slider };\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,uBAAS,+LAAgB,MAG7B,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;IACxB,iDAAiD;IACjD,MAAM,UAAU,MAAM,OAAO,CAAC,MAAM,KAAK,KAAK,MAAM,OAAO,CAAC,MAAM,YAAY;IAE9E,qBACE,iNAAC,iMAAoB;QACnB,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,4DAA4D;QACzE,GAAG,KAAK;;0BAET,iNAAC,kMAAqB;gBAAC,WAAU;0BAC/B,cAAA,iNAAC,kMAAqB;oBAAC,WAAU;;;;;;;;;;;YAElC,wBACC;;kCACE,iNAAC,kMAAqB;wBAAC,WAAU;;;;;;kCACjC,iNAAC,kMAAqB;wBAAC,WAAU;;;;;;;6CAGnC,iNAAC,kMAAqB;gBAAC,WAAU;;;;;;;;;;;;AAIzC;;AACA,OAAO,WAAW,GAAG,iMAAoB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 4462, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/venues/CapacitySlider.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from \"react\";\r\nimport { Slider } from \"@/components/ui/slider\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface CapacitySliderProps {\r\n  min: number;\r\n  max: number;\r\n  onChange: (min: number, max: number) => void;\r\n  variant?: \"stacked\" | \"inline\";\r\n}\r\n\r\n// Stepped scale for capacity (log-like distribution)\r\nconst CAPACITY_STEPS = [\r\n  0, 50, 100, 200, 300, 500, 750, 1000, 1500, 2000, 3000, 5000, 7500, \r\n  10000, 15000, 20000, 30000, 50000, 75000, 100000\r\n];\r\n\r\nfunction valueToStep(value: number): number {\r\n  for (let i = CAPACITY_STEPS.length - 1; i >= 0; i--) {\r\n    if (value >= CAPACITY_STEPS[i]) return i;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction stepToValue(step: number): number {\r\n  return CAPACITY_STEPS[Math.min(step, CAPACITY_STEPS.length - 1)];\r\n}\r\n\r\nfunction formatCapacity(value: number): string {\r\n  if (value >= 1000) {\r\n    return `${(value / 1000).toFixed(value >= 10000 ? 0 : 1)}k`;\r\n  }\r\n  return value.toString();\r\n}\r\n\r\nexport function CapacitySlider({ min, max, onChange, variant = \"stacked\" }: CapacitySliderProps) {\r\n  const [values, setValues] = useState<[number, number]>([\r\n    valueToStep(min),\r\n    valueToStep(max),\r\n  ]);\r\n\r\n  // Update internal state when props change\r\n  useEffect(() => {\r\n    setValues([valueToStep(min), valueToStep(max)]);\r\n  }, [min, max]);\r\n\r\n  const handleChange = (newValues: number[]) => {\r\n    const sorted = [Math.min(newValues[0], newValues[1]), Math.max(newValues[0], newValues[1])] as [number, number];\r\n    setValues(sorted);\r\n  };\r\n\r\n  const handleCommit = () => {\r\n    onChange(stepToValue(values[0]), stepToValue(values[1]));\r\n  };\r\n\r\n  const minValue = stepToValue(values[0]);\r\n  const maxValue = stepToValue(values[1]);\r\n  const isDefault = minValue === 0 && maxValue === 100000;\r\n\r\n  if (variant === \"inline\") {\r\n    return (\r\n      <div className={cn(\r\n        \"flex items-center gap-1.5 lg:gap-2 h-9 px-2 lg:px-3 rounded-md border\",\r\n        isDefault \r\n          ? \"border-input bg-background\" \r\n          : \"border-primary bg-primary/5\"\r\n      )}>\r\n        <span className={cn(\r\n          \"text-sm whitespace-nowrap hidden lg:inline\",\r\n          isDefault ? \"text-muted-foreground\" : \"text-primary font-medium\"\r\n        )}>Capacity</span>\r\n        <span className={cn(\r\n          \"text-sm whitespace-nowrap lg:hidden\",\r\n          isDefault ? \"text-muted-foreground\" : \"text-primary font-medium\"\r\n        )}>Cap.</span>\r\n        <Slider\r\n          min={0}\r\n          max={CAPACITY_STEPS.length - 1}\r\n          step={1}\r\n          value={values}\r\n          onValueChange={handleChange}\r\n          onValueCommit={handleCommit}\r\n          className=\"w-16 lg:w-24\"\r\n        />\r\n        <span className={cn(\r\n          \"text-sm whitespace-nowrap\",\r\n          isDefault ? \"text-muted-foreground\" : \"text-primary font-medium\"\r\n        )}>\r\n          {formatCapacity(minValue)}-{formatCapacity(maxValue)}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-2 min-w-[180px]\">\r\n      <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\r\n        <span>Capacity</span>\r\n        <span className={isDefault ? \"text-muted-foreground\" : \"text-foreground font-medium\"}>\r\n          {formatCapacity(minValue)} - {formatCapacity(maxValue)}\r\n        </span>\r\n      </div>\r\n      <Slider\r\n        min={0}\r\n        max={CAPACITY_STEPS.length - 1}\r\n        step={1}\r\n        value={values}\r\n        onValueChange={handleChange}\r\n        onValueCommit={handleCommit}\r\n        className=\"w-full\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAaA,qDAAqD;AACrD,MAAM,iBAAiB;IACrB;IAAG;IAAI;IAAK;IAAK;IAAK;IAAK;IAAK;IAAM;IAAM;IAAM;IAAM;IAAM;IAC9D;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;CAC3C;AAED,SAAS,YAAY,KAAa;IAChC,IAAK,IAAI,IAAI,eAAe,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK;QACnD,IAAI,SAAS,cAAc,CAAC,EAAE,EAAE,OAAO;IACzC;IACA,OAAO;AACT;AAEA,SAAS,YAAY,IAAY;IAC/B,OAAO,cAAc,CAAC,KAAK,GAAG,CAAC,MAAM,eAAe,MAAM,GAAG,GAAG;AAClE;AAEA,SAAS,eAAe,KAAa;IACnC,IAAI,SAAS,MAAM;QACjB,OAAO,AAAC,GAAiD,OAA/C,CAAC,QAAQ,IAAI,EAAE,OAAO,CAAC,SAAS,QAAQ,IAAI,IAAG;IAC3D;IACA,OAAO,MAAM,QAAQ;AACvB;AAEO,SAAS,eAAe,KAAgE;QAAhE,EAAE,GAAG,EAAE,GAAG,EAAE,QAAQ,EAAE,UAAU,SAAS,EAAuB,GAAhE;;IAC7B,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,6LAAQ,EAAmB;QACrD,YAAY;QACZ,YAAY;KACb;IAED,0CAA0C;IAC1C,IAAA,8LAAS;oCAAC;YACR,UAAU;gBAAC,YAAY;gBAAM,YAAY;aAAK;QAChD;mCAAG;QAAC;QAAK;KAAI;IAEb,MAAM,eAAe,CAAC;QACpB,MAAM,SAAS;YAAC,KAAK,GAAG,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;YAAG,KAAK,GAAG,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,EAAE;SAAE;QAC3F,UAAU;IACZ;IAEA,MAAM,eAAe;QACnB,SAAS,YAAY,MAAM,CAAC,EAAE,GAAG,YAAY,MAAM,CAAC,EAAE;IACxD;IAEA,MAAM,WAAW,YAAY,MAAM,CAAC,EAAE;IACtC,MAAM,WAAW,YAAY,MAAM,CAAC,EAAE;IACtC,MAAM,YAAY,aAAa,KAAK,aAAa;IAEjD,IAAI,YAAY,UAAU;QACxB,qBACE,iNAAC;YAAI,WAAW,IAAA,gJAAE,EAChB,yEACA,YACI,+BACA;;8BAEJ,iNAAC;oBAAK,WAAW,IAAA,gJAAE,EACjB,8CACA,YAAY,0BAA0B;8BACrC;;;;;;8BACH,iNAAC;oBAAK,WAAW,IAAA,gJAAE,EACjB,uCACA,YAAY,0BAA0B;8BACrC;;;;;;8BACH,iNAAC,mKAAM;oBACL,KAAK;oBACL,KAAK,eAAe,MAAM,GAAG;oBAC7B,MAAM;oBACN,OAAO;oBACP,eAAe;oBACf,eAAe;oBACf,WAAU;;;;;;8BAEZ,iNAAC;oBAAK,WAAW,IAAA,gJAAE,EACjB,6BACA,YAAY,0BAA0B;;wBAErC,eAAe;wBAAU;wBAAE,eAAe;;;;;;;;;;;;;IAInD;IAEA,qBACE,iNAAC;QAAI,WAAU;;0BACb,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;kCAAK;;;;;;kCACN,iNAAC;wBAAK,WAAW,YAAY,0BAA0B;;4BACpD,eAAe;4BAAU;4BAAI,eAAe;;;;;;;;;;;;;0BAGjD,iNAAC,mKAAM;gBACL,KAAK;gBACL,KAAK,eAAe,MAAM,GAAG;gBAC7B,MAAM;gBACN,OAAO;gBACP,eAAe;gBACf,eAAe;gBACf,WAAU;;;;;;;;;;;;AAIlB;GA9EgB;KAAA","debugId":null}},
    {"offset": {"line": 4660, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/continents.ts"],"sourcesContent":["// Continent configuration and country mappings\n\nexport const CONTINENT_COUNTRIES: Record<string, string[]> = {\n  Europe: [\n    // Western Europe\n    \"United Kingdom\",\n    \"Germany\",\n    \"France\",\n    \"Spain\",\n    \"Italy\",\n    \"The Netherlands\",\n    \"Belgium\",\n    \"Austria\",\n    \"Switzerland\",\n    \"Ireland\",\n    \"Portugal\",\n    \"Luxembourg\",\n    \"Gibraltar\",\n    // Northern Europe\n    \"Sweden\",\n    \"Norway\",\n    \"Denmark\",\n    \"Finland\",\n    \"Iceland\",\n    // Eastern Europe\n    \"Poland\",\n    \"Czech Republic\",\n    \"Slovak Republic\",\n    \"Slovakia\",\n    \"Hungary\",\n    \"Romania\",\n    \"Bulgaria\",\n    \"Russia\",\n    \"Ukraine\",\n    \"Belarus\",\n    \"Moldova\",\n    // Southern Europe\n    \"Greece\",\n    \"Croatia\",\n    \"Slovenia\",\n    \"Serbia\",\n    \"Bosnia and Herzegovina\",\n    \"Bosnia\",\n    \"Albania\",\n    \"North Macedonia\",\n    \"Macedonia\",\n    \"Montenegro\",\n    \"Kosovo\",\n    // Baltic States\n    \"Estonia\",\n    \"Latvia\",\n    \"Lithuania\",\n    // Other\n    \"Malta\",\n    \"Cyprus\",\n    \"Georgia\",\n    \"Armenia\",\n    \"Azerbaijan\",\n    \"Turkey\",\n    \"Andorra\",\n    \"Monaco\",\n    \"San Marino\",\n    \"Vatican City\",\n    \"Liechtenstein\",\n  ],\n  \"North America\": [\n    \"United States\",\n    \"Canada\",\n    \"Mexico\",\n    \"USA\",\n    \"US\",\n    \"Bahamas\",\n    \"Jamaica\",\n    \"Trinidad and Tobago\",\n    \"Barbados\",\n    \"Dominican Republic\",\n    \"Cuba\",\n    \"Haiti\",\n    \"Costa Rica\",\n    \"Panama\",\n    \"Guatemala\",\n    \"Honduras\",\n    \"El Salvador\",\n    \"Nicaragua\",\n    \"Belize\",\n    \"Puerto Rico\",\n    \"Cayman Islands\",\n    \"Bermuda\",\n  ],\n  Asia: [\n    // East Asia\n    \"Japan\",\n    \"South Korea\",\n    \"China\",\n    \"Taiwan\",\n    \"Hong Kong\",\n    \"Macau\",\n    \"Mongolia\",\n    // Southeast Asia\n    \"Singapore\",\n    \"Thailand\",\n    \"Malaysia\",\n    \"Indonesia\",\n    \"Philippines\",\n    \"Vietnam\",\n    \"Cambodia\",\n    \"Laos\",\n    \"Myanmar\",\n    \"Brunei\",\n    // South Asia\n    \"India\",\n    \"Pakistan\",\n    \"Bangladesh\",\n    \"Sri Lanka\",\n    \"Nepal\",\n    \"Bhutan\",\n    \"Maldives\",\n    // Central Asia\n    \"Kazakhstan\",\n    \"Uzbekistan\",\n    \"Turkmenistan\",\n    \"Kyrgyzstan\",\n    \"Tajikistan\",\n    // Middle East\n    \"United Arab Emirates\",\n    \"UAE\",\n    \"Israel\",\n    \"Saudi Arabia\",\n    \"Qatar\",\n    \"Kuwait\",\n    \"Bahrain\",\n    \"Oman\",\n    \"Jordan\",\n    \"Lebanon\",\n    \"Iraq\",\n    \"Iran\",\n    \"Yemen\",\n    \"Syria\",\n  ],\n  \"South America\": [\n    \"Brazil\",\n    \"Argentina\",\n    \"Chile\",\n    \"Colombia\",\n    \"Peru\",\n    \"Venezuela\",\n    \"Ecuador\",\n    \"Uruguay\",\n    \"Paraguay\",\n    \"Bolivia\",\n    \"Guyana\",\n    \"Suriname\",\n    \"French Guiana\",\n  ],\n  Oceania: [\n    \"Australia\",\n    \"New Zealand\",\n    \"Fiji\",\n    \"Papua New Guinea\",\n    \"Solomon Islands\",\n    \"Vanuatu\",\n    \"Samoa\",\n    \"Tonga\",\n    \"Micronesia\",\n    \"Palau\",\n    \"Marshall Islands\",\n    \"Kiribati\",\n    \"Nauru\",\n    \"Tuvalu\",\n  ],\n  Africa: [\n    // Northern Africa\n    \"Egypt\",\n    \"Morocco\",\n    \"Tunisia\",\n    \"Algeria\",\n    \"Libya\",\n    \"Sudan\",\n    // Western Africa\n    \"Nigeria\",\n    \"Ghana\",\n    \"Senegal\",\n    \"Ivory Coast\",\n    \"Mali\",\n    \"Burkina Faso\",\n    \"Guinea\",\n    \"Benin\",\n    \"Togo\",\n    \"Sierra Leone\",\n    \"Liberia\",\n    \"Mauritania\",\n    \"Niger\",\n    \"Gambia\",\n    \"Guinea-Bissau\",\n    \"Cape Verde\",\n    // Eastern Africa\n    \"Kenya\",\n    \"Ethiopia\",\n    \"Tanzania\",\n    \"Uganda\",\n    \"Rwanda\",\n    \"Burundi\",\n    \"Somalia\",\n    \"Djibouti\",\n    \"Eritrea\",\n    \"South Sudan\",\n    \"Seychelles\",\n    \"Mauritius\",\n    // Southern Africa\n    \"South Africa\",\n    \"Namibia\",\n    \"Botswana\",\n    \"Zimbabwe\",\n    \"Zambia\",\n    \"Mozambique\",\n    \"Angola\",\n    \"Malawi\",\n    \"Lesotho\",\n    \"Eswatini\",\n    \"Madagascar\",\n    \"Comoros\",\n    // Central Africa\n    \"Democratic Republic of the Congo\",\n    \"Republic of the Congo\",\n    \"Cameroon\",\n    \"Central African Republic\",\n    \"Chad\",\n    \"Gabon\",\n    \"Equatorial Guinea\",\n    \"Sao Tome and Principe\",\n  ],\n};\n\nexport const CONTINENT_COLORS: Record<string, string> = {\n  Europe: \"#ef4444\", // Red\n  \"North America\": \"#f97316\", // Orange\n  \"South America\": \"#eab308\", // Gold\n  Asia: \"#22c55e\", // Green\n  Africa: \"#14b8a6\", // Teal\n  Oceania: \"#0ea5e9\", // Sky blue\n};\n\nexport const CONTINENT_ORDER = [\"Europe\", \"North America\", \"Asia\", \"South America\", \"Oceania\", \"Africa\"];\n\nexport function getContinent(country: string): string | undefined {\n  for (const [continent, countries] of Object.entries(CONTINENT_COUNTRIES)) {\n    if (countries.includes(country)) return continent;\n  }\n  return undefined;\n}\n\nexport function getContinentCountries(continent: string): string[] {\n  return CONTINENT_COUNTRIES[continent] || [];\n}\n\nexport function getContinentSlug(continent: string): string {\n  return continent.toLowerCase().replace(/\\s+/g, \"-\");\n}\n\nexport function getContinentFromSlug(slug: string): string | undefined {\n  const normalized = slug.toLowerCase();\n  return CONTINENT_ORDER.find((c) => getContinentSlug(c) === normalized);\n}\n"],"names":[],"mappings":"AAAA,+CAA+C;;;;;;;;;;;;;;;;;AAExC,MAAM,sBAAgD;IAC3D,QAAQ;QACN,iBAAiB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,kBAAkB;QAClB;QACA;QACA;QACA;QACA;QACA,iBAAiB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,kBAAkB;QAClB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,gBAAgB;QAChB;QACA;QACA;QACA,QAAQ;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,iBAAiB;QACf;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,MAAM;QACJ,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,aAAa;QACb;QACA;QACA;QACA;QACA;QACA;QACA;QACA,eAAe;QACf;QACA;QACA;QACA;QACA;QACA,cAAc;QACd;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,iBAAiB;QACf;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,SAAS;QACP;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,QAAQ;QACN,kBAAkB;QAClB;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,kBAAkB;QAClB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH;AAEO,MAAM,mBAA2C;IACtD,QAAQ;IACR,iBAAiB;IACjB,iBAAiB;IACjB,MAAM;IACN,QAAQ;IACR,SAAS;AACX;AAEO,MAAM,kBAAkB;IAAC;IAAU;IAAiB;IAAQ;IAAiB;IAAW;CAAS;AAEjG,SAAS,aAAa,OAAe;IAC1C,KAAK,MAAM,CAAC,WAAW,UAAU,IAAI,OAAO,OAAO,CAAC,qBAAsB;QACxE,IAAI,UAAU,QAAQ,CAAC,UAAU,OAAO;IAC1C;IACA,OAAO;AACT;AAEO,SAAS,sBAAsB,SAAiB;IACrD,OAAO,mBAAmB,CAAC,UAAU,IAAI,EAAE;AAC7C;AAEO,SAAS,iBAAiB,SAAiB;IAChD,OAAO,UAAU,WAAW,GAAG,OAAO,CAAC,QAAQ;AACjD;AAEO,SAAS,qBAAqB,IAAY;IAC/C,MAAM,aAAa,KAAK,WAAW;IACnC,OAAO,gBAAgB,IAAI,CAAC,CAAC,IAAM,iBAAiB,OAAO;AAC7D","debugId":null}},
    {"offset": {"line": 4946, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useVenueCounts.ts"],"sourcesContent":["'use client';\n\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { CONTINENT_ORDER } from \"@/lib/continents\";\r\n\r\n// =============================================================================\r\n// SECURITY NOTE: Uses listings_public view (no contact data)\r\n// =============================================================================\r\n\r\ninterface ContinentCount {\r\n  continent: string;\r\n  count: number;\r\n}\r\n\r\nexport function useVenueCountsByContinent() {\r\n  return useQuery({\r\n    queryKey: [\"venue-counts-by-continent\"],\r\n    queryFn: async () => {\r\n      // Get counts for each continent individually to avoid row limits\r\n      const counts: Record<string, number> = {};\r\n      \r\n      for (const continent of CONTINENT_ORDER) {\r\n        const { count, error } = await supabase\r\n          .from(\"listings_public\")\r\n          .select(\"*\", { count: \"exact\", head: true })\r\n          .not(\"venue_type\", \"is\", null)\r\n          .eq(\"continent\", continent);\r\n\r\n        if (error) throw error;\r\n        counts[continent] = count || 0;\r\n      }\r\n\r\n      return CONTINENT_ORDER.map(continent => ({\r\n        continent,\r\n        count: counts[continent] || 0\r\n      })) as ContinentCount[];\r\n    },\r\n    staleTime: 5 * 60 * 1000, // 5 minutes\r\n  });\r\n}\r\n\r\nexport function useTotalVenueCount() {\r\n  return useQuery({\r\n    queryKey: [\"total-venue-count\"],\r\n    queryFn: async () => {\r\n      const { count, error } = await supabase\r\n        .from(\"listings_public\")\r\n        .select(\"*\", { count: \"exact\", head: true })\r\n        .not(\"venue_type\", \"is\", null);\r\n\r\n      if (error) throw error;\r\n      return count || 0;\r\n    },\r\n    staleTime: 5 * 60 * 1000,\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;;AAJA;;;;AAeO,SAAS;;IACd,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;SAA4B;QACvC,OAAO;kDAAE;gBACP,iEAAiE;gBACjE,MAAM,SAAiC,CAAC;gBAExC,KAAK,MAAM,aAAa,kKAAe,CAAE;oBACvC,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,4KAAQ,CACpC,IAAI,CAAC,mBACL,MAAM,CAAC,KAAK;wBAAE,OAAO;wBAAS,MAAM;oBAAK,GACzC,GAAG,CAAC,cAAc,MAAM,MACxB,EAAE,CAAC,aAAa;oBAEnB,IAAI,OAAO,MAAM;oBACjB,MAAM,CAAC,UAAU,GAAG,SAAS;gBAC/B;gBAEA,OAAO,kKAAe,CAAC,GAAG;0DAAC,CAAA,YAAa,CAAC;4BACvC;4BACA,OAAO,MAAM,CAAC,UAAU,IAAI;wBAC9B,CAAC;;YACH;;QACA,WAAW,IAAI,KAAK;IACtB;AACF;GAzBgB;;QACP,8MAAQ;;;AA0BV,SAAS;;IACd,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;SAAoB;QAC/B,OAAO;2CAAE;gBACP,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,GAAG,MAAM,4KAAQ,CACpC,IAAI,CAAC,mBACL,MAAM,CAAC,KAAK;oBAAE,OAAO;oBAAS,MAAM;gBAAK,GACzC,GAAG,CAAC,cAAc,MAAM;gBAE3B,IAAI,OAAO,MAAM;gBACjB,OAAO,SAAS;YAClB;;QACA,WAAW,IAAI,KAAK;IACtB;AACF;IAdgB;;QACP,8MAAQ","debugId":null}},
    {"offset": {"line": 5025, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/venues/WorldMap.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from \"react\";\r\nimport countryShapes from \"world-map-country-shapes\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\ninterface WorldMapProps {\r\n  venueCounts: Record<string, number>;\r\n  onSelectContinent: (continent: string) => void;\r\n}\r\n\r\n// Continent to country code mapping (ISO 2-digit codes)\r\nconst CONTINENT_MAPPING: Record<string, string[]> = {\r\n  'Europe': ['AD','AL','AT','BA','BE','BG','BY','CH','CY','CZ','DE','DK','EE','ES','FI','FO','FR','GB','GR','HR','HU','IE','IS','IT','LI','LT','LU','LV','MD','ME','MK','MT','NL','NO','PL','PT','RO','RS','SE','SI','SK','UA','IC'],\r\n  'North America': ['AG','BB','BS','BZ','CA','CR','CU','DM','DO','GD','GL','GT','HN','HT','JM','KN','KY','LC','MX','NI','PA','PR','SV','TC','TT','US','VC','VG','VI','AW','CW','GP','MQ','GF','AI','BM','MS','SX'],\r\n  'South America': ['AR','BO','BR','CL','CO','EC','FK','GY','PE','PY','SR','UY','VE'],\r\n  'Asia': ['AE','AF','AM','AZ','BD','BH','BN','BT','CN','GE','HK','ID','IL','IN','IQ','IR','JO','JP','KG','KH','KP','KR','KW','KZ','LA','LB','LK','MM','MN','MY','NP','OM','PH','PK','PS','QA','RU','SA','SG','SY','TH','TJ','TL','TM','TR','TW','UZ','VN','YE','MV'],\r\n  'Africa': ['AO','BF','BI','BJ','BW','CD','CF','CG','CI','CM','CV','DJ','DZ','EG','EH','ER','ET','GA','GH','GM','GN','GQ','GW','KE','KM','LR','LS','LY','MA','MG','ML','MR','MU','MW','MZ','NA','NE','NG','RE','RW','SC','SD','SL','SN','SO','SS','ST','SZ','TD','TG','TN','TZ','UG','YT','ZA','ZM','ZW'],\r\n  'Oceania': ['AU','FJ','NC','NR','NZ','PF','PG','SB','TO','VU','PN']\r\n};\r\n\r\n// Continent highlight colors\r\nconst CONTINENT_COLORS: Record<string, string> = {\r\n  'Europe': '#ef4444',      // red - brand accent\r\n  'North America': '#f97316', // orange\r\n  'South America': '#eab308', // gold\r\n  'Asia': '#22c55e',        // green\r\n  'Africa': '#14b8a6',      // teal\r\n  'Oceania': '#0ea5e9',     // sky blue\r\n};\r\n\r\nconst CONTINENT_ORDER = [\r\n  'Europe',\r\n  'North America',\r\n  'South America',\r\n  'Asia',\r\n  'Africa',\r\n  'Oceania'\r\n];\r\n\r\n// Build country ID to continent lookup\r\nconst countryToContinent: Record<string, string> = {};\r\nObject.entries(CONTINENT_MAPPING).forEach(([continent, countries]) => {\r\n  countries.forEach(code => {\r\n    countryToContinent[code] = continent;\r\n  });\r\n});\r\n\r\n// Group country shapes by continent\r\nconst getCountryPathsByContinent = () => {\r\n  const result: Record<string, { id: string; shape: string }[]> = {\r\n    'Europe': [],\r\n    'North America': [],\r\n    'South America': [],\r\n    'Asia': [],\r\n    'Africa': [],\r\n    'Oceania': [],\r\n  };\r\n  \r\n  countryShapes.forEach((country: { id: string; shape: string }) => {\r\n    const continent = countryToContinent[country.id];\r\n    if (continent && result[continent]) {\r\n      result[continent].push(country);\r\n    }\r\n  });\r\n  \r\n  return result;\r\n};\r\n\r\nconst CONTINENT_PATHS = getCountryPathsByContinent();\r\n\r\n// Get continent slug for URL\r\nconst getContinentSlug = (continent: string): string => {\r\n  return continent.toLowerCase().replace(/\\s+/g, '-');\r\n};\r\n\r\nexport function WorldMap({ venueCounts, onSelectContinent }: WorldMapProps) {\r\n  const [hoveredContinent, setHoveredContinent] = useState<string | null>(null);\r\n\r\n  const getCount = (continent: string): number => {\r\n    return venueCounts[continent] || 0;\r\n  };\r\n\r\n  const handleContinentClick = (continent: string) => {\r\n    onSelectContinent(continent);\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full max-w-4xl mx-auto\">\r\n      {/* Map container */}\r\n      <div \r\n        className=\"relative rounded-xl overflow-hidden border border-zinc-700\"\r\n        style={{ backgroundColor: '#18181b' }}\r\n        onMouseLeave={() => setHoveredContinent(null)}\r\n      >\r\n        <svg \r\n          viewBox=\"0 0 2000 1001\" \r\n          className=\"w-full h-auto\"\r\n          style={{ maxHeight: '360px' }}\r\n        >\r\n          {/* Dark background */}\r\n          <rect x=\"0\" y=\"0\" width=\"2000\" height=\"1001\" fill=\"#18181b\" />\r\n          \r\n          {/* Render countries grouped by continent */}\r\n          {Object.entries(CONTINENT_PATHS).map(([continent, countries]) => {\r\n            const isHovered = hoveredContinent === continent;\r\n            const color = CONTINENT_COLORS[continent] || '#3f3f46';\r\n            \r\n            return (\r\n              <g key={continent}>\r\n                {countries.map((country) => (\r\n                  <path\r\n                    key={country.id}\r\n                    d={country.shape}\r\n                    fill={isHovered ? color : '#3f3f46'}\r\n                    stroke={isHovered ? color : '#52525b'}\r\n                    strokeWidth={isHovered ? 1.5 : 0.5}\r\n                    className=\"transition-all duration-200 cursor-pointer\"\r\n                    onMouseEnter={() => setHoveredContinent(continent)}\r\n                    onClick={() => handleContinentClick(continent)}\r\n                  />\r\n                ))}\r\n              </g>\r\n            );\r\n          })}\r\n        </svg>\r\n\r\n        {/* Info card - bottom left */}\r\n        <div\r\n          className={`absolute bottom-3 left-3 bg-zinc-800/95 backdrop-blur-sm border border-zinc-700 rounded-lg shadow-lg px-4 py-3 transition-all duration-300 ${\r\n            hoveredContinent ? \"opacity-100 translate-y-0\" : \"opacity-0 -translate-y-2 pointer-events-none\"\r\n          }`}\r\n        >\r\n          {hoveredContinent && (\r\n            <>\r\n              <div className=\"flex items-center gap-2.5\">\r\n                <span \r\n                  className=\"w-3 h-3 rounded-full\" \r\n                  style={{ backgroundColor: CONTINENT_COLORS[hoveredContinent] }}\r\n                />\r\n                <span \r\n                  className=\"font-semibold text-sm text-white\"\r\n                >\r\n                  {hoveredContinent}\r\n                </span>\r\n              </div>\r\n              <div className=\"text-sm text-zinc-400 mt-1\">\r\n                {getCount(hoveredContinent).toLocaleString()} venue{getCount(hoveredContinent) !== 1 ? 's' : ''}\r\n              </div>\r\n              <div className=\"text-xs text-zinc-500 mt-1.5 border-t border-zinc-700 pt-1.5\">\r\n                Click to explore\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Quick access buttons */}\r\n      <div className=\"grid grid-cols-3 md:grid-cols-6 gap-2 mt-3\">\r\n        {CONTINENT_ORDER.map((continent) => {\r\n          const color = CONTINENT_COLORS[continent];\r\n          const isHovered = hoveredContinent === continent;\r\n          const count = getCount(continent);\r\n          \r\n          return (\r\n            <button\r\n              key={continent}\r\n              className=\"relative px-3 py-2 rounded-lg border border-zinc-700 bg-zinc-800/50 hover:bg-zinc-800 transition-all duration-200 text-center group\"\r\n              style={{\r\n                borderColor: isHovered ? color : undefined,\r\n                backgroundColor: isHovered ? `${color}15` : undefined,\r\n              }}\r\n              onMouseEnter={() => setHoveredContinent(continent)}\r\n              onMouseLeave={() => setHoveredContinent(null)}\r\n              onClick={() => handleContinentClick(continent)}\r\n            >\r\n              <div \r\n                className=\"text-xs font-medium text-zinc-300 group-hover:text-white transition-colors\"\r\n                style={{ color: isHovered ? color : undefined }}\r\n              >\r\n                {continent === 'North America' ? 'N. America' : \r\n                 continent === 'South America' ? 'S. America' : continent}\r\n              </div>\r\n              <div className=\"text-[10px] text-zinc-500 mt-0.5\">\r\n                {count.toLocaleString()}\r\n              </div>\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      {/* Instruction text */}\r\n      <p className=\"text-center text-sm text-zinc-500 mt-3\">\r\n        Hover over a region and click to explore venues\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5517, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Card = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"rounded-lg border border-border bg-card text-card-foreground shadow-sm transition-all duration-200\", className)} {...props} />\n));\nCard.displayName = \"Card\";\n\nconst CardHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex flex-col space-y-1.5 p-6\", className)} {...props} />\n  ),\n);\nCardHeader.displayName = \"CardHeader\";\n\nconst CardTitle = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3 ref={ref} className={cn(\"text-2xl font-semibold leading-none tracking-tight\", className)} {...props} />\n  ),\n);\nCardTitle.displayName = \"CardTitle\";\n\nconst CardDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <p ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n  ),\n);\nCardDescription.displayName = \"CardDescription\";\n\nconst CardContent = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />,\n);\nCardContent.displayName = \"CardContent\";\n\nconst CardFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn(\"flex items-center p-6 pt-0\", className)} {...props} />\n  ),\n);\nCardFooter.displayName = \"CardFooter\";\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,+LAAgB,MAAuD,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBAC1G,iNAAC;QAAI,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,sGAAsG;QAAa,GAAG,KAAK;;;;;;;;AAE1J,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,+LAAgB,OACjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACtB,iNAAC;QAAI,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;;AAGvF,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,+LAAgB,OAChC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACtB,iNAAC;QAAG,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,sDAAsD;QAAa,GAAG,KAAK;;;;;;;;AAG3G,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,+LAAgB,OACtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACtB,iNAAC;QAAE,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;;;AAGrF,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,+LAAgB,OAClC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBAAU,iNAAC;QAAI,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;;AAElG,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,+LAAgB,QACjC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACtB,iNAAC;QAAI,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,8BAA8B;QAAa,GAAG,KAAK;;;;;;;;AAGpF,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 5642, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/venues/ContinentSelector.tsx"],"sourcesContent":["'use client';\n\nimport { ArrowRight, MapPin } from \"lucide-react\";\r\nimport { CONTINENT_COLORS, CONTINENT_ORDER } from \"@/lib/continents\";\r\nimport { useVenueCountsByContinent, useTotalVenueCount } from \"@/hooks/useVenueCounts\";\r\nimport { WorldMap } from \"./WorldMap\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useMemo } from \"react\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\n\r\ninterface ContinentSelectorProps {\r\n  onSelectContinent: (continent: string) => void;\r\n  onBrowseAll: () => void;\r\n}\r\n\r\nexport function ContinentSelector({ onSelectContinent, onBrowseAll }: ContinentSelectorProps) {\r\n  const { data: continentCounts, isLoading: countsLoading } = useVenueCountsByContinent();\r\n  const { data: totalCount, isLoading: totalLoading } = useTotalVenueCount();\r\n\r\n  // Abbreviated names for mobile display only\r\n  const getDisplayName = (continent: string): string => {\r\n    const abbreviations: Record<string, string> = {\r\n      \"North America\": \"N. America\",\r\n      \"South America\": \"S. America\",\r\n    };\r\n    return abbreviations[continent] || continent;\r\n  };\r\n\r\n  const getCount = (continent: string): number => {\r\n    return continentCounts?.find((c) => c.continent === continent)?.count || 0;\r\n  };\r\n\r\n  // Convert continent counts array to object for WorldMap\r\n  const venueCountsMap = useMemo(() => {\r\n    if (!continentCounts) return {};\r\n    return continentCounts.reduce(\r\n      (acc, { continent, count }) => {\r\n        acc[continent] = count;\r\n        return acc;\r\n      },\r\n      {} as Record<string, number>,\r\n    );\r\n  }, [continentCounts]);\r\n\r\n  return (\r\n    <div className=\"py-2\">\r\n      {/* Desktop: Interactive World Map */}\r\n      <div className=\"hidden md:block\">\r\n        <WorldMap venueCounts={venueCountsMap} onSelectContinent={onSelectContinent} />\r\n      </div>\r\n\r\n      {/* Mobile/Tablet: Continent Cards - always 2 columns, smaller on very small screens */}\r\n      <div className=\"grid grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4 md:hidden\">\r\n        {CONTINENT_ORDER.map((continent) => {\r\n          const count = getCount(continent);\r\n          const color = CONTINENT_COLORS[continent];\r\n\r\n          return (\r\n            <button\r\n              key={continent}\r\n              onClick={() => onSelectContinent(continent)}\r\n              disabled={count === 0}\r\n              className={cn(\"h-full block text-left\", count === 0 && \"opacity-50 cursor-not-allowed\")}\r\n            >\r\n              <Card\r\n                className={cn(\r\n                  \"transition-all duration-200 hover:shadow-md hover:border-primary/50 group hover-glow h-full\",\r\n                  count === 0 && \"pointer-events-none\",\r\n                )}\r\n              >\r\n                <CardContent className=\"p-3 sm:p-6 h-full flex flex-col\">\r\n                  {/* MapPin icon with continent name inline */}\r\n                  <div className=\"flex items-start gap-2 flex-1\">\r\n                    <div\r\n                      className=\"w-7 h-7 rounded-md flex items-center justify-center shrink-0 transition-all duration-200 group-hover:gradient-brand\"\r\n                      style={{ backgroundColor: `${color}26` }}\r\n                    >\r\n                      <MapPin size={20} className=\"group-hover:hidden\" style={{ color }} />\r\n                      <MapPin size={20} className=\"hidden group-hover:block text-primary-foreground\" />\r\n                    </div>\r\n                    <h3\r\n                      className=\"font-semibold text-sm sm:text-base text-foreground transition-colors duration-200\"\r\n                      style={{ \"--hover-color\": color } as React.CSSProperties}\r\n                    >\r\n                      <span className=\"group-hover:hidden\">{getDisplayName(continent)}</span>\r\n                      <span className=\"hidden group-hover:inline\" style={{ color }}>\r\n                        {getDisplayName(continent)}\r\n                      </span>\r\n                    </h3>\r\n                  </div>\r\n                  <p className=\"text-xs sm:text-sm text-muted-foreground pl-9 mt-1\">\r\n                    {countsLoading ? (\r\n                      <span className=\"inline-block w-10 sm:w-12 h-3 bg-muted animate-pulse rounded\" />\r\n                    ) : (\r\n                      `${count.toLocaleString()} venue${count !== 1 ? \"s\" : \"\"}`\r\n                    )}\r\n                  </p>\r\n                </CardContent>\r\n              </Card>\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAeO,SAAS,kBAAkB,KAA0D;QAA1D,EAAE,iBAAiB,EAAE,WAAW,EAA0B,GAA1D;;IAChC,MAAM,EAAE,MAAM,eAAe,EAAE,WAAW,aAAa,EAAE,GAAG,IAAA,kLAAyB;IACrF,MAAM,EAAE,MAAM,UAAU,EAAE,WAAW,YAAY,EAAE,GAAG,IAAA,2KAAkB;IAExE,4CAA4C;IAC5C,MAAM,iBAAiB,CAAC;QACtB,MAAM,gBAAwC;YAC5C,iBAAiB;YACjB,iBAAiB;QACnB;QACA,OAAO,aAAa,CAAC,UAAU,IAAI;IACrC;IAEA,MAAM,WAAW,CAAC;YACT;QAAP,OAAO,CAAA,4BAAA,uCAAA,wBAAA,gBAAiB,IAAI,CAAC,CAAC,IAAM,EAAE,SAAS,KAAK,wBAA7C,4CAAA,sBAAyD,KAAK,KAAI;IAC3E;IAEA,wDAAwD;IACxD,MAAM,iBAAiB,IAAA,4LAAO;qDAAC;YAC7B,IAAI,CAAC,iBAAiB,OAAO,CAAC;YAC9B,OAAO,gBAAgB,MAAM;6DAC3B,CAAC;wBAAK,EAAE,SAAS,EAAE,KAAK,EAAE;oBACxB,GAAG,CAAC,UAAU,GAAG;oBACjB,OAAO;gBACT;4DACA,CAAC;QAEL;oDAAG;QAAC;KAAgB;IAEpB,qBACE,iNAAC;QAAI,WAAU;;0BAEb,iNAAC;gBAAI,WAAU;0BACb,cAAA,iNAAC,2KAAQ;oBAAC,aAAa;oBAAgB,mBAAmB;;;;;;;;;;;0BAI5D,iNAAC;gBAAI,WAAU;0BACZ,kKAAe,CAAC,GAAG,CAAC,CAAC;oBACpB,MAAM,QAAQ,SAAS;oBACvB,MAAM,QAAQ,mKAAgB,CAAC,UAAU;oBAEzC,qBACE,iNAAC;wBAEC,SAAS,IAAM,kBAAkB;wBACjC,UAAU,UAAU;wBACpB,WAAW,IAAA,gJAAE,EAAC,0BAA0B,UAAU,KAAK;kCAEvD,cAAA,iNAAC,+JAAI;4BACH,WAAW,IAAA,gJAAE,EACX,+FACA,UAAU,KAAK;sCAGjB,cAAA,iNAAC,sKAAW;gCAAC,WAAU;;kDAErB,iNAAC;wCAAI,WAAU;;0DACb,iNAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,iBAAiB,AAAC,GAAQ,OAAN,OAAM;gDAAI;;kEAEvC,iNAAC,2OAAM;wDAAC,MAAM;wDAAI,WAAU;wDAAqB,OAAO;4DAAE;wDAAM;;;;;;kEAChE,iNAAC,2OAAM;wDAAC,MAAM;wDAAI,WAAU;;;;;;;;;;;;0DAE9B,iNAAC;gDACC,WAAU;gDACV,OAAO;oDAAE,iBAAiB;gDAAM;;kEAEhC,iNAAC;wDAAK,WAAU;kEAAsB,eAAe;;;;;;kEACrD,iNAAC;wDAAK,WAAU;wDAA4B,OAAO;4DAAE;wDAAM;kEACxD,eAAe;;;;;;;;;;;;;;;;;;kDAItB,iNAAC;wCAAE,WAAU;kDACV,8BACC,iNAAC;4CAAK,WAAU;;;;;mDAEhB,AAAC,GAAiC,OAA/B,MAAM,cAAc,IAAG,UAA+B,OAAvB,UAAU,IAAI,MAAM;;;;;;;;;;;;;;;;;uBAnCzD;;;;;gBA0CX;;;;;;;;;;;;AAIR;GA1FgB;;QAC8C,kLAAyB;QAC/B,2KAAkB;;;KAF1D","debugId":null}},
    {"offset": {"line": 5858, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/FavouriteButton.tsx"],"sourcesContent":["'use client';\n\nimport { Heart } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { useIsFavourite } from \"@/hooks/useFavourites\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { memo } from \"react\";\r\n\r\ninterface FavouriteButtonProps {\r\n  listingId: string;\r\n  size?: \"sm\" | \"md\" | \"default\";\r\n  variant?: \"ghost\" | \"outline\" | \"default\";\r\n  className?: string;\r\n}\r\n\r\nfunction FavouriteButtonComponent({ listingId, size = \"md\", variant = \"ghost\", className }: FavouriteButtonProps) {\r\n  const { isFavourite, toggle } = useIsFavourite(listingId);\r\n\r\n  const sizeClasses = size === \"sm\" ? \"h-8 w-8\" : size === \"default\" ? \"h-10 w-10\" : \"h-10 w-10\";\r\n  const iconSizeClasses = size === \"sm\" ? \"h-4 w-4\" : size === \"default\" ? \"h-5 w-5\" : \"h-5 w-5\";\r\n\r\n  return (\r\n    <Button\r\n      variant={variant}\r\n      size=\"icon\"\r\n      className={cn(sizeClasses, isFavourite && \"text-red-500 hover:text-red-600\", className)}\r\n      onClick={(e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        toggle();\r\n      }}\r\n    >\r\n      <Heart className={cn(iconSizeClasses, isFavourite && \"fill-current\")} />\r\n    </Button>\r\n  );\r\n}\r\n\r\nexport const FavouriteButton = memo(FavouriteButtonComponent);\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;;;AANA;;;;;;AAeA,SAAS,yBAAyB,KAA8E;QAA9E,EAAE,SAAS,EAAE,OAAO,IAAI,EAAE,UAAU,OAAO,EAAE,SAAS,EAAwB,GAA9E;;IAChC,MAAM,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,IAAA,sKAAc,EAAC;IAE/C,MAAM,cAAc,SAAS,OAAO,YAAY,SAAS,YAAY,cAAc;IACnF,MAAM,kBAAkB,SAAS,OAAO,YAAY,SAAS,YAAY,YAAY;IAErF,qBACE,iNAAC,mKAAM;QACL,SAAS;QACT,MAAK;QACL,WAAW,IAAA,gJAAE,EAAC,aAAa,eAAe,mCAAmC;QAC7E,SAAS,CAAC;YACR,EAAE,cAAc;YAChB,EAAE,eAAe;YACjB;QACF;kBAEA,cAAA,iNAAC,oOAAK;YAAC,WAAW,IAAA,gJAAE,EAAC,iBAAiB,eAAe;;;;;;;;;;;AAG3D;GApBS;;QACyB,sKAAc;;;KADvC;AAsBF,MAAM,gCAAkB,IAAA,yLAAI,EAAC","debugId":null}},
    {"offset": {"line": 5922, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/TierBadge.tsx"],"sourcesContent":["import { Star } from \"lucide-react\";\nimport { ListingTier } from \"@/types/database\";\nimport { cn } from \"@/lib/utils\";\n\ninterface TierBadgeProps {\n  tier: ListingTier;\n  showLabel?: boolean;\n  className?: string;\n}\n\nconst tierConfig = {\n  premier: {\n    label: \"Premier\",\n    colorClass: \"text-tier-premier\",\n    bgClass: \"bg-tier-premier/20 border-tier-premier/40\",\n    glowClass: \"shadow-glow-pink\",\n  },\n  enhanced: {\n    label: \"Enhanced\",\n    colorClass: \"text-tier-enhanced\",\n    bgClass: \"bg-tier-enhanced/20 border-tier-enhanced/40\",\n    glowClass: \"shadow-glow-cyan\",\n  },\n  free: {\n    label: \"Free\",\n    colorClass: \"text-tier-free\",\n    bgClass: \"bg-tier-free/20 border-tier-free/40\",\n    glowClass: \"\",\n  },\n};\n\nexport function TierBadge({ tier, showLabel = false, className }: TierBadgeProps) {\n  const config = tierConfig[tier];\n\n  return (\n    <div\n      className={cn(\n        \"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium border\",\n        config.bgClass,\n        config.colorClass,\n        tier !== 'free' && config.glowClass,\n        className\n      )}\n    >\n      <Star className=\"h-3 w-3 fill-current\" />\n      {showLabel && <span>{config.label}</span>}\n    </div>\n  );\n}\n\nexport function TierStar({ tier, className }: { tier: ListingTier; className?: string }) {\n  const config = tierConfig[tier];\n  \n  return (\n    <Star className={cn(\"h-4 w-4 fill-current\", config.colorClass, className)} />\n  );\n}"],"names":[],"mappings":";;;;;;;AAAA;AAEA;;;;AAQA,MAAM,aAAa;IACjB,SAAS;QACP,OAAO;QACP,YAAY;QACZ,SAAS;QACT,WAAW;IACb;IACA,UAAU;QACR,OAAO;QACP,YAAY;QACZ,SAAS;QACT,WAAW;IACb;IACA,MAAM;QACJ,OAAO;QACP,YAAY;QACZ,SAAS;QACT,WAAW;IACb;AACF;AAEO,SAAS,UAAU,KAAsD;QAAtD,EAAE,IAAI,EAAE,YAAY,KAAK,EAAE,SAAS,EAAkB,GAAtD;IACxB,MAAM,SAAS,UAAU,CAAC,KAAK;IAE/B,qBACE,iNAAC;QACC,WAAW,IAAA,gJAAE,EACX,sFACA,OAAO,OAAO,EACd,OAAO,UAAU,EACjB,SAAS,UAAU,OAAO,SAAS,EACnC;;0BAGF,iNAAC,iOAAI;gBAAC,WAAU;;;;;;YACf,2BAAa,iNAAC;0BAAM,OAAO,KAAK;;;;;;;;;;;;AAGvC;KAjBgB;AAmBT,SAAS,SAAS,KAA8D;QAA9D,EAAE,IAAI,EAAE,SAAS,EAA6C,GAA9D;IACvB,MAAM,SAAS,UAAU,CAAC,KAAK;IAE/B,qBACE,iNAAC,iOAAI;QAAC,WAAW,IAAA,gJAAE,EAAC,wBAAwB,OAAO,UAAU,EAAE;;;;;;AAEnE;MANgB","debugId":null}},
    {"offset": {"line": 6004, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/countryAliases.ts"],"sourcesContent":["// Canonical slug  display name mapping\nexport const COUNTRY_ALIASES: Record<string, string> = {\n  'uk': 'United Kingdom',\n  'usa': 'United States',\n  'us': 'United States',\n};\n\n// Display name  preferred slug mapping\nexport const COUNTRY_PREFERRED_SLUGS: Record<string, string> = {\n  'United Kingdom': 'uk',\n  'United States': 'usa',\n  'USA': 'usa',\n};\n\n// Convert country name to URL slug (using preferred short form if available)\nexport function countryToSlug(country: string): string {\n  if (COUNTRY_PREFERRED_SLUGS[country]) {\n    return COUNTRY_PREFERRED_SLUGS[country];\n  }\n  return country\n    .toLowerCase()\n    .replace(/[^a-z0-9]+/g, '-')\n    .replace(/^-|-$/g, '');\n}\n\n// Convert URL slug to country name (handling aliases)\nexport function slugToCountry(slug: string, knownCountries: string[]): string | null {\n  // Check aliases first\n  const normalizedSlug = slug.toLowerCase();\n  if (COUNTRY_ALIASES[normalizedSlug]) {\n    return COUNTRY_ALIASES[normalizedSlug];\n  }\n  \n  // Fall back to matching against known countries\n  return knownCountries.find(c => \n    c.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '') === normalizedSlug\n  ) || null;\n}\n"],"names":[],"mappings":"AAAA,wCAAwC;;;;;;;;;;;AACjC,MAAM,kBAA0C;IACrD,MAAM;IACN,OAAO;IACP,MAAM;AACR;AAGO,MAAM,0BAAkD;IAC7D,kBAAkB;IAClB,iBAAiB;IACjB,OAAO;AACT;AAGO,SAAS,cAAc,OAAe;IAC3C,IAAI,uBAAuB,CAAC,QAAQ,EAAE;QACpC,OAAO,uBAAuB,CAAC,QAAQ;IACzC;IACA,OAAO,QACJ,WAAW,GACX,OAAO,CAAC,eAAe,KACvB,OAAO,CAAC,UAAU;AACvB;AAGO,SAAS,cAAc,IAAY,EAAE,cAAwB;IAClE,sBAAsB;IACtB,MAAM,iBAAiB,KAAK,WAAW;IACvC,IAAI,eAAe,CAAC,eAAe,EAAE;QACnC,OAAO,eAAe,CAAC,eAAe;IACxC;IAEA,gDAAgD;IAChD,OAAO,eAAe,IAAI,CAAC,CAAA,IACzB,EAAE,WAAW,GAAG,OAAO,CAAC,eAAe,KAAK,OAAO,CAAC,UAAU,QAAQ,mBACnE;AACP","debugId":null}},
    {"offset": {"line": 6047, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/venueUrlUtils.ts"],"sourcesContent":["'use client';\n\nimport { CONTINENT_COUNTRIES, getContinentSlug } from './continents';\r\nimport { countryToSlug, slugToCountry } from './countryAliases';\r\nimport { isCityRegion } from './cityRegions';\r\n\r\n// Convert display name to URL slug\r\nexport function toSlug(name: string): string {\r\n  return name\r\n    .toLowerCase()\r\n    .replace(/[^a-z0-9]+/g, '-')\r\n    .replace(/^-|-$/g, '');\r\n}\r\n\r\n// Convert slug back to display name by matching against known values\r\nexport function fromSlug(slug: string, knownValues: string[]): string | null {\r\n  const normalized = slug.toLowerCase();\r\n  return knownValues.find(v => toSlug(v) === normalized) || null;\r\n}\r\n\r\n// Convert country slug back to display name (with alias support)\r\nexport function fromCountrySlug(slug: string, knownCountries: string[]): string | null {\r\n  return slugToCountry(slug, knownCountries);\r\n}\r\n\r\n// Get continent from country\r\nexport function getContinentForCountry(country: string): string | null {\r\n  for (const [continent, countries] of Object.entries(CONTINENT_COUNTRIES)) {\r\n    if (countries.includes(country)) {\r\n      return continent;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\n// Countries that have regions configured (normalized names)\r\nexport const COUNTRIES_WITH_REGIONS = ['UK', 'United Kingdom', 'USA', 'United States'];\r\n\r\nexport function countryHasRegions(country: string): boolean {\r\n  return COUNTRIES_WITH_REGIONS.some(c => \r\n    c.toLowerCase() === country.toLowerCase()\r\n  );\r\n}\r\n\r\n// Build venue URL from location parameters\r\n// For city-regions (London, New York), the region IS the city - don't add city segment\r\nexport function buildVenueUrl(params: {\r\n  continent?: string | null;\r\n  country?: string | null;\r\n  regionSlug?: string | null;\r\n  city?: string | null;\r\n}): string {\r\n  const parts = ['/venues'];\r\n  \r\n  if (params.continent) {\r\n    parts.push(getContinentSlug(params.continent));\r\n    \r\n    if (params.country) {\r\n      parts.push(countryToSlug(params.country));\r\n      \r\n      if (params.regionSlug) {\r\n        parts.push(params.regionSlug);\r\n        \r\n        // For city-regions, skip the city segment (region IS the city)\r\n        if (!isCityRegion(params.country, params.regionSlug) && params.city) {\r\n          parts.push(toSlug(params.city));\r\n        }\r\n      } else if (params.city) {\r\n        parts.push(toSlug(params.city));\r\n      }\r\n    }\r\n  }\r\n  \r\n  return parts.join('/');\r\n}\r\n\r\n// Re-export for convenience\r\nexport { isCityRegion } from './cityRegions';\r\nexport { countryToSlug } from './countryAliases';\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAJA;;;;AAOO,SAAS,OAAO,IAAY;IACjC,OAAO,KACJ,WAAW,GACX,OAAO,CAAC,eAAe,KACvB,OAAO,CAAC,UAAU;AACvB;AAGO,SAAS,SAAS,IAAY,EAAE,WAAqB;IAC1D,MAAM,aAAa,KAAK,WAAW;IACnC,OAAO,YAAY,IAAI,CAAC,CAAA,IAAK,OAAO,OAAO,eAAe;AAC5D;AAGO,SAAS,gBAAgB,IAAY,EAAE,cAAwB;IACpE,OAAO,IAAA,oKAAa,EAAC,MAAM;AAC7B;AAGO,SAAS,uBAAuB,OAAe;IACpD,KAAK,MAAM,CAAC,WAAW,UAAU,IAAI,OAAO,OAAO,CAAC,sKAAmB,EAAG;QACxE,IAAI,UAAU,QAAQ,CAAC,UAAU;YAC/B,OAAO;QACT;IACF;IACA,OAAO;AACT;AAGO,MAAM,yBAAyB;IAAC;IAAM;IAAkB;IAAO;CAAgB;AAE/E,SAAS,kBAAkB,OAAe;IAC/C,OAAO,uBAAuB,IAAI,CAAC,CAAA,IACjC,EAAE,WAAW,OAAO,QAAQ,WAAW;AAE3C;AAIO,SAAS,cAAc,MAK7B;IACC,MAAM,QAAQ;QAAC;KAAU;IAEzB,IAAI,OAAO,SAAS,EAAE;QACpB,MAAM,IAAI,CAAC,IAAA,mKAAgB,EAAC,OAAO,SAAS;QAE5C,IAAI,OAAO,OAAO,EAAE;YAClB,MAAM,IAAI,CAAC,IAAA,oKAAa,EAAC,OAAO,OAAO;YAEvC,IAAI,OAAO,UAAU,EAAE;gBACrB,MAAM,IAAI,CAAC,OAAO,UAAU;gBAE5B,+DAA+D;gBAC/D,IAAI,CAAC,IAAA,gKAAY,EAAC,OAAO,OAAO,EAAE,OAAO,UAAU,KAAK,OAAO,IAAI,EAAE;oBACnE,MAAM,IAAI,CAAC,OAAO,OAAO,IAAI;gBAC/B;YACF,OAAO,IAAI,OAAO,IAAI,EAAE;gBACtB,MAAM,IAAI,CAAC,OAAO,OAAO,IAAI;YAC/B;QACF;IACF;IAEA,OAAO,MAAM,IAAI,CAAC;AACpB","debugId":null}},
    {"offset": {"line": 6127, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/buildVenueUrl.ts"],"sourcesContent":["'use client';\n\nimport { countryToSlug } from \"./countryAliases\";\r\nimport { getContinentSlug } from \"./continents\";\r\nimport { getContinentForCountry, toSlug } from \"./venueUrlUtils\";\r\nimport { isCityRegion } from \"./cityRegions\";\r\n\r\ninterface VenueUrlParams {\r\n  slug: string;\r\n  country: string | null;\r\n  regionSlug: string | null;\r\n  city: string | null;\r\n}\r\n\r\n/**\r\n * Builds the full SEO-friendly URL path for a venue\r\n * Example output: /venues/europe/uk/south-east/london/o2-arena\r\n *\r\n * For city-regions (London, New York), skip the redundant city segment:\r\n * /venues/europe/uk/london/o2-arena (not /venues/europe/uk/london/london/o2-arena)\r\n */\r\nexport function buildVenueProfileUrl(venue: VenueUrlParams): string {\r\n  const { slug, country, regionSlug, city } = venue;\r\n\r\n  // Fallback to basic listing URL if we don't have location data\r\n  if (!country) {\r\n    return `/listing/${slug}`;\r\n  }\r\n\r\n  let continent = getContinentForCountry(country);\r\n\r\n  // Fallback: If country not in mapping, try to infer continent from country name patterns\r\n  if (!continent) {\r\n    console.warn(`Country \"${country}\" not found in continent mapping, using fallback`);\r\n\r\n    // Try to infer from common patterns or default to listing URL\r\n    const countryLower = country.toLowerCase();\r\n    if (countryLower.includes(\"island\") || countryLower.includes(\"pacific\")) {\r\n      continent = \"Oceania\";\r\n    } else if (\r\n      countryLower.includes(\"africa\") ||\r\n      [\"nigeria\", \"ghana\", \"kenya\", \"egypt\"].some((c) => countryLower.includes(c))\r\n    ) {\r\n      continent = \"Africa\";\r\n    } else if (\r\n      [\"arab\", \"dubai\", \"saudi\", \"qatar\", \"israel\", \"jordan\", \"lebanon\"].some((c) => countryLower.includes(c))\r\n    ) {\r\n      continent = \"Asia\";\r\n    } else {\r\n      // If we really can't determine, fall back to listing URL\r\n      return `/listing/${slug}`;\r\n    }\r\n  }\r\n\r\n  const parts = [\"/venues\", getContinentSlug(continent), countryToSlug(country)];\r\n\r\n  // Add region if present\r\n  if (regionSlug) {\r\n    parts.push(regionSlug);\r\n\r\n    // For city-regions (London, New York), the region IS the city - don't add city segment\r\n    // This prevents URLs like /uk/london/london/venue-name\r\n    if (!isCityRegion(country, regionSlug)) {\r\n      // Only add city if it's not a city-region\r\n      if (city) {\r\n        parts.push(toSlug(city));\r\n      }\r\n    }\r\n  } else if (city) {\r\n    // No region, just add city\r\n    parts.push(toSlug(city));\r\n  }\r\n\r\n  // Add venue slug\r\n  parts.push(slug);\r\n\r\n  return parts.join(\"/\");\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;AAqBO,SAAS,qBAAqB,KAAqB;IACxD,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG;IAE5C,+DAA+D;IAC/D,IAAI,CAAC,SAAS;QACZ,OAAO,AAAC,YAAgB,OAAL;IACrB;IAEA,IAAI,YAAY,IAAA,4LAAsB,EAAC;IAEvC,yFAAyF;IACzF,IAAI,CAAC,WAAW;QACd,QAAQ,IAAI,CAAC,AAAC,YAAmB,OAAR,SAAQ;QAEjC,8DAA8D;QAC9D,MAAM,eAAe,QAAQ,WAAW;QACxC,IAAI,aAAa,QAAQ,CAAC,aAAa,aAAa,QAAQ,CAAC,YAAY;YACvE,YAAY;QACd,OAAO,IACL,aAAa,QAAQ,CAAC,aACtB;YAAC;YAAW;YAAS;YAAS;SAAQ,CAAC,IAAI,CAAC,CAAC,IAAM,aAAa,QAAQ,CAAC,KACzE;YACA,YAAY;QACd,OAAO,IACL;YAAC;YAAQ;YAAS;YAAS;YAAS;YAAU;YAAU;SAAU,CAAC,IAAI,CAAC,CAAC,IAAM,aAAa,QAAQ,CAAC,KACrG;YACA,YAAY;QACd,OAAO;YACL,yDAAyD;YACzD,OAAO,AAAC,YAAgB,OAAL;QACrB;IACF;IAEA,MAAM,QAAQ;QAAC;QAAW,IAAA,mKAAgB,EAAC;QAAY,IAAA,oKAAa,EAAC;KAAS;IAE9E,wBAAwB;IACxB,IAAI,YAAY;QACd,MAAM,IAAI,CAAC;QAEX,uFAAuF;QACvF,uDAAuD;QACvD,IAAI,CAAC,IAAA,gKAAY,EAAC,SAAS,aAAa;YACtC,0CAA0C;YAC1C,IAAI,MAAM;gBACR,MAAM,IAAI,CAAC,IAAA,4KAAM,EAAC;YACpB;QACF;IACF,OAAO,IAAI,MAAM;QACf,2BAA2B;QAC3B,MAAM,IAAI,CAAC,IAAA,4KAAM,EAAC;IACpB;IAEA,iBAAiB;IACjB,MAAM,IAAI,CAAC;IAEX,OAAO,MAAM,IAAI,CAAC;AACpB","debugId":null}},
    {"offset": {"line": 6207, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useVenueUrl.ts"],"sourcesContent":["'use client';\n\nimport { useMemo } from 'react';\r\nimport { buildVenueProfileUrl } from '@/lib/buildVenueUrl';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { supabase } from '@/integrations/supabase/client';\r\n\r\ninterface VenueListing {\r\n  id: string;\r\n  slug: string;\r\n  country: string | null;\r\n  region_id?: number | null;\r\n  region_slug?: string | null;\r\n  town_city: string | null;\r\n}\r\n\r\nexport function useVenueUrl(venue: VenueListing | null): string | null {\r\n  // Fetch region slug if venue has region_id but no region_slug\r\n  const { data: region } = useQuery({\r\n    queryKey: ['region', venue?.region_id],\r\n    queryFn: async () => {\r\n      if (!venue?.region_id) return null;\r\n      const { data } = await supabase\r\n        .from('regions')\r\n        .select('region_slug')\r\n        .eq('id', venue.region_id)\r\n        .single();\r\n      return data;\r\n    },\r\n    enabled: !!venue?.region_id && !venue?.region_slug,\r\n  });\r\n  \r\n  return useMemo(() => {\r\n    if (!venue) return null;\r\n    \r\n    return buildVenueProfileUrl({\r\n      slug: venue.slug,\r\n      country: venue.country,\r\n      regionSlug: venue.region_slug || region?.region_slug || null,\r\n      city: venue.town_city,\r\n    });\r\n  }, [venue, region]);\r\n}\r\n\r\n/**\r\n * Synchronous version for when you already have region_slug\r\n */\r\nexport function getVenueUrl(venue: {\r\n  slug: string;\r\n  country: string | null;\r\n  region_slug?: string | null;\r\n  town_city: string | null;\r\n}): string {\r\n  return buildVenueProfileUrl({\r\n    slug: venue.slug,\r\n    country: venue.country,\r\n    regionSlug: venue.region_slug || null,\r\n    city: venue.town_city,\r\n  });\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AACA;AACA;;AALA;;;;;AAgBO,SAAS,YAAY,KAA0B;;IACpD,8DAA8D;IAC9D,MAAM,EAAE,MAAM,MAAM,EAAE,GAAG,IAAA,8MAAQ,EAAC;QAChC,UAAU;YAAC;YAAU,kBAAA,4BAAA,MAAO,SAAS;SAAC;QACtC,OAAO;oCAAE;gBACP,IAAI,EAAC,kBAAA,4BAAA,MAAO,SAAS,GAAE,OAAO;gBAC9B,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,4KAAQ,CAC5B,IAAI,CAAC,WACL,MAAM,CAAC,eACP,EAAE,CAAC,MAAM,MAAM,SAAS,EACxB,MAAM;gBACT,OAAO;YACT;;QACA,SAAS,CAAC,EAAC,kBAAA,4BAAA,MAAO,SAAS,KAAI,EAAC,kBAAA,4BAAA,MAAO,WAAW;IACpD;IAEA,OAAO,IAAA,4LAAO;+BAAC;YACb,IAAI,CAAC,OAAO,OAAO;YAEnB,OAAO,IAAA,0KAAoB,EAAC;gBAC1B,MAAM,MAAM,IAAI;gBAChB,SAAS,MAAM,OAAO;gBACtB,YAAY,MAAM,WAAW,KAAI,mBAAA,6BAAA,OAAQ,WAAW,KAAI;gBACxD,MAAM,MAAM,SAAS;YACvB;QACF;8BAAG;QAAC;QAAO;KAAO;AACpB;GA1BgB;;QAEW,8MAAQ;;;AA6B5B,SAAS,YAAY,KAK3B;IACC,OAAO,IAAA,0KAAoB,EAAC;QAC1B,MAAM,MAAM,IAAI;QAChB,SAAS,MAAM,OAAO;QACtB,YAAY,MAAM,WAAW,IAAI;QACjC,MAAM,MAAM,SAAS;IACvB;AACF","debugId":null}},
    {"offset": {"line": 6275, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/venues/VenueCard.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { Users } from \"lucide-react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { VenueListing } from \"@/hooks/useVenues\";\nimport { FavouriteButton } from \"@/components/FavouriteButton\";\nimport { TierStar } from \"@/components/TierBadge\";\nimport { cn } from \"@/lib/utils\";\nimport { getVenueUrl } from \"@/hooks/useVenueUrl\";\nimport { ListingTier } from \"@/types/database\";\n\ninterface VenueCardProps {\n  venue: VenueListing;\n  isHighlighted?: boolean;\n  onHover?: () => void;\n  onHoverEnd?: () => void;\n}\n\nconst VENUE_TYPE_COLORS: Record<string, string> = {\n  \"Arena\": \"bg-accent/20 text-accent border-accent/40\",\n  \"Amphitheatre\": \"bg-accent-teal/20 text-accent-teal border-accent-teal/40\",\n  \"Bar\": \"bg-tier-free/20 text-tier-free border-tier-free/40\",\n  \"Club\": \"bg-accent-violet/20 text-accent-violet border-accent-violet/40\",\n  \"Concert Hall\": \"bg-primary/20 text-primary border-primary/40\",\n  \"Convention Centre\": \"bg-muted-foreground/20 text-muted-foreground border-muted-foreground/40\",\n  \"Cultural Centre\": \"bg-accent-teal/20 text-accent-teal border-accent-teal/40\",\n  \"Opera House\": \"bg-primary/20 text-primary border-primary/40\",\n  \"Outdoor Venue\": \"bg-accent/20 text-accent border-accent/40\",\n  \"Performing Arts Centre\": \"bg-accent-violet/20 text-accent-violet border-accent-violet/40\",\n  \"Stadium\": \"bg-accent/20 text-accent border-accent/40\",\n  \"Theatre\": \"bg-primary/20 text-primary border-primary/40\",\n};\n\nfunction formatCapacity(capacity: number | null): string {\n  if (!capacity) return \"\";\n  if (capacity >= 1000) {\n    return `${(capacity / 1000).toFixed(capacity >= 10000 ? 0 : 1)}k cap`;\n  }\n  return `${capacity} cap`;\n}\n\nexport function VenueCard({\n  venue,\n  isHighlighted,\n  onHover,\n  onHoverEnd,\n}: VenueCardProps) {\n  const typeColorClass = venue.venue_type ? VENUE_TYPE_COLORS[venue.venue_type] || \"bg-muted text-muted-foreground\" : \"\";\n  const tier = (venue.tier || 'free') as ListingTier;\n  const isPremier = tier === 'premier';\n  const isEnhanced = tier === 'enhanced';\n  \n  // Build SEO-friendly venue URL\n  const venueUrl = getVenueUrl({\n    slug: venue.slug,\n    country: venue.country,\n    region_slug: venue.region_slug || null,\n    town_city: venue.town_city,\n  });\n\n  const cardContent = (\n    <div\n      className={cn(\n        \"px-3 py-2 rounded-lg border transition-all duration-200 relative flex items-center gap-3\",\n        // Background tint based on tier\n        isPremier && !isHighlighted && \"bg-primary/[0.03]\",\n        isEnhanced && !isHighlighted && \"bg-accent/[0.03]\",\n        // Highlighted state (from map)\n        isHighlighted && \"bg-primary/10 border-primary shadow-glow-pink\",\n        // Default border\n        !isHighlighted && \"border-border\",\n        // Hover states based on tier\n        !isHighlighted && isPremier && \"hover:bg-primary/[0.08] hover:border-primary/50 hover:shadow-[0_0_15px_hsl(330_80%_55%/0.15)]\",\n        !isHighlighted && isEnhanced && \"hover:bg-accent/[0.08] hover:border-accent/50 hover:shadow-[0_0_15px_hsl(185_100%_50%/0.15)]\",\n        !isHighlighted && !isPremier && !isEnhanced && \"hover:bg-muted/50 hover:border-muted-foreground/30\"\n      )}\n      onMouseEnter={onHover}\n      onMouseLeave={onHoverEnd}\n      data-venue-id={venue.id}\n    >\n      {/* Tier Star */}\n      <TierStar tier={tier} className=\"flex-shrink-0\" />\n      \n      {/* Main content */}\n      <div className=\"flex-1 min-w-0\">\n        <span className={cn(\n          \"font-medium text-sm transition-colors line-clamp-1\",\n          isPremier && \"group-hover:text-primary\",\n          isEnhanced && \"group-hover:text-accent\",\n          !isPremier && !isEnhanced && \"group-hover:text-foreground\"\n        )}>\n          {venue.name}\n        </span>\n        \n        <div className=\"flex flex-wrap items-center gap-1.5 mt-1\">\n          {venue.venue_type && (\n            <Badge variant=\"outline\" className={cn(\"text-[10px] px-1.5 py-0 h-4\", typeColorClass)}>\n              {venue.venue_type}\n            </Badge>\n          )}\n          {venue.venue_capacity && (\n            <Badge variant=\"outline\" className=\"text-[10px] px-1.5 py-0 h-4 bg-muted/50 gap-0.5\">\n              <Users className=\"h-2.5 w-2.5\" />\n              {formatCapacity(venue.venue_capacity)}\n            </Badge>\n          )}\n          {(venue.town_city || venue.country) && (\n            <span className=\"text-[10px] text-muted-foreground\">\n              {[venue.town_city, venue.country].filter(Boolean).join(\", \")}\n            </span>\n          )}\n        </div>\n      </div>\n\n      {/* Favourite button - stop propagation to prevent navigation when clicking */}\n      <div onClick={(e) => e.stopPropagation()}>\n        <FavouriteButton listingId={venue.id} size=\"sm\" />\n      </div>\n    </div>\n  );\n\n  if (venueUrl) {\n    return (\n      <Link href={venueUrl} className=\"group block cursor-pointer\">\n        {cardContent}\n      </Link>\n    );\n  }\n\n  return cardContent;\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AATA;;;;;;;;;AAmBA,MAAM,oBAA4C;IAChD,SAAS;IACT,gBAAgB;IAChB,OAAO;IACP,QAAQ;IACR,gBAAgB;IAChB,qBAAqB;IACrB,mBAAmB;IACnB,eAAe;IACf,iBAAiB;IACjB,0BAA0B;IAC1B,WAAW;IACX,WAAW;AACb;AAEA,SAAS,eAAe,QAAuB;IAC7C,IAAI,CAAC,UAAU,OAAO;IACtB,IAAI,YAAY,MAAM;QACpB,OAAO,AAAC,GAAuD,OAArD,CAAC,WAAW,IAAI,EAAE,OAAO,CAAC,YAAY,QAAQ,IAAI,IAAG;IACjE;IACA,OAAO,AAAC,GAAW,OAAT,UAAS;AACrB;AAEO,SAAS,UAAU,KAKT;QALS,EACxB,KAAK,EACL,aAAa,EACb,OAAO,EACP,UAAU,EACK,GALS;IAMxB,MAAM,iBAAiB,MAAM,UAAU,GAAG,iBAAiB,CAAC,MAAM,UAAU,CAAC,IAAI,mCAAmC;IACpH,MAAM,OAAQ,MAAM,IAAI,IAAI;IAC5B,MAAM,YAAY,SAAS;IAC3B,MAAM,aAAa,SAAS;IAE5B,+BAA+B;IAC/B,MAAM,WAAW,IAAA,iKAAW,EAAC;QAC3B,MAAM,MAAM,IAAI;QAChB,SAAS,MAAM,OAAO;QACtB,aAAa,MAAM,WAAW,IAAI;QAClC,WAAW,MAAM,SAAS;IAC5B;IAEA,MAAM,4BACJ,iNAAC;QACC,WAAW,IAAA,gJAAE,EACX,4FACA,gCAAgC;QAChC,aAAa,CAAC,iBAAiB,qBAC/B,cAAc,CAAC,iBAAiB,oBAChC,+BAA+B;QAC/B,iBAAiB,iDACjB,iBAAiB;QACjB,CAAC,iBAAiB,iBAClB,6BAA6B;QAC7B,CAAC,iBAAiB,aAAa,iGAC/B,CAAC,iBAAiB,cAAc,gGAChC,CAAC,iBAAiB,CAAC,aAAa,CAAC,cAAc;QAEjD,cAAc;QACd,cAAc;QACd,iBAAe,MAAM,EAAE;;0BAGvB,iNAAC,kKAAQ;gBAAC,MAAM;gBAAM,WAAU;;;;;;0BAGhC,iNAAC;gBAAI,WAAU;;kCACb,iNAAC;wBAAK,WAAW,IAAA,gJAAE,EACjB,sDACA,aAAa,4BACb,cAAc,2BACd,CAAC,aAAa,CAAC,cAAc;kCAE5B,MAAM,IAAI;;;;;;kCAGb,iNAAC;wBAAI,WAAU;;4BACZ,MAAM,UAAU,kBACf,iNAAC,iKAAK;gCAAC,SAAQ;gCAAU,WAAW,IAAA,gJAAE,EAAC,+BAA+B;0CACnE,MAAM,UAAU;;;;;;4BAGpB,MAAM,cAAc,kBACnB,iNAAC,iKAAK;gCAAC,SAAQ;gCAAU,WAAU;;kDACjC,iNAAC,oOAAK;wCAAC,WAAU;;;;;;oCAChB,eAAe,MAAM,cAAc;;;;;;;4BAGvC,CAAC,MAAM,SAAS,IAAI,MAAM,OAAO,mBAChC,iNAAC;gCAAK,WAAU;0CACb;oCAAC,MAAM,SAAS;oCAAE,MAAM,OAAO;iCAAC,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC;;;;;;;;;;;;;;;;;;0BAO/D,iNAAC;gBAAI,SAAS,CAAC,IAAM,EAAE,eAAe;0BACpC,cAAA,iNAAC,+KAAe;oBAAC,WAAW,MAAM,EAAE;oBAAE,MAAK;;;;;;;;;;;;;;;;;IAKjD,IAAI,UAAU;QACZ,qBACE,iNAAC,8LAAI;YAAC,MAAM;YAAU,WAAU;sBAC7B;;;;;;IAGP;IAEA,OAAO;AACT;KAzFgB","debugId":null}},
    {"offset": {"line": 6456, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/venues/VirtualVenueList.tsx"],"sourcesContent":["'use client';\n\nimport { useRef, useCallback, memo, ReactNode, useEffect } from \"react\";\r\nimport { useVirtualizer } from \"@tanstack/react-virtual\";\r\nimport { VenueListing } from \"@/hooks/useVenues\";\r\nimport { VenueCard } from \"./VenueCard\";\r\n\r\ninterface VirtualVenueListProps {\r\n  venues: VenueListing[];\r\n  highlightedVenueId: string | null;\r\n  onHoverVenue: (venueId: string | null) => void;\r\n  className?: string;\r\n  footer?: ReactNode;\r\n  onScroll?: () => void;\r\n  // Scroll position persistence\r\n  initialScrollTop?: number;\r\n  onScrollPositionChange?: (scrollTop: number) => void;\r\n}\r\n\r\n// Memoized venue card to prevent unnecessary re-renders\r\nconst MemoizedVenueCard = memo(function MemoizedVenueCard({\r\n  venue,\r\n  isHighlighted,\r\n  onHover,\r\n  onHoverEnd,\r\n}: {\r\n  venue: VenueListing;\r\n  isHighlighted: boolean;\r\n  onHover: () => void;\r\n  onHoverEnd: () => void;\r\n}) {\r\n  return <VenueCard venue={venue} isHighlighted={isHighlighted} onHover={onHover} onHoverEnd={onHoverEnd} />;\r\n});\r\n\r\nexport function VirtualVenueList({\r\n  venues,\r\n  highlightedVenueId,\r\n  onHoverVenue,\r\n  className,\r\n  footer,\r\n  onScroll,\r\n  initialScrollTop,\r\n  onScrollPositionChange,\r\n}: VirtualVenueListProps) {\r\n  const parentRef = useRef<HTMLDivElement>(null);\r\n  const hasRestoredScroll = useRef(false);\r\n\r\n  // Virtual list - only renders visible items\r\n  const virtualizer = useVirtualizer({\r\n    count: venues.length,\r\n    getScrollElement: () => parentRef.current,\r\n    estimateSize: () => 72, // Height estimate - accounts for 2-line cards with badges\r\n    overscan: 5, // Render 5 extra items above/below viewport for smooth scrolling\r\n  });\r\n\r\n  const items = virtualizer.getVirtualItems();\r\n\r\n  // Restore scroll position after initial render\r\n  useEffect(() => {\r\n    if (\r\n      initialScrollTop !== undefined &&\r\n      initialScrollTop > 0 &&\r\n      parentRef.current &&\r\n      !hasRestoredScroll.current &&\r\n      venues.length > 0\r\n    ) {\r\n      // Small delay to ensure virtualizer has rendered\r\n      requestAnimationFrame(() => {\r\n        if (parentRef.current) {\r\n          parentRef.current.scrollTop = initialScrollTop;\r\n          hasRestoredScroll.current = true;\r\n        }\r\n      });\r\n    }\r\n  }, [initialScrollTop, venues.length]);\r\n\r\n  // Debounced hover handlers\r\n  const handleHover = useCallback(\r\n    (venueId: string) => {\r\n      onHoverVenue(venueId);\r\n    },\r\n    [onHoverVenue],\r\n  );\r\n\r\n  const handleHoverEnd = useCallback(() => {\r\n    onHoverVenue(null);\r\n  }, [onHoverVenue]);\r\n\r\n  // Combined scroll handler\r\n  const handleScroll = useCallback(() => {\r\n    onScroll?.();\r\n    if (parentRef.current && onScrollPositionChange) {\r\n      onScrollPositionChange(parentRef.current.scrollTop);\r\n    }\r\n  }, [onScroll, onScrollPositionChange]);\r\n\r\n  return (\r\n    <div ref={parentRef} className={className} style={{ overflow: \"auto\", contain: \"strict\" }} onScroll={handleScroll}>\r\n      <div\r\n        style={{\r\n          height: `${virtualizer.getTotalSize()}px`,\r\n          width: \"100%\",\r\n          position: \"relative\",\r\n        }}\r\n      >\r\n        {items.map((virtualItem) => {\r\n          const venue = venues[virtualItem.index];\r\n          return (\r\n            <div\r\n              key={venue.id}\r\n              data-venue-id={venue.id}\r\n              style={{\r\n                position: \"absolute\",\r\n                top: 0,\r\n                left: 0,\r\n                width: \"100%\",\r\n                height: `${virtualItem.size}px`,\r\n                transform: `translateY(${virtualItem.start}px)`,\r\n                padding: \"3px 0\",\r\n              }}\r\n            >\r\n              <MemoizedVenueCard\r\n                venue={venue}\r\n                isHighlighted={highlightedVenueId === venue.id}\r\n                onHover={() => handleHover(venue.id)}\r\n                onHoverEnd={handleHoverEnd}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      {/* Footer section - rendered after virtual list, in DOM for SEO */}\r\n      {footer && <div className=\"mt-4\">{footer}</div>}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;;;AALA;;;;AAmBA,wDAAwD;AACxD,MAAM,kCAAoB,IAAA,yLAAI,EAAC,SAAS,kBAAkB,KAUzD;QAVyD,EACxD,KAAK,EACL,aAAa,EACb,OAAO,EACP,UAAU,EAMX,GAVyD;IAWxD,qBAAO,iNAAC,6KAAS;QAAC,OAAO;QAAO,eAAe;QAAe,SAAS;QAAS,YAAY;;;;;;AAC9F;KAZM;AAcC,SAAS,iBAAiB,KAST;QATS,EAC/B,MAAM,EACN,kBAAkB,EAClB,YAAY,EACZ,SAAS,EACT,MAAM,EACN,QAAQ,EACR,gBAAgB,EAChB,sBAAsB,EACA,GATS;;IAU/B,MAAM,YAAY,IAAA,2LAAM,EAAiB;IACzC,MAAM,oBAAoB,IAAA,2LAAM,EAAC;IAEjC,4CAA4C;IAC5C,MAAM,cAAc,IAAA,+NAAc,EAAC;QACjC,OAAO,OAAO,MAAM;QACpB,gBAAgB;4DAAE,IAAM,UAAU,OAAO;;QACzC,YAAY;4DAAE,IAAM;;QACpB,UAAU;IACZ;IAEA,MAAM,QAAQ,YAAY,eAAe;IAEzC,+CAA+C;IAC/C,IAAA,8LAAS;sCAAC;YACR,IACE,qBAAqB,aACrB,mBAAmB,KACnB,UAAU,OAAO,IACjB,CAAC,kBAAkB,OAAO,IAC1B,OAAO,MAAM,GAAG,GAChB;gBACA,iDAAiD;gBACjD;kDAAsB;wBACpB,IAAI,UAAU,OAAO,EAAE;4BACrB,UAAU,OAAO,CAAC,SAAS,GAAG;4BAC9B,kBAAkB,OAAO,GAAG;wBAC9B;oBACF;;YACF;QACF;qCAAG;QAAC;QAAkB,OAAO,MAAM;KAAC;IAEpC,2BAA2B;IAC3B,MAAM,cAAc,IAAA,gMAAW;qDAC7B,CAAC;YACC,aAAa;QACf;oDACA;QAAC;KAAa;IAGhB,MAAM,iBAAiB,IAAA,gMAAW;wDAAC;YACjC,aAAa;QACf;uDAAG;QAAC;KAAa;IAEjB,0BAA0B;IAC1B,MAAM,eAAe,IAAA,gMAAW;sDAAC;YAC/B,qBAAA,+BAAA;YACA,IAAI,UAAU,OAAO,IAAI,wBAAwB;gBAC/C,uBAAuB,UAAU,OAAO,CAAC,SAAS;YACpD;QACF;qDAAG;QAAC;QAAU;KAAuB;IAErC,qBACE,iNAAC;QAAI,KAAK;QAAW,WAAW;QAAW,OAAO;YAAE,UAAU;YAAQ,SAAS;QAAS;QAAG,UAAU;;0BACnG,iNAAC;gBACC,OAAO;oBACL,QAAQ,AAAC,GAA6B,OAA3B,YAAY,YAAY,IAAG;oBACtC,OAAO;oBACP,UAAU;gBACZ;0BAEC,MAAM,GAAG,CAAC,CAAC;oBACV,MAAM,QAAQ,MAAM,CAAC,YAAY,KAAK,CAAC;oBACvC,qBACE,iNAAC;wBAEC,iBAAe,MAAM,EAAE;wBACvB,OAAO;4BACL,UAAU;4BACV,KAAK;4BACL,MAAM;4BACN,OAAO;4BACP,QAAQ,AAAC,GAAmB,OAAjB,YAAY,IAAI,EAAC;4BAC5B,WAAW,AAAC,cAA+B,OAAlB,YAAY,KAAK,EAAC;4BAC3C,SAAS;wBACX;kCAEA,cAAA,iNAAC;4BACC,OAAO;4BACP,eAAe,uBAAuB,MAAM,EAAE;4BAC9C,SAAS,IAAM,YAAY,MAAM,EAAE;4BACnC,YAAY;;;;;;uBAhBT,MAAM,EAAE;;;;;gBAoBnB;;;;;;YAGD,wBAAU,iNAAC;gBAAI,WAAU;0BAAQ;;;;;;;;;;;;AAGxC;GArGgB;;QAcM,+NAAc;;;MAdpB","debugId":null}},
    {"offset": {"line": 6628, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useVenueLocationSeo.ts"],"sourcesContent":["'use client';\n\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\n\r\nexport interface VenueLocationSeo {\r\n  id: string;\r\n  continent: string | null;\r\n  country: string | null;\r\n  region_slug: string | null;\r\n  city: string | null;\r\n  seo_title: string | null;\r\n  h1_override: string | null;\r\n  h2_override: string | null;\r\n  meta_description: string | null;\r\n  meta_keywords: string | null;\r\n  intro_text: string | null;\r\n  about_heading: string | null;\r\n  about_content: string | null;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport const useVenueLocationSeo = (\r\n  continent: string | null,\r\n  country: string | null,\r\n  regionSlug: string | null,\r\n  city: string | null\r\n) => {\r\n  return useQuery({\r\n    queryKey: [\"venue-location-seo\", continent, country, regionSlug, city],\r\n    queryFn: async () => {\r\n      if (!continent) return null;\r\n\r\n      // Try most specific match first, then cascade to less specific\r\n      \r\n      // 1. Try exact match: continent + country + region + city\r\n      if (country && regionSlug && city) {\r\n        const { data: exactMatch } = await supabase\r\n          .from(\"venue_location_seo\")\r\n          .select(\"*\")\r\n          .eq(\"continent\", continent)\r\n          .eq(\"country\", country)\r\n          .eq(\"region_slug\", regionSlug)\r\n          .eq(\"city\", city)\r\n          .limit(1)\r\n          .maybeSingle();\r\n        \r\n        if (exactMatch) return exactMatch as VenueLocationSeo;\r\n      }\r\n\r\n      // 2. Try city without region: continent + country + city (region_slug = null)\r\n      if (country && city) {\r\n        const { data: cityNoRegionMatch } = await supabase\r\n          .from(\"venue_location_seo\")\r\n          .select(\"*\")\r\n          .eq(\"continent\", continent)\r\n          .eq(\"country\", country)\r\n          .is(\"region_slug\", null)\r\n          .eq(\"city\", city)\r\n          .limit(1)\r\n          .maybeSingle();\r\n        \r\n        if (cityNoRegionMatch) return cityNoRegionMatch as VenueLocationSeo;\r\n      }\r\n\r\n      // 3. Try region level: continent + country + region (city = null)\r\n      if (country && regionSlug) {\r\n        const { data: regionMatch } = await supabase\r\n          .from(\"venue_location_seo\")\r\n          .select(\"*\")\r\n          .eq(\"continent\", continent)\r\n          .eq(\"country\", country)\r\n          .eq(\"region_slug\", regionSlug)\r\n          .is(\"city\", null)\r\n          .limit(1)\r\n          .maybeSingle();\r\n        \r\n        if (regionMatch) return regionMatch as VenueLocationSeo;\r\n      }\r\n\r\n      // 4. Try country level: continent + country (region = null, city = null)\r\n      if (country) {\r\n        const { data: countryMatch } = await supabase\r\n          .from(\"venue_location_seo\")\r\n          .select(\"*\")\r\n          .eq(\"continent\", continent)\r\n          .eq(\"country\", country)\r\n          .is(\"region_slug\", null)\r\n          .is(\"city\", null)\r\n          .limit(1)\r\n          .maybeSingle();\r\n        \r\n        if (countryMatch) return countryMatch as VenueLocationSeo;\r\n      }\r\n\r\n      // 5. Try continent level: continent only (country = null, region = null, city = null)\r\n      const { data: continentMatch } = await supabase\r\n        .from(\"venue_location_seo\")\r\n        .select(\"*\")\r\n        .eq(\"continent\", continent)\r\n        .is(\"country\", null)\r\n        .is(\"region_slug\", null)\r\n        .is(\"city\", null)\r\n        .limit(1)\r\n        .maybeSingle();\r\n\r\n      return continentMatch as VenueLocationSeo | null;\r\n    },\r\n    enabled: !!continent,\r\n  });\r\n};\r\n\r\n// Hook to fetch all venue location SEO records (for admin)\r\nexport const useAllVenueLocationSeo = () => {\r\n  return useQuery({\r\n    queryKey: [\"venue-location-seo-all\"],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from(\"venue_location_seo\")\r\n        .select(\"*\")\r\n        .order(\"created_at\", { ascending: false });\r\n\r\n      if (error) throw error;\r\n      return data as VenueLocationSeo[];\r\n    },\r\n  });\r\n};\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;;AAHA;;;AAuBO,MAAM,sBAAsB,CACjC,WACA,SACA,YACA;;IAEA,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;YAAsB;YAAW;YAAS;YAAY;SAAK;QACtE,OAAO;4CAAE;gBACP,IAAI,CAAC,WAAW,OAAO;gBAEvB,+DAA+D;gBAE/D,0DAA0D;gBAC1D,IAAI,WAAW,cAAc,MAAM;oBACjC,MAAM,EAAE,MAAM,UAAU,EAAE,GAAG,MAAM,4KAAQ,CACxC,IAAI,CAAC,sBACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAa,WAChB,EAAE,CAAC,WAAW,SACd,EAAE,CAAC,eAAe,YAClB,EAAE,CAAC,QAAQ,MACX,KAAK,CAAC,GACN,WAAW;oBAEd,IAAI,YAAY,OAAO;gBACzB;gBAEA,8EAA8E;gBAC9E,IAAI,WAAW,MAAM;oBACnB,MAAM,EAAE,MAAM,iBAAiB,EAAE,GAAG,MAAM,4KAAQ,CAC/C,IAAI,CAAC,sBACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAa,WAChB,EAAE,CAAC,WAAW,SACd,EAAE,CAAC,eAAe,MAClB,EAAE,CAAC,QAAQ,MACX,KAAK,CAAC,GACN,WAAW;oBAEd,IAAI,mBAAmB,OAAO;gBAChC;gBAEA,kEAAkE;gBAClE,IAAI,WAAW,YAAY;oBACzB,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,MAAM,4KAAQ,CACzC,IAAI,CAAC,sBACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAa,WAChB,EAAE,CAAC,WAAW,SACd,EAAE,CAAC,eAAe,YAClB,EAAE,CAAC,QAAQ,MACX,KAAK,CAAC,GACN,WAAW;oBAEd,IAAI,aAAa,OAAO;gBAC1B;gBAEA,yEAAyE;gBACzE,IAAI,SAAS;oBACX,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,MAAM,4KAAQ,CAC1C,IAAI,CAAC,sBACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAa,WAChB,EAAE,CAAC,WAAW,SACd,EAAE,CAAC,eAAe,MAClB,EAAE,CAAC,QAAQ,MACX,KAAK,CAAC,GACN,WAAW;oBAEd,IAAI,cAAc,OAAO;gBAC3B;gBAEA,sFAAsF;gBACtF,MAAM,EAAE,MAAM,cAAc,EAAE,GAAG,MAAM,4KAAQ,CAC5C,IAAI,CAAC,sBACL,MAAM,CAAC,KACP,EAAE,CAAC,aAAa,WAChB,EAAE,CAAC,WAAW,MACd,EAAE,CAAC,eAAe,MAClB,EAAE,CAAC,QAAQ,MACX,KAAK,CAAC,GACN,WAAW;gBAEd,OAAO;YACT;;QACA,SAAS,CAAC,CAAC;IACb;AACF;GAxFa;;QAMJ,8MAAQ;;;AAqFV,MAAM,yBAAyB;;IACpC,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;SAAyB;QACpC,OAAO;+CAAE;gBACP,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4KAAQ,CACnC,IAAI,CAAC,sBACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAM;gBAE1C,IAAI,OAAO,MAAM;gBACjB,OAAO;YACT;;IACF;AACF;IAba;;QACJ,8MAAQ","debugId":null}},
    {"offset": {"line": 6716, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useVenueTypeSeo.ts"],"sourcesContent":["'use client';\n\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\n\r\nexport interface VenueTypeSeo {\r\n  id: string;\r\n  venue_type: string;\r\n  continent: string | null;\r\n  country: string | null;\r\n  region_slug: string | null;\r\n  city: string | null;\r\n  seo_title: string | null;\r\n  h1_override: string | null;\r\n  h2_override: string | null;\r\n  meta_description: string | null;\r\n  meta_keywords: string | null;\r\n  intro_text: string | null;\r\n  about_heading: string | null;\r\n  about_content: string | null;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport const useVenueTypeSeo = (\r\n  venueType: string | null,\r\n  continent: string | null,\r\n  country: string | null,\r\n  regionSlug: string | null,\r\n  city: string | null\r\n) => {\r\n  return useQuery({\r\n    queryKey: [\"venue-type-seo\", venueType, continent, country, regionSlug, city],\r\n    queryFn: async () => {\r\n      if (!venueType) return null;\r\n\r\n      // Try most specific match first (city level), then cascade up\r\n      // Priority: city > region > country > continent > type-only\r\n\r\n      // 1. Try exact match with city\r\n      if (city) {\r\n        let query = supabase\r\n          .from(\"venue_type_seo\")\r\n          .select(\"*\")\r\n          .eq(\"venue_type\", venueType)\r\n          .eq(\"continent\", continent)\r\n          .eq(\"country\", country)\r\n          .eq(\"city\", city);\r\n        \r\n        // Handle null vs non-null region_slug\r\n        if (regionSlug) {\r\n          query = query.eq(\"region_slug\", regionSlug);\r\n        } else {\r\n          query = query.is(\"region_slug\", null);\r\n        }\r\n        \r\n        const { data } = await query.maybeSingle();\r\n        if (data) return data as VenueTypeSeo;\r\n      }\r\n\r\n      // 2. Try region level (city null)\r\n      if (regionSlug) {\r\n        const { data } = await supabase\r\n          .from(\"venue_type_seo\")\r\n          .select(\"*\")\r\n          .eq(\"venue_type\", venueType)\r\n          .eq(\"continent\", continent)\r\n          .eq(\"country\", country)\r\n          .eq(\"region_slug\", regionSlug)\r\n          .is(\"city\", null)\r\n          .maybeSingle();\r\n        if (data) return data as VenueTypeSeo;\r\n      }\r\n\r\n      // 3. Try country level (region and city null)\r\n      if (country) {\r\n        const { data } = await supabase\r\n          .from(\"venue_type_seo\")\r\n          .select(\"*\")\r\n          .eq(\"venue_type\", venueType)\r\n          .eq(\"continent\", continent)\r\n          .eq(\"country\", country)\r\n          .is(\"region_slug\", null)\r\n          .is(\"city\", null)\r\n          .maybeSingle();\r\n        if (data) return data as VenueTypeSeo;\r\n      }\r\n\r\n      // 4. Try continent level (country, region, city null)\r\n      if (continent) {\r\n        const { data } = await supabase\r\n          .from(\"venue_type_seo\")\r\n          .select(\"*\")\r\n          .eq(\"venue_type\", venueType)\r\n          .eq(\"continent\", continent)\r\n          .is(\"country\", null)\r\n          .is(\"region_slug\", null)\r\n          .is(\"city\", null)\r\n          .maybeSingle();\r\n        if (data) return data as VenueTypeSeo;\r\n      }\r\n\r\n      // 5. Try type-only (all location fields null)\r\n      const { data } = await supabase\r\n        .from(\"venue_type_seo\")\r\n        .select(\"*\")\r\n        .eq(\"venue_type\", venueType)\r\n        .is(\"continent\", null)\r\n        .is(\"country\", null)\r\n        .is(\"region_slug\", null)\r\n        .is(\"city\", null)\r\n        .maybeSingle();\r\n      \r\n      return data as VenueTypeSeo | null;\r\n    },\r\n    enabled: !!venueType,\r\n  });\r\n};\r\n\r\n// Hook to fetch all venue type SEO records (for admin)\r\nexport const useAllVenueTypeSeo = () => {\r\n  return useQuery({\r\n    queryKey: [\"venue-type-seo-all\"],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from(\"venue_type_seo\")\r\n        .select(\"*\")\r\n        .order(\"venue_type\", { ascending: true })\r\n        .order(\"created_at\", { ascending: false });\r\n\r\n      if (error) throw error;\r\n      return data as VenueTypeSeo[];\r\n    },\r\n  });\r\n};\r\n"],"names":[],"mappings":";;;;;;AAEA;AACA;;AAHA;;;AAwBO,MAAM,kBAAkB,CAC7B,WACA,WACA,SACA,YACA;;IAEA,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;YAAkB;YAAW;YAAW;YAAS;YAAY;SAAK;QAC7E,OAAO;wCAAE;gBACP,IAAI,CAAC,WAAW,OAAO;gBAEvB,8DAA8D;gBAC9D,4DAA4D;gBAE5D,+BAA+B;gBAC/B,IAAI,MAAM;oBACR,IAAI,QAAQ,4KAAQ,CACjB,IAAI,CAAC,kBACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc,WACjB,EAAE,CAAC,aAAa,WAChB,EAAE,CAAC,WAAW,SACd,EAAE,CAAC,QAAQ;oBAEd,sCAAsC;oBACtC,IAAI,YAAY;wBACd,QAAQ,MAAM,EAAE,CAAC,eAAe;oBAClC,OAAO;wBACL,QAAQ,MAAM,EAAE,CAAC,eAAe;oBAClC;oBAEA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,MAAM,WAAW;oBACxC,IAAI,MAAM,OAAO;gBACnB;gBAEA,kCAAkC;gBAClC,IAAI,YAAY;oBACd,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,4KAAQ,CAC5B,IAAI,CAAC,kBACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc,WACjB,EAAE,CAAC,aAAa,WAChB,EAAE,CAAC,WAAW,SACd,EAAE,CAAC,eAAe,YAClB,EAAE,CAAC,QAAQ,MACX,WAAW;oBACd,IAAI,MAAM,OAAO;gBACnB;gBAEA,8CAA8C;gBAC9C,IAAI,SAAS;oBACX,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,4KAAQ,CAC5B,IAAI,CAAC,kBACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc,WACjB,EAAE,CAAC,aAAa,WAChB,EAAE,CAAC,WAAW,SACd,EAAE,CAAC,eAAe,MAClB,EAAE,CAAC,QAAQ,MACX,WAAW;oBACd,IAAI,MAAM,OAAO;gBACnB;gBAEA,sDAAsD;gBACtD,IAAI,WAAW;oBACb,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,4KAAQ,CAC5B,IAAI,CAAC,kBACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc,WACjB,EAAE,CAAC,aAAa,WAChB,EAAE,CAAC,WAAW,MACd,EAAE,CAAC,eAAe,MAClB,EAAE,CAAC,QAAQ,MACX,WAAW;oBACd,IAAI,MAAM,OAAO;gBACnB;gBAEA,8CAA8C;gBAC9C,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,4KAAQ,CAC5B,IAAI,CAAC,kBACL,MAAM,CAAC,KACP,EAAE,CAAC,cAAc,WACjB,EAAE,CAAC,aAAa,MAChB,EAAE,CAAC,WAAW,MACd,EAAE,CAAC,eAAe,MAClB,EAAE,CAAC,QAAQ,MACX,WAAW;gBAEd,OAAO;YACT;;QACA,SAAS,CAAC,CAAC;IACb;AACF;GA7Fa;;QAOJ,8MAAQ;;;AAyFV,MAAM,qBAAqB;;IAChC,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;SAAqB;QAChC,OAAO;2CAAE;gBACP,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4KAAQ,CACnC,IAAI,CAAC,kBACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAK,GACtC,KAAK,CAAC,cAAc;oBAAE,WAAW;gBAAM;gBAE1C,IAAI,OAAO,MAAM;gBACjB,OAAO;YACT;;IACF;AACF;IAda;;QACJ,8MAAQ","debugId":null}},
    {"offset": {"line": 6815, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useCategories.ts"],"sourcesContent":["'use client';\n\nimport { useQuery } from \"@tanstack/react-query\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Category } from \"@/types/database\";\n\nexport function useCategories() {\n  return useQuery({\n    queryKey: [\"categories\"],\n    queryFn: async () => {\n      const { data, error } = await supabase\n        .from(\"categories\")\n        .select(\"*\")\n        .order(\"name\");\n\n      if (error) throw error;\n      return data as Category[];\n    },\n  });\n}\n\nexport function useCategoryBySlug(slug: string, initialData?: Category | null) {\n  return useQuery({\n    queryKey: [\"category\", slug],\n    queryFn: async () => {\n      // First try to find by url_slug, then fallback to slug\n      const { data: byUrlSlug, error: urlSlugError } = await supabase\n        .from(\"categories\")\n        .select(\"*\")\n        .eq(\"url_slug\", slug)\n        .maybeSingle();\n\n      if (urlSlugError) throw urlSlugError;\n      if (byUrlSlug) return byUrlSlug as Category;\n\n      // Fallback to regular slug\n      const { data, error } = await supabase\n        .from(\"categories\")\n        .select(\"*\")\n        .eq(\"slug\", slug)\n        .maybeSingle();\n\n      if (error) throw error;\n      return data as Category | null;\n    },\n    enabled: !!slug,\n    initialData,\n  });\n}\n\nexport function useSubcategories(parentId: string | null, initialData?: Category[]) {\n  return useQuery({\n    queryKey: [\"subcategories\", parentId],\n    queryFn: async () => {\n      const query = supabase.from(\"categories\").select(\"*\").order(\"name\");\n      \n      if (parentId) {\n        query.eq(\"parent_id\", parentId);\n      } else {\n        query.is(\"parent_id\", null);\n      }\n\n      const { data, error } = await query;\n      if (error) throw error;\n      return data as Category[];\n    },\n    initialData,\n  });\n}"],"names":[],"mappings":";;;;;;;;AAEA;AACA;;AAHA;;;AAMO,SAAS;;IACd,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;SAAa;QACxB,OAAO;sCAAE;gBACP,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4KAAQ,CACnC,IAAI,CAAC,cACL,MAAM,CAAC,KACP,KAAK,CAAC;gBAET,IAAI,OAAO,MAAM;gBACjB,OAAO;YACT;;IACF;AACF;GAbgB;;QACP,8MAAQ;;;AAcV,SAAS,kBAAkB,IAAY,EAAE,WAA6B;;IAC3E,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;YAAY;SAAK;QAC5B,OAAO;0CAAE;gBACP,uDAAuD;gBACvD,MAAM,EAAE,MAAM,SAAS,EAAE,OAAO,YAAY,EAAE,GAAG,MAAM,4KAAQ,CAC5D,IAAI,CAAC,cACL,MAAM,CAAC,KACP,EAAE,CAAC,YAAY,MACf,WAAW;gBAEd,IAAI,cAAc,MAAM;gBACxB,IAAI,WAAW,OAAO;gBAEtB,2BAA2B;gBAC3B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,4KAAQ,CACnC,IAAI,CAAC,cACL,MAAM,CAAC,KACP,EAAE,CAAC,QAAQ,MACX,WAAW;gBAEd,IAAI,OAAO,MAAM;gBACjB,OAAO;YACT;;QACA,SAAS,CAAC,CAAC;QACX;IACF;AACF;IA3BgB;;QACP,8MAAQ;;;AA4BV,SAAS,iBAAiB,QAAuB,EAAE,WAAwB;;IAChF,OAAO,IAAA,8MAAQ,EAAC;QACd,UAAU;YAAC;YAAiB;SAAS;QACrC,OAAO;yCAAE;gBACP,MAAM,QAAQ,4KAAQ,CAAC,IAAI,CAAC,cAAc,MAAM,CAAC,KAAK,KAAK,CAAC;gBAE5D,IAAI,UAAU;oBACZ,MAAM,EAAE,CAAC,aAAa;gBACxB,OAAO;oBACL,MAAM,EAAE,CAAC,aAAa;gBACxB;gBAEA,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM;gBAC9B,IAAI,OAAO,MAAM;gBACjB,OAAO;YACT;;QACA;IACF;AACF;IAlBgB;;QACP,8MAAQ","debugId":null}},
    {"offset": {"line": 6912, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/venueTypes.ts"],"sourcesContent":["// Venue type display names mapped to URL slugs (pluralised for SEO)\nexport const VENUE_TYPE_SLUGS: Record<string, string> = {\n  'Arena': 'arenas',\n  'Amphitheatre': 'amphitheatres',\n  'Bar': 'bars',\n  'Club': 'clubs',\n  'Concert Hall': 'concert-halls',\n  'Convention Centre': 'convention-centres',\n  'Cultural Centre': 'cultural-centres',\n  'Opera House': 'opera-houses',\n  'Outdoor Venue': 'outdoor-venues',\n  'Performing Arts Centre': 'performing-arts-centres',\n  'Stadium': 'stadiums',\n  'Theatre': 'theatres',\n};\n\n// Reverse lookup: slug to display name\nexport const VENUE_TYPE_FROM_SLUG: Record<string, string> = Object.fromEntries(\n  Object.entries(VENUE_TYPE_SLUGS).map(([name, slug]) => [slug, name])\n);\n\n// Array of all valid slugs for route matching\nexport const VENUE_TYPE_SLUG_LIST = Object.values(VENUE_TYPE_SLUGS);\n\n// Check if a string is a venue type slug\nexport function isVenueTypeSlug(slug: string): boolean {\n  return VENUE_TYPE_SLUG_LIST.includes(slug);\n}\n\n// Get display name from slug (e.g., 'arenas'  'Arena')\nexport function getVenueTypeFromSlug(slug: string): string | null {\n  return VENUE_TYPE_FROM_SLUG[slug] || null;\n}\n\n// Get slug from display name (e.g., 'Arena'  'arenas')\nexport function getVenueTypeSlug(typeName: string): string | null {\n  return VENUE_TYPE_SLUGS[typeName] || null;\n}\n"],"names":[],"mappings":"AAAA,oEAAoE;;;;;;;;;;;;;;;AAC7D,MAAM,mBAA2C;IACtD,SAAS;IACT,gBAAgB;IAChB,OAAO;IACP,QAAQ;IACR,gBAAgB;IAChB,qBAAqB;IACrB,mBAAmB;IACnB,eAAe;IACf,iBAAiB;IACjB,0BAA0B;IAC1B,WAAW;IACX,WAAW;AACb;AAGO,MAAM,uBAA+C,OAAO,WAAW,OAC5E,OAAO,OAAO,CAAC,kBAAkB,GAAG,MAAC;QAAC,CAAC,MAAM,KAAK;WAAK;QAAC;QAAM;KAAK;;;AAI9D,MAAM,uBAAuB,OAAO,MAAM,CAAC;;AAG3C,SAAS,gBAAgB,IAAY;IAC1C,OAAO,qBAAqB,QAAQ,CAAC;AACvC;AAGO,SAAS,qBAAqB,IAAY;IAC/C,OAAO,oBAAoB,CAAC,KAAK,IAAI;AACvC;AAGO,SAAS,iBAAiB,QAAgB;IAC/C,OAAO,gBAAgB,CAAC,SAAS,IAAI;AACvC","debugId":null}},
    {"offset": {"line": 6972, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/venueTypeContent.ts"],"sourcesContent":["// Venue type descriptions for programmatic SEO content\r\n'use client';\nexport const VENUE_TYPE_DESCRIPTIONS: Record<string, string> = {\r\n  \"Arena\": \"Arenas are large-scale indoor venues designed for major concerts, sporting events, and entertainment shows. With capacities typically ranging from 5,000 to 20,000+, arenas offer professional staging, advanced acoustics, and comprehensive facilities for artists and audiences alike.\",\r\n  \"Amphitheatre\": \"Amphitheatres are outdoor or semi-outdoor venues that combine natural settings with professional concert facilities. Their tiered seating and open-air design create unique acoustic experiences, making them popular choices for summer concerts and festivals.\",\r\n  \"Bar\": \"Bars and pub venues offer intimate settings for live music, typically hosting acoustic acts, solo performers, and small bands. These venues provide an up-close experience where audiences can connect directly with artists in a relaxed atmosphere.\",\r\n  \"Club\": \"Clubs are nightlife venues that host DJs, electronic music acts, and live bands. Known for their sound systems, lighting rigs, and late-night programming, clubs are essential venues for dance music, indie acts, and emerging artists.\",\r\n  \"Concert Hall\": \"Concert halls are purpose-built venues designed for optimal acoustics and audience experience. These prestigious spaces host classical performances, orchestras, and acoustic concerts, offering superior sound quality and elegant surroundings.\",\r\n  \"Convention Centre\": \"Convention centres are versatile multi-purpose facilities that can be configured for concerts, exhibitions, and large-scale events. Their flexible spaces accommodate varying audience sizes and production requirements.\",\r\n  \"Cultural Centre\": \"Cultural centres are community-focused venues that host diverse programming including concerts, theatre, and arts events. These spaces often showcase local talent alongside touring artists, serving as cultural hubs for their communities.\",\r\n  \"Opera House\": \"Opera houses are historic and architecturally significant venues that host opera, ballet, classical concerts, and theatrical productions. Known for their ornate interiors and exceptional acoustics, they represent the pinnacle of performing arts venues.\",\r\n  \"Outdoor Venue\": \"Outdoor venues encompass parks, fields, and open-air spaces used for concerts and festivals. These locations offer flexibility for large-scale events and create memorable experiences under open skies.\",\r\n  \"Performing Arts Centre\": \"Performing arts centres are multi-venue complexes housing theatres, concert halls, and rehearsal spaces. They support diverse programming from concerts to dance, theatre, and educational events.\",\r\n  \"Stadium\": \"Stadiums are the largest concert venues, hosting major tours and festival events for audiences of 20,000 to 100,000+. These iconic venues create unforgettable experiences for landmark concerts and tours.\",\r\n  \"Theatre\": \"Theatres are versatile venues hosting concerts, musicals, comedy, and dramatic performances. With fixed seating and professional staging, they offer excellent sightlines and acoustics for mid-sized audiences.\"\r\n};\r\n\r\n// Get venue type description with location context for about section\r\nexport function getVenueTypeAboutContent(venueType: string, location: string): string {\r\n  const description = VENUE_TYPE_DESCRIPTIONS[venueType];\r\n  if (!description) {\r\n    return `Browse our directory of ${venueType.toLowerCase()}s in ${location} to find the perfect venue for your next event.`;\r\n  }\r\n  return `${description} Browse our directory of ${venueType.toLowerCase()}s in ${location} to find the perfect venue for your next event.`;\r\n}\r\n\r\n// Get pluralized venue type name\r\nexport function getVenueTypePlural(venueType: string): string {\r\n  return `${venueType}s`;\r\n}\r\n"],"names":[],"mappings":"AAAA,uDAAuD;;;;;;;;;AACvD;AACO,MAAM,0BAAkD;IAC7D,SAAS;IACT,gBAAgB;IAChB,OAAO;IACP,QAAQ;IACR,gBAAgB;IAChB,qBAAqB;IACrB,mBAAmB;IACnB,eAAe;IACf,iBAAiB;IACjB,0BAA0B;IAC1B,WAAW;IACX,WAAW;AACb;AAGO,SAAS,yBAAyB,SAAiB,EAAE,QAAgB;IAC1E,MAAM,cAAc,uBAAuB,CAAC,UAAU;IACtD,IAAI,CAAC,aAAa;QAChB,OAAO,AAAC,2BAAyD,OAA/B,UAAU,WAAW,IAAG,SAAgB,OAAT,UAAS;IAC5E;IACA,OAAO,AAAC,GAAyC,OAAvC,aAAY,6BAA0D,OAA/B,UAAU,WAAW,IAAG,SAAgB,OAAT,UAAS;AAC3F;AAGO,SAAS,mBAAmB,SAAiB;IAClD,OAAO,AAAC,GAAY,OAAV,WAAU;AACtB","debugId":null}},
    {"offset": {"line": 7013, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/ui/select.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as SelectPrimitive from \"@radix-ui/react-select\";\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Select = SelectPrimitive.Root;\n\nconst SelectGroup = SelectPrimitive.Group;\n\nconst SelectValue = SelectPrimitive.Value;\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName;\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n));\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName;\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n));\nSelectScrollDownButton.displayName = SelectPrimitive.ScrollDownButton.displayName;\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className,\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\",\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));\nSelectContent.displayName = SelectPrimitive.Content.displayName;\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label ref={ref} className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)} {...props} />\n));\nSelectLabel.displayName = SelectPrimitive.Label.displayName;\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground\",\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));\nSelectItem.displayName = SelectPrimitive.Item.displayName;\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator ref={ref} className={cn(\"-mx-1 my-1 h-px bg-muted\", className)} {...props} />\n));\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName;\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAA;AAAA;AAEA;;;;;;AAEA,MAAM,SAAS,iMAAoB;AAEnC,MAAM,cAAc,kMAAqB;AAEzC,MAAM,cAAc,kMAAqB;AAEzC,MAAM,8BAAgB,+LAAgB,MAGpC,QAAoC;QAAnC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;yBAClC,iNAAC,oMAAuB;QACtB,KAAK;QACL,WAAW,IAAA,gJAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,iNAAC,iMAAoB;gBAAC,OAAO;0BAC3B,cAAA,iNAAC,0PAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,oMAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,+LAAgB,CAG3C,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,iNAAC,2MAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,iNAAC,oPAAS;YAAC,WAAU;;;;;;;;;;;;MATnB;AAYN,qBAAqB,WAAW,GAAG,2MAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,+LAAgB,CAG7C,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,iNAAC,6MAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,gJAAE,EAAC,wDAAwD;QACrE,GAAG,KAAK;kBAET,cAAA,iNAAC,0PAAW;YAAC,WAAU;;;;;;;;;;;;MATrB;AAYN,uBAAuB,WAAW,GAAG,6MAAgC,CAAC,WAAW;AAEjF,MAAM,8BAAgB,+LAAgB,OAGpC,QAAyD;QAAxD,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO;yBACvD,iNAAC,mMAAsB;kBACrB,cAAA,iNAAC,oMAAuB;YACtB,KAAK;YACL,WAAW,IAAA,gJAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,iNAAC;;;;;8BACD,iNAAC,qMAAwB;oBACvB,WAAW,IAAA,gJAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,iNAAC;;;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,oMAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,+LAAgB,OAGlC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,iNAAC,kMAAqB;QAAC,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,0CAA0C;QAAa,GAAG,KAAK;;;;;;;;AAEhH,YAAY,WAAW,GAAG,kMAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,+LAAgB,OAGjC,QAAoC;QAAnC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;yBAClC,iNAAC,iMAAoB;QACnB,KAAK;QACL,WAAW,IAAA,gJAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,iNAAC;gBAAK,WAAU;0BACd,cAAA,iNAAC,0MAA6B;8BAC5B,cAAA,iNAAC,oOAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,iNAAC,qMAAwB;0BAAE;;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,iMAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,+LAAgB,QAGtC,QAA0B;QAAzB,EAAE,SAAS,EAAE,GAAG,OAAO;yBACxB,iNAAC,sMAAyB;QAAC,KAAK;QAAK,WAAW,IAAA,gJAAE,EAAC,4BAA4B;QAAa,GAAG,KAAK;;;;;;;;AAEtG,gBAAgB,WAAW,GAAG,sMAAyB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 7256, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/ui/collapsible.tsx"],"sourcesContent":["import * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\";\n\nconst Collapsible = CollapsiblePrimitive.Root;\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger;\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent;\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent };\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,MAAM,cAAc,sMAAyB;AAE7C,MAAM,qBAAqB,oNAAuC;AAElE,MAAM,qBAAqB,oNAAuC","debugId":null}},
    {"offset": {"line": 7277, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/ui/popover.tsx"],"sourcesContent":["import * as React from \"react\";\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Popover = PopoverPrimitive.Root;\n\nconst PopoverTrigger = PopoverPrimitive.Trigger;\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        className,\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n));\nPopoverContent.displayName = PopoverPrimitive.Content.displayName;\n\nexport { Popover, PopoverTrigger, PopoverContent };\n"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,UAAU,kMAAqB;AAErC,MAAM,iBAAiB,qMAAwB;AAE/C,MAAM,+BAAiB,+LAAgB,MAGrC,QAA4D;QAA3D,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO;yBAC1D,iNAAC,oMAAuB;kBACtB,cAAA,iNAAC,qMAAwB;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,IAAA,gJAAE,EACX,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,qMAAwB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 7328, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/VenueFinder.tsx"],"sourcesContent":["'use client';\n\nimport Link from 'next/link';\nimport { useSearchParams, useRouter, useParams, usePathname } from 'next/navigation';\nimport { useState, useEffect, useMemo, useCallback, Suspense, lazy, useRef } from \"react\";\nimport DOMPurify from \"isomorphic-dompurify\";\nimport { Layout, BreadcrumbItem } from \"@/components/Layout\";\nimport { VenueSearchAutocomplete } from \"@/components/venues/VenueSearchAutocomplete\";\nimport { VenueTypeFilter } from \"@/components/venues/VenueTypeFilter\";\nimport { CountryFilter } from \"@/components/venues/CountryFilter\";\nimport { CapacitySlider } from \"@/components/venues/CapacitySlider\";\nimport { VenueCard } from \"@/components/venues/VenueCard\";\nimport { ContinentSelector } from \"@/components/venues/ContinentSelector\";\nimport { VirtualVenueList } from \"@/components/venues/VirtualVenueList\";\nimport {\n  useVenues,\n  useVenueCountries,\n  useVenueRegionsByCountry,\n  useVenueCitiesByCountry,\n  useVenueCitiesByRegion,\n  VenueListing,\n} from \"@/hooks/useVenues\";\nimport { useVenueLocationSeo } from \"@/hooks/useVenueLocationSeo\";\nimport { useVenueTypeSeo } from \"@/hooks/useVenueTypeSeo\";\nimport { useCategoryBySlug } from \"@/hooks/useCategories\";\nimport { CONTINENT_COUNTRIES, CONTINENT_COLORS, getContinentFromSlug, getContinentSlug } from \"@/lib/continents\";\nimport { buildVenueUrl, toSlug, fromSlug, fromCountrySlug, countryHasRegions, isCityRegion } from \"@/lib/venueUrlUtils\";\nimport { getVenueUrl } from \"@/hooks/useVenueUrl\";\nimport { isVenueTypeSlug, getVenueTypeFromSlug, getVenueTypeSlug } from \"@/lib/venueTypes\";\nimport { VENUE_TYPE_DESCRIPTIONS, getVenueTypeAboutContent } from \"@/lib/venueTypeContent\";\nimport { Button } from \"@/components/ui/button\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { ChevronRight, ChevronDown, MapPin, List, Map, X, Globe, SlidersHorizontal } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@/components/ui/collapsible\";\nimport { Popover, PopoverContent, PopoverTrigger } from \"@/components/ui/popover\";\nimport { MapBounds } from \"@/components/venues/VenueMap\";\n\n// Lazy load the map\nconst VenueMap = lazy(() => import(\"@/components/venues/VenueMap\").then((m) => ({ default: m.VenueMap })));\n\nconst MapLoadingFallback = () => (\n  <div className=\"flex items-center justify-center h-full bg-card border rounded-lg\">\n    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-primary\" />\n  </div>\n);\n\n// Pure function to parse venue URL and get display location\n// This has ZERO dependencies on React state - just the pathname string\nfunction parseVenueUrlForDisplay(pathname: string): {\n  continentSlug: string | null;\n  countrySlug: string | null;\n  thirdSlug: string | null;\n  fourthSlug: string | null;\n  fifthSlug: string | null;\n  displayLocation: string;\n  venueTypeSlug: string | null;\n} {\n  const segments = pathname.split(\"/\").filter(Boolean);\n  // segments[0] = \"venues\"\n  // segments[1] = continent\n  // segments[2] = country OR venueType (if no country)\n  // segments[3] = region/city/venueType\n  // segments[4] = city/venueType\n  // segments[5] = venueType\n\n  const continentSlug = segments[1] || null;\n  const rawCountrySlug = segments[2] || null;\n  const thirdSlug = segments[3] || null;\n  const fourthSlug = segments[4] || null;\n  const fifthSlug = segments[5] || null;\n\n  // Check if \"country\" position is actually a venue type (e.g., /venues/europe/arenas)\n  const countryIsVenueType = rawCountrySlug && isVenueTypeSlug(rawCountrySlug);\n  const countrySlug = countryIsVenueType ? null : rawCountrySlug;\n\n  // Helper to convert slug to display name\n  const toDisplayName = (slug: string) =>\n    slug\n      .split(\"-\")\n      .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(\" \");\n\n  // Find venue type slug (check country position first, then from end of remaining segments)\n  let venueTypeSlug: string | null = countryIsVenueType ? rawCountrySlug : null;\n  let locationSegments = [thirdSlug, fourthSlug, fifthSlug].filter(Boolean) as string[];\n\n  // If venue type wasn't in country position, check remaining segments from end\n  if (!venueTypeSlug) {\n    for (let i = locationSegments.length - 1; i >= 0; i--) {\n      if (isVenueTypeSlug(locationSegments[i])) {\n        venueTypeSlug = locationSegments[i];\n        locationSegments = locationSegments.slice(0, i);\n        break;\n      }\n    }\n  }\n\n  // Build display location from remaining segments\n  const countryDisplay = countrySlug ? toDisplayName(countrySlug) : null;\n  const continentDisplay = continentSlug ? getContinentFromSlug(continentSlug) || toDisplayName(continentSlug) : null;\n\n  let displayLocation: string;\n\n  if (locationSegments.length >= 2 && countryDisplay) {\n    // Have region AND city: \"City, Country\"\n    const cityDisplay = toDisplayName(locationSegments[1]);\n    displayLocation = `${cityDisplay}, ${countryDisplay}`;\n  } else if (locationSegments.length === 1 && countryDisplay) {\n    // Have region OR city: \"RegionOrCity, Country\"\n    const thirdDisplay = toDisplayName(locationSegments[0]);\n    displayLocation = `${thirdDisplay}, ${countryDisplay}`;\n  } else if (countryDisplay) {\n    // Just country\n    displayLocation = countryDisplay;\n  } else if (continentDisplay) {\n    // Just continent\n    displayLocation = continentDisplay;\n  } else {\n    displayLocation = \"All Venues\";\n  }\n\n  return {\n    continentSlug,\n    countrySlug,\n    thirdSlug: locationSegments[0] || null,\n    fourthSlug: locationSegments[1] || null,\n    fifthSlug: locationSegments[2] || null,\n    displayLocation,\n    venueTypeSlug,\n  };\n}\n\ninterface VenueFinderProps {\n  preSelectedVenueType?: string | null;\n  venueTypeSlug?: string | null;\n}\n\nexport default function VenueFinder({ preSelectedVenueType = null, venueTypeSlug = null }: VenueFinderProps = {}) {\n  const router = useRouter();\n  const pathname = usePathname();  //  ADD THIS LINE\n  const searchParams = useSearchParams();\n\n  // Parse URL ONCE at the top - this is the source of truth for display\n  // This is completely synchronous and has no dependencies on async state\n  const urlParsed = parseVenueUrlForDisplay(pathname);\n\n  // This is THE display location for H1/H2/About headings - stable, no flicker\n  const displayLocationTitle = urlParsed.displayLocation;\n\n  // Detect venue type from URL path (final segment)\n  const detectedVenueType = useMemo(() => {\n    const pathSegments = pathname.split(\"/\").filter(Boolean);\n    const lastSegment = pathSegments[pathSegments.length - 1];\n\n    if (lastSegment && isVenueTypeSlug(lastSegment)) {\n      return {\n        type: getVenueTypeFromSlug(lastSegment),\n        slug: lastSegment,\n      };\n    }\n    return null;\n  }, [pathname]);\n\n  // Use detected value, falling back to props\n  const activeVenueType = detectedVenueType?.type || preSelectedVenueType || null;\n  const activeVenueTypeSlug = detectedVenueType?.slug || venueTypeSlug || null;\n\n  // Parse URL path params for location\n  // Routes may use different param names depending on the route path\n  const params = useParams<{\n    continent?: string;\n    continentSlug?: string;\n    country?: string;\n    countrySlug?: string;\n    regionOrCity?: string;\n    param3?: string;\n    param4?: string;\n    region?: string;\n    city?: string;\n  }>();\n\n  // Normalize param names (routes may use either naming convention)\n  const continentParam = params.continent || params.continentSlug;\n  const countryParam = params.country || params.countrySlug;\n  // thirdSegment can be region or city depending on country type\n  // BUT if it matches the venueTypeSlug, it's not a geographic segment\n  const rawThirdSegment = params.regionOrCity || params.param3 || params.region;\n  const thirdSegment = rawThirdSegment === activeVenueTypeSlug ? null : rawThirdSegment;\n  // fourthSegment is city when third is region\n  // BUT if it matches the venueTypeSlug, it's not a geographic segment\n  const rawFourthSegment = params.param4 || params.city;\n  const fourthSegment = rawFourthSegment === activeVenueTypeSlug ? null : rawFourthSegment;\n\n  // Resolve continent from URL\n  const selectedContinent = continentParam ? getContinentFromSlug(continentParam) : null;\n\n  // Determine if we should show the finder (any path param means we're in finder mode)\n  const showFinder = !!continentParam;\n\n  // Parse non-location filter state from query params\n  const initialTypes = searchParams.get(\"type\")?.split(\",\").filter(Boolean) || [];\n  const initialCapacityMin = parseInt(searchParams.get(\"capacity_min\") || \"0\");\n  const initialCapacityMax = parseInt(searchParams.get(\"capacity_max\") || \"100000\");\n\n  // Filter state (non-location filters from query params)\n  const [selectedTypes, setSelectedTypes] = useState<string[]>(activeVenueType ? [activeVenueType] : initialTypes);\n  const [capacityMin, setCapacityMin] = useState(initialCapacityMin);\n  const [capacityMax, setCapacityMax] = useState(initialCapacityMax);\n\n  // Sync selectedTypes when venue type is detected from URL (handles internal navigation)\n  useEffect(() => {\n    if (activeVenueType) {\n      setSelectedTypes([activeVenueType]);\n    }\n  }, [activeVenueType]);\n\n  // View state\n  const [viewMode, setViewMode] = useState<\"list\" | \"map\">(\"list\");\n  const [highlightedVenueId, setHighlightedVenueId] = useState<string | null>(null);\n  const [selectedMapVenue, setSelectedMapVenue] = useState<VenueListing | null>(null);\n  const [locationFilterOpen, setLocationFilterOpen] = useState(true);\n  const [regionDropdownOpen, setRegionDropdownOpen] = useState(false);\n  const [cityDropdownOpen, setCityDropdownOpen] = useState(false);\n  const [filtersPopoverOpen, setFiltersPopoverOpen] = useState(false);\n  const [countryFilterOpen, setCountryFilterOpen] = useState(false);\n  const [initialScrollTop, setInitialScrollTop] = useState<number | undefined>(undefined);\n\n  // Map viewport bounds for filtering list\n  const [mapBounds, setMapBounds] = useState<MapBounds | null>(null);\n\n  // Track current scroll position for saving\n  const scrollTopRef = useRef<number>(0);\n\n  // Stored map state to restore after navigation\n  const [initialMapState, setInitialMapState] = useState<{\n    bounds: MapBounds;\n    zoom: number;\n  } | null>(null);\n\n  // Restore map state from sessionStorage on mount - only if URL matches\n  useEffect(() => {\n    if (!showFinder) return;\n\n    const saved = sessionStorage.getItem(\"venueFinderMapState\");\n    if (saved) {\n      try {\n        const parsed = JSON.parse(saved);\n        // Only restore if the saved URL matches current URL (same filters/location)\n        if (parsed.url === pathname + searchParams.toString()) {\n          setInitialMapState({ bounds: parsed.bounds, zoom: parsed.zoom });\n          // Restore viewMode if it was saved (e.g., user was on map view)\n          if (parsed.viewMode) {\n            setViewMode(parsed.viewMode);\n          }\n          // Restore scroll position if it was saved\n          if (parsed.scrollTop !== undefined) {\n            setInitialScrollTop(parsed.scrollTop);\n          }\n        }\n        // Always clear after checking\n        sessionStorage.removeItem(\"venueFinderMapState\");\n      } catch (e) {\n        sessionStorage.removeItem(\"venueFinderMapState\");\n      }\n    }\n  }, [showFinder, pathname, searchParams.toString()]);\n\n  // Save map state with URL context before navigating away\n  const saveMapState = useCallback(\n    (bounds: MapBounds, zoom: number) => {\n      sessionStorage.setItem(\n        \"venueFinderMapState\",\n        JSON.stringify({\n          bounds,\n          zoom,\n          viewMode,\n          scrollTop: scrollTopRef.current,\n          url: pathname + searchParams.toString(),\n        }),\n      );\n    },\n    [pathname, searchParams.toString(), viewMode],\n  );\n\n  // Get all venue countries (filtered by continent at database level)\n  const { data: allCountries, isLoading: countriesLoading, error: countriesError } = useVenueCountries(selectedContinent || undefined);\n\n  // Resolve country from URL slug (with alias support)\n  const countryFromUrl = useMemo(() => {\n    if (!countryParam || !allCountries) return null;\n    const countryNames = allCountries.map((c) => c.country);\n    return fromCountrySlug(countryParam, countryNames);\n  }, [countryParam, allCountries]);\n\n  // Support multiple country selection via state\n  const [selectedCountries, setSelectedCountries] = useState<string[]>([]);\n\n  // Track the URL we just navigated to (to skip URL sync for that specific URL)\n  const lastNavigatedUrlRef = useRef<string | null>(null);\n\n  // Sync selected countries from URL on mount/URL change\n  // But skip if we just navigated to this exact URL ourselves\n  useEffect(() => {\n    const currentUrl = pathname + searchParams.toString();\n\n    if (lastNavigatedUrlRef.current === currentUrl) {\n      // We navigated here ourselves, skip sync\n      return;\n    }\n\n    // Clear the ref since this is a different URL (user navigated, back button, etc.)\n    lastNavigatedUrlRef.current = null;\n\n    if (countryFromUrl) {\n      // Single country from URL path\n      setSelectedCountries([countryFromUrl]);\n    } else {\n      // Check for multi-country in query params\n      const countriesParam = searchParams.get(\"countries\");\n      if (countriesParam) {\n        const countryList = countriesParam.split(\",\").map((c) => decodeURIComponent(c.trim()));\n        setSelectedCountries(countryList);\n      } else {\n        setSelectedCountries([]);\n      }\n    }\n  }, [countryFromUrl, searchParams, pathname, searchParams.toString()]);\n\n  // For backwards compatibility - single country for region/city logic\n  const selectedCountry = selectedCountries.length === 1 ? selectedCountries[0] : null;\n\n  // Countries are already filtered by continent at database level\n  const countries = allCountries || [];\n\n  // Get regions for selected country (only regions that have venues)\n  const { data: regions } = useVenueRegionsByCountry(selectedCountry || undefined);\n\n  // Resolve region from URL\n  const { selectedRegionId, selectedRegionSlug } = useMemo(() => {\n    if (!thirdSegment && !params.region) {\n      return { selectedRegionId: null, selectedRegionSlug: null };\n    }\n\n    const regionSlugToCheck = params.region || thirdSegment;\n\n    if (regionSlugToCheck && regions && selectedCountry && countryHasRegions(selectedCountry)) {\n      const region = regions.find((r) => r.region_slug === regionSlugToCheck);\n      if (region) {\n        return { selectedRegionId: region.id, selectedRegionSlug: regionSlugToCheck };\n      }\n    }\n\n    return { selectedRegionId: null, selectedRegionSlug: null };\n  }, [thirdSegment, params.region, regions, selectedCountry]);\n\n  // Get cities based on region or country (only cities that have venues)\n  const { data: citiesByRegion } = useVenueCitiesByRegion(selectedRegionId || undefined);\n  const { data: citiesByCountry } = useVenueCitiesByCountry(selectedCountry || undefined);\n  const cities = selectedRegionId ? citiesByRegion : citiesByCountry;\n\n  // Resolve city from URL (async - requires cities to load)\n  const selectedCity = useMemo(() => {\n    // 4-segment URL: /venues/continent/country/region/city (fourthSegment has the city)\n    if (fourthSegment && cities) {\n      return fromSlug(fourthSegment, cities);\n    }\n\n    // 3-segment URL: /venues/continent/country/cityOrRegion\n    // Only treat as city if no region was found (i.e., not a country with regions)\n    if (thirdSegment && !selectedRegionId && cities) {\n      return fromSlug(thirdSegment, cities);\n    }\n\n    return null;\n  }, [fourthSegment, thirdSegment, selectedRegionId, cities]);\n\n  // Derive city directly from URL for non-regional countries (synchronous, no async dependency)\n  // This is used for display/SEO purposes and doesn't require database validation\n  const urlDerivedCity = useMemo(() => {\n    // Only for countries without regions where thirdSegment is the city\n    if (!selectedCountry || countryHasRegions(selectedCountry)) return null;\n\n    // thirdSegment should be the city slug for non-regional countries\n    // BUT only if it's not the venue type slug\n    const citySlug = thirdSegment;\n    if (!citySlug || citySlug === activeVenueTypeSlug) return null;\n\n    // Convert slug to display name: \"new-york\"  \"New York\", \"munich\"  \"Munich\"\n    return citySlug\n      .split(\"-\")\n      .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(\" \");\n  }, [selectedCountry, thirdSegment, activeVenueTypeSlug]);\n\n  // For display/SEO: use URL-derived city immediately, or validated city once loaded\n  // This prevents flash of incorrect content during async loading\n  const displayCity = useMemo(() => {\n    // For non-regional countries, prefer URL-derived value (instant, no loading state)\n    if (urlDerivedCity) return urlDerivedCity;\n\n    // For regional countries or when we have validated data, use selectedCity\n    return selectedCity;\n  }, [urlDerivedCity, selectedCity]);\n\n  // Fetch \"Venues\" category for default templates\n  const { data: venuesCategory } = useCategoryBySlug(\"venues\");\n\n  // Helper to inject location into template strings (like CategoryPage)\n  const injectLocation = useCallback(\n    (text: string | null | undefined): string | null => {\n      if (!text) return null;\n      let result = text;\n      let locationString = displayLocationTitle;\n\n      if (locationString && locationString !== \"All Venues\") {\n        result = result.replace(/\\{in_location\\}/gi, `in ${locationString}`);\n        result = result.replace(/\\{location\\}/gi, locationString);\n      } else {\n        result = result.replace(/\\{in_location\\}/gi, \"\");\n        result = result.replace(/\\{location\\}/gi, \"\");\n      }\n      return result\n        .replace(/\\s{2,}/g, \" \")\n        .replace(/\\s+\\./g, \".\")\n        .replace(/\\s+,/g, \",\")\n        .trim();\n    },\n    [displayLocationTitle],\n  );\n\n  // Display location for title - ALWAYS use URL-derived for consistency\n  // Fetch location-specific SEO content (use displayCity for stable SEO)\n  const { data: locationSeo } = useVenueLocationSeo(\n    selectedContinent,\n    selectedCountry,\n    selectedRegionSlug,\n    displayCity,\n  );\n\n  // Fetch venue type-specific SEO content (use displayCity for stable SEO)\n  const { data: venueTypeSeo } = useVenueTypeSeo(\n    activeVenueType,\n    selectedContinent,\n    selectedCountry,\n    selectedRegionSlug,\n    displayCity,\n  );\n\n  // Fetch venues with filters - pass continent for server-side filtering when no country selected\n  const { data: allVenues = [], isLoading } = useVenues({\n    venueTypes: selectedTypes.length > 0 ? selectedTypes : undefined,\n    capacityMin: capacityMin > 0 ? capacityMin : undefined,\n    capacityMax: capacityMax < 100000 ? capacityMax : undefined,\n    country: selectedCountry || undefined,\n    regionId: selectedRegionId || undefined,\n    city: selectedCity || undefined,\n    continent: !selectedCountry ? selectedContinent || undefined : undefined, // Only filter by continent if no country selected\n  });\n\n  // Filter venues for multiple country selection (rare case)\n  const venues = useMemo(() => {\n    if (!showFinder) return [];\n\n    // If multiple countries selected, filter client-side (rare use case)\n    if (selectedCountries.length > 1) {\n      return allVenues.filter((v) => v.country && selectedCountries.includes(v.country));\n    }\n\n    // Otherwise, server already filtered by continent or country\n    return allVenues;\n  }, [allVenues, showFinder, selectedCountries]);\n\n  // Filter venues by map viewport bounds (for list display)\n  const visibleVenues = useMemo(() => {\n    if (!mapBounds) return venues;\n\n    return venues.filter((v) => {\n      if (!v.latitude || !v.longitude) return false;\n      return (\n        v.latitude >= mapBounds.south &&\n        v.latitude <= mapBounds.north &&\n        v.longitude >= mapBounds.west &&\n        v.longitude <= mapBounds.east\n      );\n    });\n  }, [venues, mapBounds]);\n\n  // Handle map bounds change - track for list filtering\n  const handleBoundsChange = useCallback(\n    (bounds: MapBounds, zoom?: number) => {\n      setMapBounds(bounds);\n      // Save state for restoration after navigation\n      if (zoom !== undefined) {\n        saveMapState(bounds, zoom);\n      }\n    },\n    [saveMapState],\n  );\n\n  // Save selected countries to sessionStorage when they change (for multi-select)\n  useEffect(() => {\n    if (selectedCountries.length > 1) {\n      sessionStorage.setItem(\"venueFinderSelectedCountries\", JSON.stringify(selectedCountries));\n    } else {\n      sessionStorage.removeItem(\"venueFinderSelectedCountries\");\n    }\n  }, [selectedCountries]);\n\n  // Save viewMode to sessionStorage whenever it changes (for restoration after navigation)\n  useEffect(() => {\n    try {\n      const saved = sessionStorage.getItem(\"venueFinderMapState\");\n      if (saved) {\n        const parsed = JSON.parse(saved);\n        parsed.viewMode = viewMode;\n        sessionStorage.setItem(\"venueFinderMapState\", JSON.stringify(parsed));\n      } else if (mapBounds) {\n        // If no saved state but we have bounds, create initial state\n        sessionStorage.setItem(\n          \"venueFinderMapState\",\n          JSON.stringify({\n            bounds: mapBounds,\n            zoom: 3,\n            viewMode,\n            url: pathname + searchParams.toString(),\n          }),\n        );\n      }\n    } catch {}\n  }, [viewMode, mapBounds, pathname, searchParams.toString()]);\n\n  // Handle scroll position changes - save to ref and sessionStorage\n  const handleScrollPositionChange = useCallback(\n    (scrollTop: number) => {\n      scrollTopRef.current = scrollTop;\n      try {\n        const saved = sessionStorage.getItem(\"venueFinderMapState\");\n        if (saved) {\n          const parsed = JSON.parse(saved);\n          parsed.scrollTop = scrollTop;\n          sessionStorage.setItem(\"venueFinderMapState\", JSON.stringify(parsed));\n        } else {\n          // Create state if it doesn't exist\n          sessionStorage.setItem(\n            \"venueFinderMapState\",\n            JSON.stringify({\n              bounds: mapBounds,\n              zoom: 3,\n              viewMode,\n              scrollTop,\n              url: pathname + searchParams.toString(),\n            }),\n          );\n        }\n      } catch {}\n    },\n    [mapBounds, viewMode, pathname, searchParams.toString()],\n  );\n\n  // Ref to track initial mount for venue type URL handling\n  const isInitialMount = useRef(true);\n\n  // Helper to get filter query params (capacity + multi-country)\n  const getFilterParams = useCallback(() => {\n    const params = new URLSearchParams();\n    if (capacityMin > 0) {\n      params.set(\"capacity_min\", capacityMin.toString());\n    }\n    if (capacityMax < 100000) {\n      params.set(\"capacity_max\", capacityMax.toString());\n    }\n    // Preserve multi-country selection\n    if (selectedCountries.length > 1) {\n      params.set(\"countries\", selectedCountries.join(\",\"));\n    }\n    return params;\n  }, [capacityMin, capacityMax, selectedCountries]);\n\n  // Handle URL updates when selectedTypes changes\n  useEffect(() => {\n    if (isInitialMount.current) {\n      isInitialMount.current = false;\n      return;\n    }\n\n    if (!showFinder) return;\n\n    // Don't update URL until geographic context is fully resolved\n    // If we have a countryParam in the URL but selectedCountry isn't resolved yet, wait\n    // BUT skip this check if countryParam is actually a venue type slug (e.g., /venues/europe/arenas)\n    const countryParamIsVenueType = countryParam && isVenueTypeSlug(countryParam);\n    if (countryParam && !selectedCountry && !countryParamIsVenueType) {\n      return;\n    }\n\n    // If we have a thirdSegment that isn't the venue type, it's a region or city\n    // Wait for that to resolve before updating URL\n    const thirdIsVenueType = rawThirdSegment === activeVenueTypeSlug;\n    const fourthIsVenueType = rawFourthSegment === activeVenueTypeSlug;\n    const fifthIsVenueType = activeVenueTypeSlug && !thirdIsVenueType && !fourthIsVenueType;\n\n    // If third segment exists and isn't the venue type, it should resolve to region or city\n    if (rawThirdSegment && !thirdIsVenueType) {\n      // 4-segment URL with venue type in 4th position\n      // For countries WITH regions (UK/USA): wait for region to resolve\n      if (fourthIsVenueType && !selectedRegionSlug && selectedCountry && countryHasRegions(selectedCountry)) {\n        return;\n      }\n      // For countries WITHOUT regions (Germany, France, etc.): wait for city to resolve\n      if (fourthIsVenueType && !selectedCity && selectedCountry && !countryHasRegions(selectedCountry)) {\n        return;\n      }\n      // 5-segment URL with venue type in 5th position (e.g., /uk/north-west/manchester/arenas)\n      // Wait for both region AND city to resolve\n      if (fifthIsVenueType && rawFourthSegment && (!selectedRegionSlug || !selectedCity)) {\n        return;\n      }\n    }\n\n    // Build base geographic URL\n    const baseUrl = buildVenueUrl({\n      continent: selectedContinent,\n      country: selectedCountry,\n      regionSlug: selectedRegionSlug,\n      city: selectedCity,\n    });\n\n    // Determine current URL state\n    const currentPath = pathname;\n    const currentlyOnVenueTypePage = activeVenueTypeSlug !== null;\n\n    // Get filter params to preserve (capacity + multi-country)\n    const filterParams = getFilterParams();\n    const filterQueryString = filterParams.toString();\n\n    if (selectedTypes.length === 0) {\n      if (currentlyOnVenueTypePage) {\n        const targetUrl = filterQueryString ? `${baseUrl}?${filterQueryString}` : baseUrl;\n        router.replace(targetUrl);\n      } else {\n        const params = new URLSearchParams(searchParams);\n        params.delete(\"type\");\n        router.replace(`?${params.toString()}`);\n      }\n    } else if (selectedTypes.length === 1) {\n      const typeSlug = getVenueTypeSlug(selectedTypes[0]);\n      const targetUrl = `${baseUrl}/${typeSlug}`;\n      const fullUrl = filterQueryString ? `${targetUrl}?${filterQueryString}` : targetUrl;\n\n      if (pathname + searchParams.toString() !== fullUrl) {\n        router.replace(fullUrl);\n      }\n    } else {\n      // Multiple types - use query param, preserve filters\n      const params = getFilterParams();\n      params.set(\"type\", selectedTypes.join(\",\"));\n\n      if (currentlyOnVenueTypePage) {\n        router.replace(`${baseUrl}?${params.toString()}`);\n      } else {\n        router.replace(`?${params.toString()}`);\n      }\n    }\n  }, [\n    selectedTypes,\n    showFinder,\n    selectedContinent,\n    selectedCountry,\n    selectedCountries,\n    selectedRegionSlug,\n    selectedCity,\n    activeVenueTypeSlug,\n    activeVenueType,\n    pathname,\n    searchParams.toString(),\n    router,\n    searchParams,\n    countryParam,\n    rawThirdSegment,\n    rawFourthSegment,\n    getFilterParams,\n  ]);\n\n  // Update query params for capacity filters only (separate from venue type handling)\n  useEffect(() => {\n    if (!showFinder) return;\n\n    const params = new URLSearchParams(searchParams);\n\n    // Only handle capacity params here - venue type is handled by the effect above\n    if (capacityMin > 0) {\n      params.set(\"capacity_min\", capacityMin.toString());\n    } else {\n      params.delete(\"capacity_min\");\n    }\n    if (capacityMax < 100000) {\n      params.set(\"capacity_max\", capacityMax.toString());\n    } else {\n      params.delete(\"capacity_max\");\n    }\n\n    router.replace(`?${params.toString()}`);\n  }, [showFinder, capacityMin, capacityMax, searchParams]);\n\n  // Handle continent selection\n  const handleSelectContinent = (continent: string) => {\n    router.push(`/venues/${getContinentSlug(continent)}`);\n    window.scrollTo(0, 0);\n  };\n\n  // Handle browse all (navigate to a default continent or show all)\n  const handleBrowseAll = () => {\n    // Navigate to Europe as default \"browse all\" starting point\n    router.push(\"/venues/europe\");\n    window.scrollTo(0, 0);\n  };\n\n  // Handle back to continent selection\n  const handleBackToSelection = () => {\n    router.push(\"/venues\");\n    clearNonLocationFilters();\n    // Clear saved map state\n    sessionStorage.removeItem(\"venueFinderMapState\");\n    sessionStorage.removeItem(\"venueFinderSelectedCountries\");\n    setInitialMapState(null);\n  };\n\n  // Clear non-location filters\n  const clearNonLocationFilters = () => {\n    setSelectedTypes([]);\n    setCapacityMin(0);\n    setCapacityMax(100000);\n  };\n\n  // Clear all filters and go back to continent level\n  const clearFilters = () => {\n    setSelectedTypes([]);\n    setCapacityMin(0);\n    setCapacityMax(100000);\n    // Clear saved map state so it resets to default view\n    sessionStorage.removeItem(\"venueFinderMapState\");\n    setInitialMapState(null);\n    if (selectedContinent) {\n      router.push(`/venues/${getContinentSlug(selectedContinent)}`);\n    }\n  };\n\n  // Reset everything and go back to continent view (when clicking continent badge)\n  const resetToContinent = () => {\n    setSelectedTypes([]);\n    setCapacityMin(0);\n    setCapacityMax(100000);\n    setSelectedCountries([]);\n    sessionStorage.removeItem(\"venueFinderMapState\");\n    sessionStorage.removeItem(\"venueFinderSelectedCountries\");\n    setInitialMapState(null);\n    if (selectedContinent) {\n      router.push(`/venues/${getContinentSlug(selectedContinent)}`);\n    }\n  };\n\n  // Helper to build URL with preserved non-location filter params\n  const buildUrlWithFilters = (basePath: string, extraParams?: Record<string, string>) => {\n    const params = new URLSearchParams();\n\n    // Preserve capacity filters\n    if (capacityMin > 0) {\n      params.set(\"capacity_min\", capacityMin.toString());\n    }\n    if (capacityMax < 100000) {\n      params.set(\"capacity_max\", capacityMax.toString());\n    }\n\n    // Preserve venue type if multiple selected (single type goes in URL path)\n    if (selectedTypes.length > 1) {\n      params.set(\"type\", selectedTypes.join(\",\"));\n    }\n\n    // Add any extra params\n    if (extraParams) {\n      Object.entries(extraParams).forEach(([key, value]) => {\n        params.set(key, value);\n      });\n    }\n\n    // For single venue type, append to path\n    let finalPath = basePath;\n    if (selectedTypes.length === 1) {\n      finalPath = `${basePath}/${getVenueTypeSlug(selectedTypes[0])}`;\n    }\n\n    const queryString = params.toString();\n    return queryString ? `${finalPath}?${queryString}` : finalPath;\n  };\n\n  // Handle country change - update state and URL\n  // Update state and navigate\n  const handleCountryChange = (newCountries: string[]) => {\n    console.log(' VenueFinder handleCountryChange called with:', newCountries);\n    console.log(' Current selectedContries state:', selectedCountries);\n    console.log(' selectedContinent:', selectedContinent);\n    \n    setSelectedCountries(newCountries);\n    console.log(' setSelectedCountries called');\n    \n    // Clear saved map state when changing geographic scope\n    sessionStorage.removeItem(\"venueFinderMapState\");\n    setInitialMapState(null);\n\n    // Keep the country filter dropdown open for multi-select\n    setCountryFilterOpen(true);\n\n    let targetUrl: string;\n\n    if (newCountries.length === 1) {\n      // Single country - use SEO URL path, preserve filters\n      const basePath = buildVenueUrl({\n        continent: selectedContinent,\n        country: newCountries[0],\n      });\n      targetUrl = buildUrlWithFilters(basePath);\n    } else if (newCountries.length === 0) {\n      // Clear country - go back to continent level, preserve filters\n      const basePath = buildVenueUrl({ continent: selectedContinent });\n      targetUrl = buildUrlWithFilters(basePath);\n    } else {\n      // Multiple countries - use query param, preserve filters\n      const basePath = buildVenueUrl({ continent: selectedContinent });\n      targetUrl = buildUrlWithFilters(basePath, { countries: newCountries.join(\",\") });\n    }\n\n    console.log(' About to navigate to:', targetUrl);\n    \n    // Store the URL we're navigating to so the sync effect skips it\n    lastNavigatedUrlRef.current = targetUrl;\n    router.push(targetUrl);\n    \n    console.log(' router.push called');\n  };\n\n  // Handle region change - navigate to new URL\n  const handleRegionChange = (value: string) => {\n    // Clear saved map state when changing geographic scope\n    sessionStorage.removeItem(\"venueFinderMapState\");\n    setInitialMapState(null);\n\n    if (value === \"all\") {\n      const basePath = buildVenueUrl({\n        continent: selectedContinent,\n        country: selectedCountry,\n      });\n      router.push(buildUrlWithFilters(basePath));\n    } else {\n      const basePath = buildVenueUrl({\n        continent: selectedContinent,\n        country: selectedCountry,\n        regionSlug: value,\n      });\n      router.push(buildUrlWithFilters(basePath));\n    }\n  };\n\n  // Handle city change - navigate to new URL\n  const handleCityChange = (value: string) => {\n    // Clear saved map state when changing geographic scope\n    sessionStorage.removeItem(\"venueFinderMapState\");\n    setInitialMapState(null);\n\n    if (value === \"all\") {\n      const basePath = buildVenueUrl({\n        continent: selectedContinent,\n        country: selectedCountry,\n        regionSlug: selectedRegionSlug,\n      });\n      router.push(buildUrlWithFilters(basePath));\n    } else {\n      const basePath = buildVenueUrl({\n        continent: selectedContinent,\n        country: selectedCountry,\n        regionSlug: selectedRegionSlug,\n        city: value,\n      });\n      router.push(buildUrlWithFilters(basePath));\n    }\n  };\n\n  // Check if any filters are active\n  const hasActiveFilters =\n    selectedTypes.length > 0 || capacityMin > 0 || capacityMax < 100000 || selectedCountries.length > 0 || selectedCity;\n\n  // Count active location filters (for badge on filter trigger)\n  const activeLocationFilterCount = selectedCountries.length + (selectedRegionId ? 1 : 0) + (selectedCity ? 1 : 0);\n\n  // Count active secondary filters (venue type + capacity) for collapsed Filters button\n  const hasSecondaryFilters = selectedTypes.length > 0 || capacityMin > 0 || capacityMax < 100000;\n  const secondaryFilterCount = (selectedTypes.length > 0 ? 1 : 0) + (capacityMin > 0 || capacityMax < 100000 ? 1 : 0);\n\n  // Get selected region data\n  const selectedRegionData = selectedRegionId ? regions?.find((r) => r.id === selectedRegionId) : null;\n\n  // Close filter panel and dropdowns on scroll\n  const handleContentScroll = useCallback(() => {\n    if (document.activeElement instanceof HTMLElement) {\n      document.activeElement.blur();\n    }\n    setLocationFilterOpen(false);\n    setRegionDropdownOpen(false);\n    setCityDropdownOpen(false);\n  }, []);\n\n  // Close dropdowns on click outside, scroll, or wheel anywhere\n  useEffect(() => {\n    if (!regionDropdownOpen && !cityDropdownOpen) return;\n\n    const handleClickOutside = (event: MouseEvent) => {\n      const target = event.target as Element;\n      const isInsideDropdown =\n        target.closest(\"[data-radix-popper-content-wrapper]\") || target.closest('[role=\"listbox\"]');\n      if (isInsideDropdown) return;\n\n      const filterContent = document.querySelector(\"[data-filter-content]\");\n      if (filterContent?.contains(target)) return;\n\n      setRegionDropdownOpen(false);\n      setCityDropdownOpen(false);\n    };\n\n    const handleScrollOrWheel = (event: Event) => {\n      const target = event.target as Element;\n      if (!target.closest) return;\n\n      const isInsideDropdown =\n        target.closest(\"[data-radix-popper-content-wrapper]\") ||\n        target.closest('[role=\"listbox\"]') ||\n        target.closest(\"[data-radix-select-viewport]\");\n      if (isInsideDropdown) return;\n\n      setRegionDropdownOpen(false);\n      setCityDropdownOpen(false);\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    document.addEventListener(\"scroll\", handleScrollOrWheel, true);\n    document.addEventListener(\"wheel\", handleScrollOrWheel, { passive: true, capture: true });\n    window.addEventListener(\"scroll\", handleScrollOrWheel, true);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n      document.removeEventListener(\"scroll\", handleScrollOrWheel, true);\n      document.removeEventListener(\"wheel\", handleScrollOrWheel);\n      window.removeEventListener(\"scroll\", handleScrollOrWheel, true);\n    };\n  }, [regionDropdownOpen, cityDropdownOpen]);\n\n  // Scroll to venue card when map pin clicked\n  const scrollToVenue = useCallback((venueId: string) => {\n    const element = document.querySelector(`[data-venue-id=\"${venueId}\"]`);\n    if (element) {\n      element.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      setHighlightedVenueId(venueId);\n      setTimeout(() => setHighlightedVenueId(null), 2000);\n    }\n  }, []);\n\n  // Handle map venue selection\n  const handleMapVenueSelect = (venue: VenueListing | null) => {\n    setSelectedMapVenue(venue);\n    if (venue) {\n      scrollToVenue(venue.id);\n    }\n  };\n\n  // Debounced hover handler for better performance\n  const handleHoverVenue = useCallback((venueId: string | null) => {\n    setHighlightedVenueId(venueId);\n  }, []);\n\n  // Helper to get location string for SEO content (uses displayCity for stability)\n  const getLocationString = useCallback(() => {\n    if (displayCity) return displayCity;\n    if (selectedRegionData) return selectedRegionData.region_name;\n    if (selectedCountry) return selectedCountry;\n    if (selectedContinent) return selectedContinent;\n    return null;\n  }, [displayCity, selectedRegionData, selectedCountry, selectedContinent]);\n\n  // SEO meta content\n  // Venue type SEO takes priority over location SEO when on a venue type page\n  const pageTitle = useMemo(() => {\n    // Venue type SEO override takes priority when on venue type page\n    if (activeVenueType && venueTypeSeo?.seo_title) return venueTypeSeo.seo_title;\n    // Location SEO override (only when not on venue type page)\n    if (!activeVenueType && locationSeo?.seo_title) return locationSeo.seo_title;\n\n    // Use category template if available\n    if (!activeVenueType && venuesCategory?.seo_title) {\n      const injected = injectLocation(venuesCategory.seo_title);\n      if (injected) return injected;\n    }\n\n    const location = getLocationString();\n\n    // Venue type specific titles: \"{VenueType}s in {Location} | Showcase Music\"\n    if (activeVenueType && location) {\n      return `${activeVenueType}s in ${location} | Showcase Music`;\n    }\n\n    // Template fallbacks for non-venue-type pages\n    if (displayCity) return `Venues in ${displayCity}, ${selectedCountry} | Showcase Music`;\n    if (selectedRegionData) return `Venues in ${selectedRegionData.region_name}, ${selectedCountry} | Showcase Music`;\n    if (selectedCountry) return `Venues in ${selectedCountry} | Showcase Music`;\n    if (selectedContinent) return `Venues in ${selectedContinent} | Showcase Music`;\n    return \"Venue Finder | Showcase Music\";\n  }, [\n    displayCity,\n    selectedCountry,\n    selectedRegionData,\n    selectedContinent,\n    locationSeo,\n    activeVenueType,\n    venueTypeSeo,\n    getLocationString,\n    venuesCategory,\n    injectLocation,\n  ]);\n\n  const pageDescription = useMemo(() => {\n    // Venue type SEO override takes priority when on venue type page\n    if (activeVenueType && venueTypeSeo?.meta_description) return venueTypeSeo.meta_description;\n    // Location SEO override (only when not on venue type page)\n    if (!activeVenueType && locationSeo?.meta_description) return locationSeo.meta_description;\n\n    // Use category template if available\n    if (!activeVenueType && venuesCategory?.seo_meta_description) {\n      const injected = injectLocation(venuesCategory.seo_meta_description);\n      if (injected) return injected;\n    }\n\n    const location = getLocationString();\n\n    // Venue type specific descriptions with venue count\n    if (activeVenueType && location) {\n      const typeLower = activeVenueType.toLowerCase();\n      return `Discover ${typeLower}s in ${location}. Browse ${venues.length} ${typeLower}${venues.length !== 1 ? \"s\" : \"\"} with capacity, contact details, and booking information for your next event.`;\n    }\n\n    // Existing geographic fallbacks\n    if (displayCity)\n      return `Find concert venues in ${displayCity}, ${selectedCountry}. Browse arenas, theatres, clubs and stadiums.`;\n    if (selectedRegionData)\n      return `Find concert venues in ${selectedRegionData.region_name}, ${selectedCountry}. Browse arenas, theatres, clubs and stadiums.`;\n    if (selectedCountry)\n      return `Find concert venues in ${selectedCountry}. Browse arenas, theatres, clubs and stadiums across all regions.`;\n    if (selectedContinent)\n      return `Find concert venues in ${selectedContinent}. Browse arenas, theatres, clubs and stadiums.`;\n    return \"Find concert venues worldwide. Browse arenas, theatres, clubs and stadiums across Europe, North America, Asia and more.\";\n  }, [\n    displayCity,\n    selectedCountry,\n    selectedRegionData,\n    selectedContinent,\n    locationSeo,\n    activeVenueType,\n    venueTypeSeo,\n    getLocationString,\n    venues.length,\n    venuesCategory,\n    injectLocation,\n  ]);\n\n  const pageKeywords = useMemo(() => {\n    // Venue type SEO override takes priority when on venue type page\n    if (activeVenueType && venueTypeSeo?.meta_keywords) return venueTypeSeo.meta_keywords;\n    // Location SEO override\n    if (locationSeo?.meta_keywords) return locationSeo.meta_keywords;\n\n    const keywords = [\"concert venues\", \"music venues\", \"live music\"];\n\n    if (activeVenueType) {\n      keywords.push(activeVenueType.toLowerCase(), `${activeVenueType.toLowerCase()}s`);\n    }\n\n    if (displayCity) {\n      keywords.push(`venues in ${displayCity}`, `${displayCity} concert halls`, `${displayCity} live music`);\n    }\n\n    if (selectedRegionData) {\n      keywords.push(`${selectedRegionData.region_name} venues`, `${selectedRegionData.region_name} concerts`);\n    }\n\n    if (selectedCountry) {\n      keywords.push(`${selectedCountry} venues`, `${selectedCountry} arenas`, `${selectedCountry} theatres`);\n    }\n\n    if (selectedContinent) {\n      keywords.push(`${selectedContinent} venues`);\n    }\n\n    keywords.push(\"arenas\", \"theatres\", \"clubs\", \"stadiums\");\n\n    return keywords.join(\", \");\n  }, [displayCity, selectedRegionData, selectedCountry, selectedContinent, locationSeo, activeVenueType, venueTypeSeo]);\n\n  const canonicalUrl = useMemo(() => {\n    let path = buildVenueUrl({\n      continent: selectedContinent,\n      country: selectedCountry,\n      regionSlug: selectedRegionSlug,\n      city: selectedCity,\n    });\n\n    // Add venue type slug for venue type pages (single type only)\n    if (activeVenueTypeSlug && selectedTypes.length === 1) {\n      path = `${path}/${activeVenueTypeSlug}`;\n    }\n\n    return `https://www.showcase-music.com${path}`;\n  }, [selectedContinent, selectedCountry, selectedRegionSlug, selectedCity, activeVenueTypeSlug, selectedTypes]);\n\n  // Determine if page should be noindexed (has query filters)\n  const shouldNoIndex = searchParams.toString().length > 0;\n\n  // Check if current region is a city-region (London, New York)\n  const isCurrentCityRegion = useMemo(() => {\n    return isCityRegion(selectedCountry, selectedRegionSlug);\n  }, [selectedCountry, selectedRegionSlug]);\n\n  const breadcrumbSchema = useMemo(() => {\n    const SITE_URL = \"https://www.showcase-music.com\";\n\n    const items: { name: string; item?: string }[] = [\n      { name: \"Home\", item: SITE_URL },\n      { name: \"Venues\", item: `${SITE_URL}/venues` },\n    ];\n\n    if (selectedContinent) {\n      items.push({\n        name: selectedContinent,\n        item: `${SITE_URL}/venues/${getContinentSlug(selectedContinent)}`,\n      });\n    }\n\n    if (selectedCountry && countryParam) {\n      items.push({\n        name: selectedCountry,\n        item: `${SITE_URL}/venues/${getContinentSlug(selectedContinent)}/${countryParam}`,\n      });\n    }\n\n    // For city-regions (London, New York), show region name as the final city-level crumb\n    // Don't add a separate region + city crumb\n    if (selectedRegionData && selectedRegionSlug) {\n      if (isCurrentCityRegion) {\n        // City-region: region IS the city, this is the final breadcrumb\n        items.push({ name: selectedRegionData.region_name });\n      } else {\n        // Normal region: add region as a link\n        items.push({\n          name: selectedRegionData.region_name,\n          item: `${SITE_URL}/venues/${getContinentSlug(selectedContinent)}/${countryParam}/${selectedRegionSlug}`,\n        });\n\n        // Add city if present (use displayCity for stable SEO)\n        if (displayCity) {\n          items.push({ name: displayCity });\n        }\n      }\n    } else if (displayCity) {\n      // No region, just city\n      items.push({ name: displayCity });\n    }\n\n    return {\n      \"@context\": \"https://schema.org\",\n      \"@type\": \"BreadcrumbList\",\n      itemListElement: items.map((crumb, index) => ({\n        \"@type\": \"ListItem\",\n        position: index + 1,\n        name: crumb.name,\n        ...(crumb.item && { item: crumb.item }),\n      })),\n    };\n  }, [\n    selectedContinent,\n    selectedCountry,\n    countryParam,\n    selectedRegionData,\n    selectedRegionSlug,\n    displayCity,\n    isCurrentCityRegion,\n  ]);\n\n  const itemListSchema = useMemo(() => {\n    if (!showFinder || !venues || venues.length === 0) return null;\n\n    const SITE_URL = \"https://www.showcase-music.com\";\n\n    return {\n      \"@context\": \"https://schema.org\",\n      \"@type\": \"ItemList\",\n      name: pageTitle,\n      description: pageDescription,\n      url: canonicalUrl,\n      numberOfItems: venues.length,\n      itemListElement: venues.slice(0, 10).map((venue, index) => ({\n        \"@type\": \"ListItem\",\n        position: index + 1,\n        item: {\n          \"@type\": \"EventVenue\",\n          name: venue.name,\n          url: `${SITE_URL}${getVenueUrl({\n            slug: venue.slug,\n            country: venue.country,\n            region_slug: venue.region_slug,\n            town_city: venue.town_city,\n          })}`,\n          ...(venue.venue_type && { additionalType: venue.venue_type }),\n          ...(venue.venue_capacity && { maximumAttendeeCapacity: venue.venue_capacity }),\n          ...((venue.town_city || venue.country) && {\n            address: {\n              \"@type\": \"PostalAddress\",\n              ...(venue.town_city && { addressLocality: venue.town_city }),\n              ...(venue.country && { addressCountry: venue.country }),\n            },\n          }),\n        },\n      })),\n    };\n  }, [showFinder, venues, pageTitle, pageDescription, canonicalUrl, selectedContinent]);\n\n  // Compute the H1 title for the venue finder\n  const venueH1Title = useMemo(() => {\n    if (!showFinder) return \"VENUE FINDER\";\n\n    // Use URL segments to check SEO match (not async state)\n    const urlHasThirdSegment = !!urlParsed.thirdSlug;\n    const urlHasFourthSegment = !!urlParsed.fourthSlug;\n    const urlHasCountry = !!urlParsed.countrySlug;\n\n    // Venue type page\n    if (activeVenueType) {\n      // Check if venueTypeSeo matches URL specificity exactly\n      if (venueTypeSeo?.h1_override) {\n        const seoHasCity = !!venueTypeSeo.city;\n        const seoHasRegion = !!venueTypeSeo.region_slug;\n        const seoHasCountry = !!venueTypeSeo.country;\n\n        // URL has city (4th segment): SEO must have city\n        if (urlHasFourthSegment && seoHasCity) return venueTypeSeo.h1_override;\n        // URL has region/city (3rd only): SEO must match\n        if (urlHasThirdSegment && !urlHasFourthSegment) {\n          if (seoHasCity && !seoHasRegion) return venueTypeSeo.h1_override; // city for non-regional\n          if (seoHasRegion && !seoHasCity) return venueTypeSeo.h1_override; // region only\n        }\n        // URL has country only: SEO must be country-level\n        if (urlHasCountry && !urlHasThirdSegment && seoHasCountry && !seoHasRegion && !seoHasCity) {\n          return venueTypeSeo.h1_override;\n        }\n        // URL is continent only: SEO must be continent-level\n        if (!urlHasCountry && !seoHasCountry) return venueTypeSeo.h1_override;\n      }\n      return `${activeVenueType}s in ${displayLocationTitle}`;\n    }\n\n    // Location page (no venue type)\n    if (locationSeo?.h1_override) {\n      const seoHasCity = !!locationSeo.city;\n      const seoHasRegion = !!locationSeo.region_slug;\n      const seoHasCountry = !!locationSeo.country;\n\n      // URL has city (4th segment): SEO must have city\n      if (urlHasFourthSegment && seoHasCity) return locationSeo.h1_override;\n      // URL has region/city (3rd only): SEO must match\n      if (urlHasThirdSegment && !urlHasFourthSegment) {\n        if (seoHasCity && !seoHasRegion) return locationSeo.h1_override; // city for non-regional\n        if (seoHasRegion && !seoHasCity) return locationSeo.h1_override; // region only\n      }\n      // URL has country only: SEO must be country-level\n      if (urlHasCountry && !urlHasThirdSegment && seoHasCountry && !seoHasRegion && !seoHasCity) {\n        return locationSeo.h1_override;\n      }\n      // URL is continent only: SEO must be continent-level\n      if (!urlHasCountry && !seoHasCountry) return locationSeo.h1_override;\n    }\n\n    // Use category name as template (e.g., \"Venues in {location}\")\n    const categoryName = venuesCategory?.name || \"Venues\";\n    return `${categoryName} in ${displayLocationTitle}`;\n  }, [showFinder, urlParsed, activeVenueType, venueTypeSeo, locationSeo, venuesCategory, displayLocationTitle]);\n\n  // Build the custom nav content for venue pages\n  const venueNavContent = showFinder ? (\n    <>\n      <Link href=\"/\" className=\"text-muted-foreground hover:text-primary transition-colors whitespace-nowrap font-medium\">\n        Home\n      </Link>\n      <ChevronRight className=\"h-4 w-4 text-muted-foreground shrink-0\" />\n      <h1\n        className=\"!text-xs lg:!text-sm !font-medium !tracking-normal !normal-case text-muted-foreground whitespace-nowrap truncate\"\n        style={{ fontFamily: \"inherit\" }}\n      >\n        {venueH1Title}\n      </h1>\n    </>\n  ) : null;\n\n  // Breadcrumbs for continent selector page\n  const venueBreadcrumbs = !showFinder ? [{ label: \"Home\", to: \"/\" }, { label: \"Venues\" }] : undefined;\n\n  return (\n    <Layout hideFooter={!!showFinder} breadcrumbs={venueBreadcrumbs} customNavContent={venueNavContent}>\n      {/* Structured Data */}\n      <script \n        type=\"application/ld+json\" \n        dangerouslySetInnerHTML={{ __html: JSON.stringify(breadcrumbSchema) }}\n      />\n      {itemListSchema && (\n        <script \n          type=\"application/ld+json\" \n          dangerouslySetInnerHTML={{ __html: JSON.stringify(itemListSchema) }}\n        />\n      )}\n      \n      {/* Continent Selection - normal scrolling page */}\n      {!showFinder ? (\n        <div className=\"container py-3 sm:py-4\">\n          {/* Header */}\n          <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-3 mb-3 sm:mb-4\">\n            <div>\n              <h1 className=\"text-2xl sm:text-3xl font-bold\">VENUE FINDER</h1>\n              <p className=\"text-muted-foreground text-sm mt-1\">Find the perfect venue for your tour</p>\n            </div>\n\n            <div className=\"hidden sm:block w-64\">\n              <VenueSearchAutocomplete />\n            </div>\n          </div>\n\n          {/* Mobile Search */}\n          <div className=\"sm:hidden mb-4\">\n            <VenueSearchAutocomplete />\n          </div>\n\n          <ContinentSelector onSelectContinent={handleSelectContinent} onBrowseAll={handleBrowseAll} />\n        </div>\n      ) : (\n        /* Venue Finder - flex to fill remaining space */\n        (<div className=\"flex-1 flex flex-col min-h-0 overflow-hidden\">\n          {/* Fixed header area */}\n          <div className=\"container flex-shrink-0 py-2 border-b border-border bg-background\">\n            {/* Search - own row on mobile/tablet */}\n            <div className=\"md:hidden mb-2 [&_input]:h-9 [&_input]:text-sm [&_input]:py-1\">\n              <VenueSearchAutocomplete placeholder=\"Search venues...\" />\n            </div>\n\n            {/* Filters Row - Desktop */}\n            <div className=\"hidden md:flex items-center gap-1.5 lg:gap-3 flex-nowrap\">\n              {/* Continent badge - with X to go back to venue finder map */}\n              {selectedContinent && (\n                <button\n                  onClick={handleBackToSelection}\n                  className=\"inline-flex items-center gap-1.5 px-2.5 py-1.5 rounded-full text-xs font-medium transition-colors hover:opacity-80\"\n                  style={{\n                    backgroundColor: `${CONTINENT_COLORS[selectedContinent]}20`,\n                    color: CONTINENT_COLORS[selectedContinent],\n                    border: `1px solid ${CONTINENT_COLORS[selectedContinent]}40`,\n                  }}\n                >\n                  <Globe className=\"h-3 w-3\" />\n                  {selectedContinent}\n                  <X className=\"h-3 w-3\" />\n                </button>\n              )}\n\n              <div className=\"h-4 w-px bg-border\" />\n\n              {/* Country dropdown - always interactive */}\n              <CountryFilter\n                key=\"country-filter-stable\"\n                countries={countries || []}\n                selectedCountries={selectedCountries}\n                onChange={handleCountryChange}\n                open={countryFilterOpen}\n                onOpenChange={setCountryFilterOpen}\n              />\n\n              {/* Region - badge when selected, dropdown when not */}\n              {selectedCountry && regions && regions.length > 0 && (\n                <>\n                  {selectedRegionId && selectedRegionData ? (\n                    <Badge\n                      variant=\"secondary\"\n                      className=\"bg-primary text-primary-foreground hover:bg-primary/90 gap-1 pr-1 h-8 lg:h-9 text-xs lg:text-sm\"\n                    >\n                      {selectedRegionData.region_name}\n                      <button\n                        onClick={() => handleRegionChange(\"all\")}\n                        className=\"ml-0.5 rounded-full hover:bg-primary-foreground/20 p-0.5\"\n                        aria-label={`Remove ${selectedRegionData.region_name} filter`}\n                      >\n                        <X className=\"h-3 w-3\" />\n                      </button>\n                    </Badge>\n                  ) : (\n                    <Select value=\"all\" onValueChange={handleRegionChange}>\n                      <SelectTrigger className=\"w-[100px] lg:w-[150px] h-8 lg:h-9 text-xs lg:text-sm px-2 lg:px-3 hover:bg-muted\">\n                        <SelectValue placeholder=\"Select Region\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        <SelectItem value=\"all\">Select Region</SelectItem>\n                        {regions.map((region) => (\n                          <SelectItem key={region.id} value={region.region_slug}>\n                            {region.region_name}\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  )}\n                </>\n              )}\n\n              {/* City - badge when selected, dropdown when not */}\n              {/* Hide city dropdown for city-regions (London, New York) since region IS the city */}\n              {(() => {\n                // Don't show city dropdown for city-regions\n                if (isCurrentCityRegion) return null;\n\n                const selectedRegionName = selectedRegionId\n                  ? regions?.find((r) => r.id === selectedRegionId)?.region_name\n                  : null;\n                const shouldShowCityDropdown =\n                  selectedCountry &&\n                  cities &&\n                  cities.length > 0 &&\n                  !(cities.length === 1 && selectedRegionName && cities[0] === selectedRegionName);\n\n                if (!shouldShowCityDropdown) return null;\n\n                return selectedCity ? (\n                  <Badge\n                    variant=\"secondary\"\n                    className=\"bg-primary text-primary-foreground hover:bg-primary/90 gap-1 pr-1 h-8 lg:h-9 text-xs lg:text-sm\"\n                  >\n                    {selectedCity}\n                    <button\n                      onClick={() => handleCityChange(\"all\")}\n                      className=\"ml-0.5 rounded-full hover:bg-primary-foreground/20 p-0.5\"\n                      aria-label={`Remove ${selectedCity} filter`}\n                    >\n                      <X className=\"h-3 w-3\" />\n                    </button>\n                  </Badge>\n                ) : (\n                  <Select value=\"all\" onValueChange={handleCityChange}>\n                    <SelectTrigger className=\"w-[100px] lg:w-[150px] h-8 lg:h-9 text-xs lg:text-sm px-2 lg:px-3 hover:bg-muted\">\n                      <SelectValue placeholder=\"Select City\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"all\">Select City</SelectItem>\n                      {cities.map((city) => (\n                        <SelectItem key={city} value={city}>\n                          {city}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                );\n              })()}\n\n              {/* Venue Type & Capacity - INLINE at xl+, COLLAPSED below xl */}\n              {/* Extra large screens: show inline */}\n              <div className=\"hidden xl:contents\">\n                <VenueTypeFilter selectedTypes={selectedTypes} onChange={setSelectedTypes} />\n\n                <CapacitySlider\n                  min={capacityMin}\n                  max={capacityMax}\n                  onChange={(min, max) => {\n                    setCapacityMin(min);\n                    setCapacityMax(max);\n                  }}\n                  variant=\"inline\"\n                />\n              </div>\n\n              {/* Below xl: collapsed Filters button */}\n              <div className=\"xl:hidden flex-shrink-0\">\n                <Popover open={filtersPopoverOpen} onOpenChange={setFiltersPopoverOpen}>\n                  <PopoverTrigger asChild>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className={cn(\n                        \"h-8 gap-1.5 px-2.5 justify-between\",\n                        hasSecondaryFilters\n                          ? \"border-primary bg-primary/10 text-primary hover:bg-primary/20\"\n                          : \"border-input bg-background text-foreground hover:bg-muted\",\n                      )}\n                    >\n                      <SlidersHorizontal className=\"h-3.5 w-3.5\" />\n                      <span className=\"text-xs\">Filters</span>\n                      {secondaryFilterCount > 0 && (\n                        <Badge\n                          variant=\"secondary\"\n                          className=\"h-4 min-w-4 px-1 text-[10px] bg-primary text-primary-foreground\"\n                        >\n                          {secondaryFilterCount}\n                        </Badge>\n                      )}\n                      <ChevronDown className={cn(\"h-3 w-3 transition-transform\", filtersPopoverOpen && \"rotate-180\")} />\n                    </Button>\n                  </PopoverTrigger>\n                  <PopoverContent className=\"w-72 p-3 bg-card border rounded-lg shadow-lg\" align=\"start\" sideOffset={4}>\n                    <div className=\"space-y-4\">\n                      <div>\n                        <label className=\"text-xs font-medium text-muted-foreground mb-2 block\">Venue Type</label>\n                        <VenueTypeFilter selectedTypes={selectedTypes} onChange={setSelectedTypes} />\n                      </div>\n                      <div>\n                        <label className=\"text-xs font-medium text-muted-foreground mb-2 block\">Capacity</label>\n                        <CapacitySlider\n                          min={capacityMin}\n                          max={capacityMax}\n                          onChange={(min, max) => {\n                            setCapacityMin(min);\n                            setCapacityMax(max);\n                          }}\n                          variant=\"stacked\"\n                        />\n                      </div>\n                    </div>\n                  </PopoverContent>\n                </Popover>\n              </div>\n\n              {hasActiveFilters && (\n                <Button\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  onClick={clearFilters}\n                  className=\"text-muted-foreground h-8 lg:h-9 px-1.5 lg:px-3 flex-shrink-0\"\n                >\n                  <X className=\"h-3.5 w-3.5 lg:h-4 lg:w-4\" />\n                  <span className=\"hidden lg:inline ml-1\">Clear</span>\n                </Button>\n              )}\n            </div>\n\n            {/* Row 2 - Mobile: Collapsible Filter with progressive disclosure */}\n            <div className=\"md:hidden\">\n              <Collapsible open={locationFilterOpen} onOpenChange={setLocationFilterOpen}>\n                {/* Row: Filter trigger + View toggle */}\n                <div className=\"flex items-center gap-2\">\n                  {/* Collapsible filter trigger */}\n                  <CollapsibleTrigger className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center justify-between p-2.5 bg-card rounded-lg border\">\n                      <div className=\"flex items-center gap-2\">\n                        <MapPin className=\"h-4 w-4 text-muted-foreground\" />\n                        <span className=\"font-medium text-sm\">Filter Venues</span>\n                        {selectedTypes.length +\n                          activeLocationFilterCount +\n                          (capacityMin > 0 || capacityMax < 100000 ? 1 : 0) >\n                          0 && (\n                          <Badge variant=\"secondary\" className=\"ml-1 bg-primary text-primary-foreground text-xs\">\n                            {selectedTypes.length +\n                              activeLocationFilterCount +\n                              (capacityMin > 0 || capacityMax < 100000 ? 1 : 0)}\n                          </Badge>\n                        )}\n                      </div>\n                      <ChevronDown\n                        className={cn(\n                          \"h-4 w-4 text-muted-foreground transition-transform\",\n                          locationFilterOpen && \"rotate-180\",\n                        )}\n                      />\n                    </div>\n                  </CollapsibleTrigger>\n\n                  {/* View Toggle - always visible */}\n                  <div className=\"flex items-center gap-1 shrink-0\">\n                    <Button\n                      variant={viewMode === \"list\" ? \"default\" : \"outline\"}\n                      size=\"sm\"\n                      className=\"h-9 w-9 p-0\"\n                      onClick={() => setViewMode(\"list\")}\n                    >\n                      <List className=\"h-4 w-4\" />\n                    </Button>\n                    <Button\n                      variant={viewMode === \"map\" ? \"default\" : \"outline\"}\n                      size=\"sm\"\n                      className=\"h-9 w-9 p-0\"\n                      onClick={() => setViewMode(\"map\")}\n                    >\n                      <Map className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                </div>\n\n                {/* Expandable filter content with progressive disclosure */}\n                <CollapsibleContent data-filter-content className=\"mt-2 overscroll-contain\">\n                  <div className=\"p-3 bg-card border border-border rounded-lg space-y-3\">\n                    {/* Selected filters as removable chips - always show if continent selected */}\n                    {(selectedContinent ||\n                      selectedTypes.length > 0 ||\n                      selectedCountry ||\n                      selectedRegionId ||\n                      selectedCity ||\n                      capacityMin > 0 ||\n                      capacityMax < 100000) && (\n                      <div className=\"flex flex-wrap items-center gap-1.5\">\n                        {/* Continent chip - clicking X goes back to continent selector */}\n                        {selectedContinent && (\n                          <Badge\n                            variant=\"secondary\"\n                            className=\"bg-primary text-primary-foreground hover:bg-primary/90 gap-1 pr-1 text-xs\"\n                          >\n                            {selectedContinent}\n                            <button\n                              onClick={handleBackToSelection}\n                              className=\"ml-0.5 rounded-full hover:bg-primary-foreground/20 p-0.5\"\n                            >\n                              <X className=\"h-3 w-3\" />\n                            </button>\n                          </Badge>\n                        )}\n\n                        {/* Country badges - show each selected country as a badge when multi-selecting (not drilled to region/city) */}\n                        {selectedCountries.length > 0 &&\n                          !selectedRegionId &&\n                          !selectedCity &&\n                          selectedCountries.map((country) => (\n                            <Badge\n                              key={country}\n                              variant=\"secondary\"\n                              className=\"bg-primary text-primary-foreground hover:bg-primary/90 gap-1 pr-1 text-xs\"\n                            >\n                              {country}\n                              <button\n                                onClick={() => {\n                                  const newCountries = selectedCountries.filter((c) => c !== country);\n                                  handleCountryChange(newCountries);\n                                }}\n                                className=\"ml-0.5 rounded-full hover:bg-primary-foreground/20 p-0.5\"\n                              >\n                                <X className=\"h-3 w-3\" />\n                              </button>\n                            </Badge>\n                          ))}\n\n                        {/* Country chip - show when drilled down to region or city */}\n                        {selectedCountry && (selectedRegionId || selectedCity) && (\n                          <Badge\n                            variant=\"secondary\"\n                            className=\"bg-primary text-primary-foreground hover:bg-primary/90 gap-1 pr-1 text-xs\"\n                          >\n                            {selectedCountry}\n                            <button\n                              onClick={() => {\n                                sessionStorage.removeItem(\"venueFinderMapState\");\n                                sessionStorage.removeItem(\"venueFinderSelectedCountries\");\n                                setInitialMapState(null);\n                                router.push(buildVenueUrl({ continent: selectedContinent }));\n                              }}\n                              className=\"ml-0.5 rounded-full hover:bg-primary-foreground/20 p-0.5\"\n                            >\n                              <X className=\"h-3 w-3\" />\n                            </button>\n                          </Badge>\n                        )}\n\n                        {/* Venue type chips */}\n                        {selectedTypes.map((type) => (\n                          <Badge\n                            key={type}\n                            variant=\"secondary\"\n                            className=\"bg-primary text-primary-foreground hover:bg-primary/90 gap-1 pr-1 text-xs\"\n                          >\n                            {type}\n                            <button\n                              onClick={() => setSelectedTypes(selectedTypes.filter((t) => t !== type))}\n                              className=\"ml-0.5 rounded-full hover:bg-primary-foreground/20 p-0.5\"\n                            >\n                              <X className=\"h-3 w-3\" />\n                            </button>\n                          </Badge>\n                        ))}\n\n                        {/* Capacity chip */}\n                        {(capacityMin > 0 || capacityMax < 100000) && (\n                          <Badge\n                            variant=\"secondary\"\n                            className=\"bg-primary text-primary-foreground hover:bg-primary/90 gap-1 pr-1 text-xs\"\n                          >\n                            {capacityMin > 0 && capacityMax < 100000\n                              ? `${capacityMin.toLocaleString()}-${capacityMax.toLocaleString()}`\n                              : capacityMin > 0\n                                ? `${capacityMin.toLocaleString()}+`\n                                : `Up to ${capacityMax.toLocaleString()}`}\n                            <button\n                              onClick={() => {\n                                setCapacityMin(0);\n                                setCapacityMax(100000);\n                              }}\n                              className=\"ml-0.5 rounded-full hover:bg-primary-foreground/20 p-0.5\"\n                            >\n                              <X className=\"h-3 w-3\" />\n                            </button>\n                          </Badge>\n                        )}\n\n                        {/* City chip */}\n                        {selectedCity && (\n                          <Badge\n                            variant=\"secondary\"\n                            className=\"bg-primary text-primary-foreground hover:bg-primary/90 gap-1 pr-1 text-xs\"\n                          >\n                            {selectedCity}\n                            <button\n                              onClick={() =>\n                                router.push(\n                                  buildVenueUrl({\n                                    continent: selectedContinent,\n                                    country: selectedCountry,\n                                    regionSlug: selectedRegionSlug,\n                                  }),\n                                )\n                              }\n                              className=\"ml-0.5 rounded-full hover:bg-primary-foreground/20 p-0.5\"\n                            >\n                              <X className=\"h-3 w-3\" />\n                            </button>\n                          </Badge>\n                        )}\n\n                        {/* Region chip */}\n                        {selectedRegionData && !selectedCity && (\n                          <Badge\n                            variant=\"secondary\"\n                            className=\"bg-primary text-primary-foreground hover:bg-primary/90 gap-1 pr-1 text-xs\"\n                          >\n                            {selectedRegionData.region_name}\n                            <button\n                              onClick={() =>\n                                router.push(\n                                  buildVenueUrl({\n                                    continent: selectedContinent,\n                                    country: selectedCountry,\n                                  }),\n                                )\n                              }\n                              className=\"ml-0.5 rounded-full hover:bg-primary-foreground/20 p-0.5\"\n                            >\n                              <X className=\"h-3 w-3\" />\n                            </button>\n                          </Badge>\n                        )}\n\n                        {/* Clear all - only show when there's something to clear beyond continent */}\n                        {(selectedCountries.length > 0 ||\n                          selectedTypes.length > 0 ||\n                          capacityMin > 0 ||\n                          capacityMax < 100000) && (\n                          <button\n                            onClick={clearFilters}\n                            className=\"text-xs text-muted-foreground hover:text-foreground underline underline-offset-2 ml-1\"\n                          >\n                            Clear\n                          </button>\n                        )}\n                      </div>\n                    )}\n\n                    {/* Row: Location dropdown + Venue Type side by side */}\n                    <div className=\"grid grid-cols-2 gap-2\">\n                      {/* Show country filter only when not drilled down to region or city */}\n                      {!selectedRegionId && !selectedCity && (\n                        <CountryFilter\n                          key=\"mobile-country-filter-stable\"\n                          countries={countries || []}\n                          selectedCountries={selectedCountries}\n                          onChange={handleCountryChange}\n                          open={countryFilterOpen}\n                          onOpenChange={setCountryFilterOpen}\n                        />\n                      )}\n\n                      {/* Show venue type filter alongside */}\n                      <VenueTypeFilter selectedTypes={selectedTypes} onChange={setSelectedTypes} />\n\n                      {/* Show region dropdown when single country with regions selected */}\n                      {selectedCountry && regions && regions.length > 0 && !selectedRegionId && (\n                        <Select\n                          key=\"region-select\"\n                          open={regionDropdownOpen}\n                          onOpenChange={setRegionDropdownOpen}\n                          onValueChange={(v) => {\n                            handleRegionChange(v);\n                            setRegionDropdownOpen(false);\n                          }}\n                        >\n                          <SelectTrigger className=\"h-9 text-sm\">\n                            <SelectValue placeholder=\"All Regions\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {regions.map((region) => (\n                              <SelectItem key={region.id} value={region.region_slug}>\n                                {region.region_name}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      )}\n\n                      {/* Show city dropdown when appropriate */}\n                      {selectedCountry &&\n                        cities &&\n                        cities.length > 0 &&\n                        !selectedCity &&\n                        !isCurrentCityRegion &&\n                        (() => {\n                          const selectedRegionName = selectedRegionId\n                            ? regions?.find((r) => r.id === selectedRegionId)?.region_name\n                            : null;\n                          const shouldShowCityDropdown = !(\n                            cities.length === 1 &&\n                            selectedRegionName &&\n                            cities[0] === selectedRegionName\n                          );\n\n                          if (!shouldShowCityDropdown) return null;\n\n                          return (\n                            <Select\n                              key=\"city-select\"\n                              open={cityDropdownOpen}\n                              onOpenChange={setCityDropdownOpen}\n                              onValueChange={(v) => {\n                                handleCityChange(v);\n                                setCityDropdownOpen(false);\n                              }}\n                            >\n                              <SelectTrigger className=\"h-9 text-sm\">\n                                <SelectValue placeholder=\"All Cities\" />\n                              </SelectTrigger>\n                              <SelectContent>\n                                {cities.map((city) => (\n                                  <SelectItem key={city} value={city}>\n                                    {city}\n                                  </SelectItem>\n                                ))}\n                              </SelectContent>\n                            </Select>\n                          );\n                        })()}\n                    </div>\n\n                    {/* Capacity slider */}\n                    <CapacitySlider\n                      min={capacityMin}\n                      max={capacityMax}\n                      onChange={(min, max) => {\n                        setCapacityMin(min);\n                        setCapacityMax(max);\n                      }}\n                    />\n                  </div>\n                </CollapsibleContent>\n              </Collapsible>\n            </div>\n          </div>\n          {/* Main Content - Split View - fills remaining height */}\n          <div className=\"container flex-1 flex gap-4 min-h-0 max-h-[790px] overflow-hidden py-4\">\n            {/* Venue List - uses virtual scrolling for performance */}\n            <div className={cn(\"flex-1 flex flex-col min-h-0\", viewMode === \"map\" && \"hidden md:flex\")}>\n              {isLoading ? (\n                <div className=\"space-y-1.5 overflow-hidden\">\n                  {[...Array(8)].map((_, i) => (\n                    <div key={i} className=\"h-14 bg-card border rounded-lg animate-pulse\" />\n                  ))}\n                </div>\n              ) : venues.length === 0 ? (\n                <div className=\"flex flex-col items-center justify-center h-full text-center\">\n                  <MapPin className=\"h-12 w-12 text-muted-foreground mb-4\" />\n                  <p className=\"text-lg font-medium\">No venues found</p>\n                  <p className=\"text-sm text-muted-foreground mt-1\">Try adjusting your filters</p>\n                  {hasActiveFilters && (\n                    <Button variant=\"outline\" size=\"sm\" onClick={clearFilters} className=\"mt-4\">\n                      Clear Filters\n                    </Button>\n                  )}\n                </div>\n              ) : (\n                <>\n                  {/* Header - fixed, shows visible count vs total */}\n                  <div className=\"px-3 py-2 bg-card border rounded-lg mb-3 flex-shrink-0\">\n                    <h2 className=\"text-sm font-medium\">\n                      <span className=\"text-muted-foreground\">\n                        {visibleVenues.length === venues.length\n                          ? `${venues.length} venue${venues.length !== 1 ? \"s\" : \"\"}`\n                          : `${visibleVenues.length} of ${venues.length} venues in view`}\n                      </span>\n                      <span className=\"mx-1.5 text-muted-foreground\"></span>\n                      <span className=\"text-foreground\">\n                        {(() => {\n                          // Check URL specificity for SEO matching\n                          const urlHasThirdSegment = !!urlParsed.thirdSlug;\n                          const urlHasFourthSegment = !!urlParsed.fourthSlug;\n                          const urlHasCountry = !!urlParsed.countrySlug;\n\n                          // Venue type SEO\n                          if (activeVenueType && venueTypeSeo?.h2_override) {\n                            const seoHasCity = !!venueTypeSeo.city;\n                            const seoHasRegion = !!venueTypeSeo.region_slug;\n                            const seoHasCountry = !!venueTypeSeo.country;\n                            if (\n                              (urlHasFourthSegment && seoHasCity) ||\n                              (urlHasThirdSegment &&\n                                !urlHasFourthSegment &&\n                                ((seoHasCity && !seoHasRegion) || (seoHasRegion && !seoHasCity))) ||\n                              (urlHasCountry && !urlHasThirdSegment && seoHasCountry && !seoHasRegion && !seoHasCity) ||\n                              (!urlHasCountry && !seoHasCountry)\n                            ) {\n                              return venueTypeSeo.h2_override;\n                            }\n                          }\n                          if (activeVenueType) {\n                            return `Browse ${activeVenueType}s in ${getLocationString() || \"All Locations\"}`;\n                          }\n\n                          // Location SEO - check specificity\n                          if (locationSeo?.h2_override) {\n                            const seoHasCity = !!locationSeo.city;\n                            const seoHasRegion = !!locationSeo.region_slug;\n                            const seoHasCountry = !!locationSeo.country;\n                            if (\n                              (urlHasFourthSegment && seoHasCity) ||\n                              (urlHasThirdSegment &&\n                                !urlHasFourthSegment &&\n                                ((seoHasCity && !seoHasRegion) || (seoHasRegion && !seoHasCity))) ||\n                              (urlHasCountry && !urlHasThirdSegment && seoHasCountry && !seoHasRegion && !seoHasCity) ||\n                              (!urlHasCountry && !seoHasCountry)\n                            ) {\n                              return locationSeo.h2_override;\n                            }\n                          }\n\n                          // Category template\n                          if (venuesCategory?.seo_h2_override) {\n                            return (\n                              injectLocation(venuesCategory.seo_h2_override) ||\n                              `Live Music Venues in ${displayLocationTitle}`\n                            );\n                          }\n\n                          return `Live Music Venues in ${displayLocationTitle}`;\n                        })()}\n                      </span>\n                    </h2>\n                  </div>\n\n                  {/* Virtual scrolling list - shows only venues visible on map */}\n                  <VirtualVenueList\n                    venues={visibleVenues}\n                    highlightedVenueId={highlightedVenueId}\n                    onHoverVenue={handleHoverVenue}\n                    className=\"flex-1 min-h-0 pr-2\"\n                    initialScrollTop={initialScrollTop}\n                    onScrollPositionChange={handleScrollPositionChange}\n                    onScroll={() => setLocationFilterOpen(false)}\n                    footer={\n                      selectedCountry || selectedContinent ? (\n                        <section className=\"pt-4 border-t border-border\">\n                          <h3 className=\"text-sm font-medium text-muted-foreground mb-2\">\n                            {(() => {\n                              const urlHasThirdSegment = !!urlParsed.thirdSlug;\n                              const urlHasFourthSegment = !!urlParsed.fourthSlug;\n                              const urlHasCountry = !!urlParsed.countrySlug;\n\n                              // Venue type SEO\n                              if (activeVenueType && venueTypeSeo?.about_heading) {\n                                const seoHasCity = !!venueTypeSeo.city;\n                                const seoHasRegion = !!venueTypeSeo.region_slug;\n                                const seoHasCountry = !!venueTypeSeo.country;\n                                if (\n                                  (urlHasFourthSegment && seoHasCity) ||\n                                  (urlHasThirdSegment &&\n                                    !urlHasFourthSegment &&\n                                    ((seoHasCity && !seoHasRegion) || (seoHasRegion && !seoHasCity))) ||\n                                  (urlHasCountry &&\n                                    !urlHasThirdSegment &&\n                                    seoHasCountry &&\n                                    !seoHasRegion &&\n                                    !seoHasCity) ||\n                                  (!urlHasCountry && !seoHasCountry)\n                                ) {\n                                  return venueTypeSeo.about_heading;\n                                }\n                              }\n                              if (activeVenueType) {\n                                return `About ${activeVenueType}s in ${getLocationString() || \"All Locations\"}`;\n                              }\n\n                              // Location SEO - check specificity\n                              if (locationSeo?.about_heading) {\n                                const seoHasCity = !!locationSeo.city;\n                                const seoHasRegion = !!locationSeo.region_slug;\n                                const seoHasCountry = !!locationSeo.country;\n                                if (\n                                  (urlHasFourthSegment && seoHasCity) ||\n                                  (urlHasThirdSegment &&\n                                    !urlHasFourthSegment &&\n                                    ((seoHasCity && !seoHasRegion) || (seoHasRegion && !seoHasCity))) ||\n                                  (urlHasCountry &&\n                                    !urlHasThirdSegment &&\n                                    seoHasCountry &&\n                                    !seoHasRegion &&\n                                    !seoHasCity) ||\n                                  (!urlHasCountry && !seoHasCountry)\n                                ) {\n                                  return locationSeo.about_heading;\n                                }\n                              }\n\n                              // Category template\n                              if (venuesCategory?.seo_about_heading) {\n                                return (\n                                  injectLocation(venuesCategory.seo_about_heading) ||\n                                  `About Venues in ${displayLocationTitle}`\n                                );\n                              }\n\n                              return `About Venues in ${displayLocationTitle}`;\n                            })()}\n                          </h3>\n                          {(() => {\n                            const urlHasThirdSegment = !!urlParsed.thirdSlug;\n                            const urlHasFourthSegment = !!urlParsed.fourthSlug;\n                            const urlHasCountry = !!urlParsed.countrySlug;\n\n                            // Venue type SEO content\n                            if (activeVenueType && venueTypeSeo?.about_content) {\n                              const seoHasCity = !!venueTypeSeo.city;\n                              const seoHasRegion = !!venueTypeSeo.region_slug;\n                              const seoHasCountry = !!venueTypeSeo.country;\n                              if (\n                                (urlHasFourthSegment && seoHasCity) ||\n                                (urlHasThirdSegment &&\n                                  !urlHasFourthSegment &&\n                                  ((seoHasCity && !seoHasRegion) || (seoHasRegion && !seoHasCity))) ||\n                                (urlHasCountry &&\n                                  !urlHasThirdSegment &&\n                                  seoHasCountry &&\n                                  !seoHasRegion &&\n                                  !seoHasCity) ||\n                                (!urlHasCountry && !seoHasCountry)\n                              ) {\n                                return (\n                                  <div\n                                    className=\"text-xs text-muted-foreground/80 leading-relaxed prose prose-sm max-w-none\"\n                                    dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(venueTypeSeo.about_content) }}\n                                  />\n                                );\n                              }\n                            }\n\n                            // Location SEO content - check specificity\n                            if (!activeVenueType && locationSeo?.about_content) {\n                              const seoHasCity = !!locationSeo.city;\n                              const seoHasRegion = !!locationSeo.region_slug;\n                              const seoHasCountry = !!locationSeo.country;\n                              if (\n                                (urlHasFourthSegment && seoHasCity) ||\n                                (urlHasThirdSegment &&\n                                  !urlHasFourthSegment &&\n                                  ((seoHasCity && !seoHasRegion) || (seoHasRegion && !seoHasCity))) ||\n                                (urlHasCountry &&\n                                  !urlHasThirdSegment &&\n                                  seoHasCountry &&\n                                  !seoHasRegion &&\n                                  !seoHasCity) ||\n                                (!urlHasCountry && !seoHasCountry)\n                              ) {\n                                return (\n                                  <div\n                                    className=\"text-xs text-muted-foreground/80 leading-relaxed prose prose-sm max-w-none\"\n                                    dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(locationSeo.about_content) }}\n                                  />\n                                );\n                              }\n                            }\n\n                            // Category template content\n                            if (!activeVenueType && venuesCategory?.seo_about_content) {\n                              const injected = injectLocation(venuesCategory.seo_about_content);\n                              if (injected) {\n                                return (\n                                  <div\n                                    className=\"text-xs text-muted-foreground/80 leading-relaxed prose prose-sm max-w-none\"\n                                    dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(injected) }}\n                                  />\n                                );\n                              }\n                            }\n\n                            // Fallback content\n                            return (\n                              <p className=\"text-xs text-muted-foreground/80 leading-relaxed\">\n                                {activeVenueType\n                                  ? getVenueTypeAboutContent(activeVenueType, getLocationString() || \"this region\")\n                                  : selectedCity\n                                    ? `${selectedCity} offers a diverse range of concert venues, from intimate clubs to large arenas. Whether you're planning a small acoustic show or a major tour stop, you'll find suitable venues for any capacity and genre.`\n                                    : selectedRegionData\n                                      ? `${selectedRegionData.region_name} is home to numerous live music venues across its cities and towns. From historic theatres to modern arenas, the region offers diverse options for touring artists.`\n                                      : selectedCountry\n                                        ? `${selectedCountry} has a vibrant live music scene with venues ranging from intimate clubs to world-famous arenas. Browse our directory to find the perfect venue for your next show.`\n                                        : `${selectedContinent} offers thousands of concert venues across its many countries. Use the filters above to narrow down by country, region, and city.`}\n                              </p>\n                            );\n                          })()}\n                        </section>\n                      ) : undefined\n                    }\n                  />\n                </>\n              )}\n            </div>\n\n            {/* Map - fills remaining height */}\n            <div\n              className={cn(\n                \"flex-1 rounded-lg overflow-hidden min-h-0 h-full\",\n                viewMode === \"list\" && \"hidden md:block\",\n              )}\n            >\n              <Suspense fallback={<MapLoadingFallback />}>\n                <VenueMap\n                  venues={venues}\n                  selectedVenue={selectedMapVenue}\n                  onSelectVenue={handleMapVenueSelect}\n                  highlightedVenueId={highlightedVenueId}\n                  onBoundsChange={handleBoundsChange}\n                  initialState={initialMapState}\n                />\n              </Suspense>\n            </div>\n          </div>\n        </div>)\n      )}\n    </Layout>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;AApCA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA,oBAAoB;AACpB,MAAM,yBAAW,IAAA,yLAAI,EAAC,IAAM,8HAAuC,IAAI,CAAC,CAAC,IAAM,CAAC;YAAE,SAAS,EAAE,QAAQ;QAAC,CAAC;KAAjG;AAEN,MAAM,qBAAqB,kBACzB,iNAAC;QAAI,WAAU;kBACb,cAAA,iNAAC;YAAI,WAAU;;;;;;;;;;;MAFb;AAMN,4DAA4D;AAC5D,uEAAuE;AACvE,SAAS,wBAAwB,QAAgB;IAS/C,MAAM,WAAW,SAAS,KAAK,CAAC,KAAK,MAAM,CAAC;IAC5C,yBAAyB;IACzB,0BAA0B;IAC1B,qDAAqD;IACrD,sCAAsC;IACtC,+BAA+B;IAC/B,0BAA0B;IAE1B,MAAM,gBAAgB,QAAQ,CAAC,EAAE,IAAI;IACrC,MAAM,iBAAiB,QAAQ,CAAC,EAAE,IAAI;IACtC,MAAM,YAAY,QAAQ,CAAC,EAAE,IAAI;IACjC,MAAM,aAAa,QAAQ,CAAC,EAAE,IAAI;IAClC,MAAM,YAAY,QAAQ,CAAC,EAAE,IAAI;IAEjC,qFAAqF;IACrF,MAAM,qBAAqB,kBAAkB,IAAA,kKAAe,EAAC;IAC7D,MAAM,cAAc,qBAAqB,OAAO;IAEhD,yCAAyC;IACzC,MAAM,gBAAgB,CAAC,OACrB,KACG,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,OAAS,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC,IACxD,IAAI,CAAC;IAEV,2FAA2F;IAC3F,IAAI,gBAA+B,qBAAqB,iBAAiB;IACzE,IAAI,mBAAmB;QAAC;QAAW;QAAY;KAAU,CAAC,MAAM,CAAC;IAEjE,8EAA8E;IAC9E,IAAI,CAAC,eAAe;QAClB,IAAK,IAAI,IAAI,iBAAiB,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK;YACrD,IAAI,IAAA,kKAAe,EAAC,gBAAgB,CAAC,EAAE,GAAG;gBACxC,gBAAgB,gBAAgB,CAAC,EAAE;gBACnC,mBAAmB,iBAAiB,KAAK,CAAC,GAAG;gBAC7C;YACF;QACF;IACF;IAEA,iDAAiD;IACjD,MAAM,iBAAiB,cAAc,cAAc,eAAe;IAClE,MAAM,mBAAmB,gBAAgB,IAAA,uKAAoB,EAAC,kBAAkB,cAAc,iBAAiB;IAE/G,IAAI;IAEJ,IAAI,iBAAiB,MAAM,IAAI,KAAK,gBAAgB;QAClD,wCAAwC;QACxC,MAAM,cAAc,cAAc,gBAAgB,CAAC,EAAE;QACrD,kBAAkB,AAAC,GAAkB,OAAhB,aAAY,MAAmB,OAAf;IACvC,OAAO,IAAI,iBAAiB,MAAM,KAAK,KAAK,gBAAgB;QAC1D,+CAA+C;QAC/C,MAAM,eAAe,cAAc,gBAAgB,CAAC,EAAE;QACtD,kBAAkB,AAAC,GAAmB,OAAjB,cAAa,MAAmB,OAAf;IACxC,OAAO,IAAI,gBAAgB;QACzB,eAAe;QACf,kBAAkB;IACpB,OAAO,IAAI,kBAAkB;QAC3B,iBAAiB;QACjB,kBAAkB;IACpB,OAAO;QACL,kBAAkB;IACpB;IAEA,OAAO;QACL;QACA;QACA,WAAW,gBAAgB,CAAC,EAAE,IAAI;QAClC,YAAY,gBAAgB,CAAC,EAAE,IAAI;QACnC,WAAW,gBAAgB,CAAC,EAAE,IAAI;QAClC;QACA;IACF;AACF;AAOe,SAAS;QAAY,EAAE,uBAAuB,IAAI,EAAE,gBAAgB,IAAI,EAAoB,GAAvE,iEAA0E,CAAC;QA+DxF;;IA9DrB,MAAM,SAAS,IAAA,sKAAS;IACxB,MAAM,WAAW,IAAA,wKAAW,KAAK,kBAAkB;IACnD,MAAM,eAAe,IAAA,4KAAe;IAEpC,sEAAsE;IACtE,wEAAwE;IACxE,MAAM,YAAY,wBAAwB;IAE1C,6EAA6E;IAC7E,MAAM,uBAAuB,UAAU,eAAe;IAEtD,kDAAkD;IAClD,MAAM,oBAAoB,IAAA,4LAAO;kDAAC;YAChC,MAAM,eAAe,SAAS,KAAK,CAAC,KAAK,MAAM,CAAC;YAChD,MAAM,cAAc,YAAY,CAAC,aAAa,MAAM,GAAG,EAAE;YAEzD,IAAI,eAAe,IAAA,kKAAe,EAAC,cAAc;gBAC/C,OAAO;oBACL,MAAM,IAAA,uKAAoB,EAAC;oBAC3B,MAAM;gBACR;YACF;YACA,OAAO;QACT;iDAAG;QAAC;KAAS;IAEb,4CAA4C;IAC5C,MAAM,kBAAkB,CAAA,8BAAA,wCAAA,kBAAmB,IAAI,KAAI,wBAAwB;IAC3E,MAAM,sBAAsB,CAAA,8BAAA,wCAAA,kBAAmB,IAAI,KAAI,iBAAiB;IAExE,qCAAqC;IACrC,mEAAmE;IACnE,MAAM,SAAS,IAAA,sKAAS;IAYxB,kEAAkE;IAClE,MAAM,iBAAiB,OAAO,SAAS,IAAI,OAAO,aAAa;IAC/D,MAAM,eAAe,OAAO,OAAO,IAAI,OAAO,WAAW;IACzD,+DAA+D;IAC/D,qEAAqE;IACrE,MAAM,kBAAkB,OAAO,YAAY,IAAI,OAAO,MAAM,IAAI,OAAO,MAAM;IAC7E,MAAM,eAAe,oBAAoB,sBAAsB,OAAO;IACtE,6CAA6C;IAC7C,qEAAqE;IACrE,MAAM,mBAAmB,OAAO,MAAM,IAAI,OAAO,IAAI;IACrD,MAAM,gBAAgB,qBAAqB,sBAAsB,OAAO;IAExE,6BAA6B;IAC7B,MAAM,oBAAoB,iBAAiB,IAAA,uKAAoB,EAAC,kBAAkB;IAElF,qFAAqF;IACrF,MAAM,aAAa,CAAC,CAAC;IAErB,oDAAoD;IACpD,MAAM,eAAe,EAAA,oBAAA,aAAa,GAAG,CAAC,qBAAjB,wCAAA,kBAA0B,KAAK,CAAC,KAAK,MAAM,CAAC,aAAY,EAAE;IAC/E,MAAM,qBAAqB,SAAS,aAAa,GAAG,CAAC,mBAAmB;IACxE,MAAM,qBAAqB,SAAS,aAAa,GAAG,CAAC,mBAAmB;IAExE,wDAAwD;IACxD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,6LAAQ,EAAW,kBAAkB;QAAC;KAAgB,GAAG;IACnG,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,6LAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,6LAAQ,EAAC;IAE/C,wFAAwF;IACxF,IAAA,8LAAS;iCAAC;YACR,IAAI,iBAAiB;gBACnB,iBAAiB;oBAAC;iBAAgB;YACpC;QACF;gCAAG;QAAC;KAAgB;IAEpB,aAAa;IACb,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6LAAQ,EAAiB;IACzD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,6LAAQ,EAAgB;IAC5E,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,6LAAQ,EAAsB;IAC9E,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,6LAAQ,EAAC;IAC7D,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,6LAAQ,EAAC;IAC7D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,6LAAQ,EAAC;IACzD,MAAM,CAAC,oBAAoB,sBAAsB,GAAG,IAAA,6LAAQ,EAAC;IAC7D,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,6LAAQ,EAAC;IAC3D,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,6LAAQ,EAAqB;IAE7E,yCAAyC;IACzC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,6LAAQ,EAAmB;IAE7D,2CAA2C;IAC3C,MAAM,eAAe,IAAA,2LAAM,EAAS;IAEpC,+CAA+C;IAC/C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,6LAAQ,EAG5C;IAEV,uEAAuE;IACvE,IAAA,8LAAS;iCAAC;YACR,IAAI,CAAC,YAAY;YAEjB,MAAM,QAAQ,eAAe,OAAO,CAAC;YACrC,IAAI,OAAO;gBACT,IAAI;oBACF,MAAM,SAAS,KAAK,KAAK,CAAC;oBAC1B,4EAA4E;oBAC5E,IAAI,OAAO,GAAG,KAAK,WAAW,aAAa,QAAQ,IAAI;wBACrD,mBAAmB;4BAAE,QAAQ,OAAO,MAAM;4BAAE,MAAM,OAAO,IAAI;wBAAC;wBAC9D,gEAAgE;wBAChE,IAAI,OAAO,QAAQ,EAAE;4BACnB,YAAY,OAAO,QAAQ;wBAC7B;wBACA,0CAA0C;wBAC1C,IAAI,OAAO,SAAS,KAAK,WAAW;4BAClC,oBAAoB,OAAO,SAAS;wBACtC;oBACF;oBACA,8BAA8B;oBAC9B,eAAe,UAAU,CAAC;gBAC5B,EAAE,OAAO,GAAG;oBACV,eAAe,UAAU,CAAC;gBAC5B;YACF;QACF;gCAAG;QAAC;QAAY;QAAU,aAAa,QAAQ;KAAG;IAElD,yDAAyD;IACzD,MAAM,eAAe,IAAA,gMAAW;iDAC9B,CAAC,QAAmB;YAClB,eAAe,OAAO,CACpB,uBACA,KAAK,SAAS,CAAC;gBACb;gBACA;gBACA;gBACA,WAAW,aAAa,OAAO;gBAC/B,KAAK,WAAW,aAAa,QAAQ;YACvC;QAEJ;gDACA;QAAC;QAAU,aAAa,QAAQ;QAAI;KAAS;IAG/C,oEAAoE;IACpE,MAAM,EAAE,MAAM,YAAY,EAAE,WAAW,gBAAgB,EAAE,OAAO,cAAc,EAAE,GAAG,IAAA,qKAAiB,EAAC,qBAAqB;IAE1H,qDAAqD;IACrD,MAAM,iBAAiB,IAAA,4LAAO;+CAAC;YAC7B,IAAI,CAAC,gBAAgB,CAAC,cAAc,OAAO;YAC3C,MAAM,eAAe,aAAa,GAAG;oEAAC,CAAC,IAAM,EAAE,OAAO;;YACtD,OAAO,IAAA,qLAAe,EAAC,cAAc;QACvC;8CAAG;QAAC;QAAc;KAAa;IAE/B,+CAA+C;IAC/C,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,IAAA,6LAAQ,EAAW,EAAE;IAEvE,8EAA8E;IAC9E,MAAM,sBAAsB,IAAA,2LAAM,EAAgB;IAElD,uDAAuD;IACvD,4DAA4D;IAC5D,IAAA,8LAAS;iCAAC;YACR,MAAM,aAAa,WAAW,aAAa,QAAQ;YAEnD,IAAI,oBAAoB,OAAO,KAAK,YAAY;gBAC9C,yCAAyC;gBACzC;YACF;YAEA,kFAAkF;YAClF,oBAAoB,OAAO,GAAG;YAE9B,IAAI,gBAAgB;gBAClB,+BAA+B;gBAC/B,qBAAqB;oBAAC;iBAAe;YACvC,OAAO;gBACL,0CAA0C;gBAC1C,MAAM,iBAAiB,aAAa,GAAG,CAAC;gBACxC,IAAI,gBAAgB;oBAClB,MAAM,cAAc,eAAe,KAAK,CAAC,KAAK,GAAG;6DAAC,CAAC,IAAM,mBAAmB,EAAE,IAAI;;oBAClF,qBAAqB;gBACvB,OAAO;oBACL,qBAAqB,EAAE;gBACzB;YACF;QACF;gCAAG;QAAC;QAAgB;QAAc;QAAU,aAAa,QAAQ;KAAG;IAEpE,qEAAqE;IACrE,MAAM,kBAAkB,kBAAkB,MAAM,KAAK,IAAI,iBAAiB,CAAC,EAAE,GAAG;IAEhF,gEAAgE;IAChE,MAAM,YAAY,gBAAgB,EAAE;IAEpC,mEAAmE;IACnE,MAAM,EAAE,MAAM,OAAO,EAAE,GAAG,IAAA,4KAAwB,EAAC,mBAAmB;IAEtE,0BAA0B;IAC1B,MAAM,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,GAAG,IAAA,4LAAO;+BAAC;YACvD,IAAI,CAAC,gBAAgB,CAAC,OAAO,MAAM,EAAE;gBACnC,OAAO;oBAAE,kBAAkB;oBAAM,oBAAoB;gBAAK;YAC5D;YAEA,MAAM,oBAAoB,OAAO,MAAM,IAAI;YAE3C,IAAI,qBAAqB,WAAW,mBAAmB,IAAA,uLAAiB,EAAC,kBAAkB;gBACzF,MAAM,SAAS,QAAQ,IAAI;kDAAC,CAAC,IAAM,EAAE,WAAW,KAAK;;gBACrD,IAAI,QAAQ;oBACV,OAAO;wBAAE,kBAAkB,OAAO,EAAE;wBAAE,oBAAoB;oBAAkB;gBAC9E;YACF;YAEA,OAAO;gBAAE,kBAAkB;gBAAM,oBAAoB;YAAK;QAC5D;8BAAG;QAAC;QAAc,OAAO,MAAM;QAAE;QAAS;KAAgB;IAE1D,uEAAuE;IACvE,MAAM,EAAE,MAAM,cAAc,EAAE,GAAG,IAAA,0KAAsB,EAAC,oBAAoB;IAC5E,MAAM,EAAE,MAAM,eAAe,EAAE,GAAG,IAAA,2KAAuB,EAAC,mBAAmB;IAC7E,MAAM,SAAS,mBAAmB,iBAAiB;IAEnD,0DAA0D;IAC1D,MAAM,eAAe,IAAA,4LAAO;6CAAC;YAC3B,oFAAoF;YACpF,IAAI,iBAAiB,QAAQ;gBAC3B,OAAO,IAAA,8KAAQ,EAAC,eAAe;YACjC;YAEA,wDAAwD;YACxD,+EAA+E;YAC/E,IAAI,gBAAgB,CAAC,oBAAoB,QAAQ;gBAC/C,OAAO,IAAA,8KAAQ,EAAC,cAAc;YAChC;YAEA,OAAO;QACT;4CAAG;QAAC;QAAe;QAAc;QAAkB;KAAO;IAE1D,8FAA8F;IAC9F,gFAAgF;IAChF,MAAM,iBAAiB,IAAA,4LAAO;+CAAC;YAC7B,oEAAoE;YACpE,IAAI,CAAC,mBAAmB,IAAA,uLAAiB,EAAC,kBAAkB,OAAO;YAEnE,kEAAkE;YAClE,2CAA2C;YAC3C,MAAM,WAAW;YACjB,IAAI,CAAC,YAAY,aAAa,qBAAqB,OAAO;YAE1D,6EAA6E;YAC7E,OAAO,SACJ,KAAK,CAAC,KACN,GAAG;uDAAC,CAAC,OAAS,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC;sDACxD,IAAI,CAAC;QACV;8CAAG;QAAC;QAAiB;QAAc;KAAoB;IAEvD,mFAAmF;IACnF,gEAAgE;IAChE,MAAM,cAAc,IAAA,4LAAO;4CAAC;YAC1B,mFAAmF;YACnF,IAAI,gBAAgB,OAAO;YAE3B,0EAA0E;YAC1E,OAAO;QACT;2CAAG;QAAC;QAAgB;KAAa;IAEjC,gDAAgD;IAChD,MAAM,EAAE,MAAM,cAAc,EAAE,GAAG,IAAA,yKAAiB,EAAC;IAEnD,sEAAsE;IACtE,MAAM,iBAAiB,IAAA,gMAAW;mDAChC,CAAC;YACC,IAAI,CAAC,MAAM,OAAO;YAClB,IAAI,SAAS;YACb,IAAI,iBAAiB;YAErB,IAAI,kBAAkB,mBAAmB,cAAc;gBACrD,SAAS,OAAO,OAAO,CAAC,qBAAqB,AAAC,MAAoB,OAAf;gBACnD,SAAS,OAAO,OAAO,CAAC,kBAAkB;YAC5C,OAAO;gBACL,SAAS,OAAO,OAAO,CAAC,qBAAqB;gBAC7C,SAAS,OAAO,OAAO,CAAC,kBAAkB;YAC5C;YACA,OAAO,OACJ,OAAO,CAAC,WAAW,KACnB,OAAO,CAAC,UAAU,KAClB,OAAO,CAAC,SAAS,KACjB,IAAI;QACT;kDACA;QAAC;KAAqB;IAGxB,sEAAsE;IACtE,uEAAuE;IACvE,MAAM,EAAE,MAAM,WAAW,EAAE,GAAG,IAAA,iLAAmB,EAC/C,mBACA,iBACA,oBACA;IAGF,yEAAyE;IACzE,MAAM,EAAE,MAAM,YAAY,EAAE,GAAG,IAAA,yKAAe,EAC5C,iBACA,mBACA,iBACA,oBACA;IAGF,gGAAgG;IAChG,MAAM,EAAE,MAAM,YAAY,EAAE,EAAE,SAAS,EAAE,GAAG,IAAA,6JAAS,EAAC;QACpD,YAAY,cAAc,MAAM,GAAG,IAAI,gBAAgB;QACvD,aAAa,cAAc,IAAI,cAAc;QAC7C,aAAa,cAAc,SAAS,cAAc;QAClD,SAAS,mBAAmB;QAC5B,UAAU,oBAAoB;QAC9B,MAAM,gBAAgB;QACtB,WAAW,CAAC,kBAAkB,qBAAqB,YAAY;IACjE;IAEA,2DAA2D;IAC3D,MAAM,SAAS,IAAA,4LAAO;uCAAC;YACrB,IAAI,CAAC,YAAY,OAAO,EAAE;YAE1B,qEAAqE;YACrE,IAAI,kBAAkB,MAAM,GAAG,GAAG;gBAChC,OAAO,UAAU,MAAM;mDAAC,CAAC,IAAM,EAAE,OAAO,IAAI,kBAAkB,QAAQ,CAAC,EAAE,OAAO;;YAClF;YAEA,6DAA6D;YAC7D,OAAO;QACT;sCAAG;QAAC;QAAW;QAAY;KAAkB;IAE7C,0DAA0D;IAC1D,MAAM,gBAAgB,IAAA,4LAAO;8CAAC;YAC5B,IAAI,CAAC,WAAW,OAAO;YAEvB,OAAO,OAAO,MAAM;sDAAC,CAAC;oBACpB,IAAI,CAAC,EAAE,QAAQ,IAAI,CAAC,EAAE,SAAS,EAAE,OAAO;oBACxC,OACE,EAAE,QAAQ,IAAI,UAAU,KAAK,IAC7B,EAAE,QAAQ,IAAI,UAAU,KAAK,IAC7B,EAAE,SAAS,IAAI,UAAU,IAAI,IAC7B,EAAE,SAAS,IAAI,UAAU,IAAI;gBAEjC;;QACF;6CAAG;QAAC;QAAQ;KAAU;IAEtB,sDAAsD;IACtD,MAAM,qBAAqB,IAAA,gMAAW;uDACpC,CAAC,QAAmB;YAClB,aAAa;YACb,8CAA8C;YAC9C,IAAI,SAAS,WAAW;gBACtB,aAAa,QAAQ;YACvB;QACF;sDACA;QAAC;KAAa;IAGhB,gFAAgF;IAChF,IAAA,8LAAS;iCAAC;YACR,IAAI,kBAAkB,MAAM,GAAG,GAAG;gBAChC,eAAe,OAAO,CAAC,gCAAgC,KAAK,SAAS,CAAC;YACxE,OAAO;gBACL,eAAe,UAAU,CAAC;YAC5B;QACF;gCAAG;QAAC;KAAkB;IAEtB,yFAAyF;IACzF,IAAA,8LAAS;iCAAC;YACR,IAAI;gBACF,MAAM,QAAQ,eAAe,OAAO,CAAC;gBACrC,IAAI,OAAO;oBACT,MAAM,SAAS,KAAK,KAAK,CAAC;oBAC1B,OAAO,QAAQ,GAAG;oBAClB,eAAe,OAAO,CAAC,uBAAuB,KAAK,SAAS,CAAC;gBAC/D,OAAO,IAAI,WAAW;oBACpB,6DAA6D;oBAC7D,eAAe,OAAO,CACpB,uBACA,KAAK,SAAS,CAAC;wBACb,QAAQ;wBACR,MAAM;wBACN;wBACA,KAAK,WAAW,aAAa,QAAQ;oBACvC;gBAEJ;YACF,EAAE,UAAM,CAAC;QACX;gCAAG;QAAC;QAAU;QAAW;QAAU,aAAa,QAAQ;KAAG;IAE3D,kEAAkE;IAClE,MAAM,6BAA6B,IAAA,gMAAW;+DAC5C,CAAC;YACC,aAAa,OAAO,GAAG;YACvB,IAAI;gBACF,MAAM,QAAQ,eAAe,OAAO,CAAC;gBACrC,IAAI,OAAO;oBACT,MAAM,SAAS,KAAK,KAAK,CAAC;oBAC1B,OAAO,SAAS,GAAG;oBACnB,eAAe,OAAO,CAAC,uBAAuB,KAAK,SAAS,CAAC;gBAC/D,OAAO;oBACL,mCAAmC;oBACnC,eAAe,OAAO,CACpB,uBACA,KAAK,SAAS,CAAC;wBACb,QAAQ;wBACR,MAAM;wBACN;wBACA;wBACA,KAAK,WAAW,aAAa,QAAQ;oBACvC;gBAEJ;YACF,EAAE,UAAM,CAAC;QACX;8DACA;QAAC;QAAW;QAAU;QAAU,aAAa,QAAQ;KAAG;IAG1D,yDAAyD;IACzD,MAAM,iBAAiB,IAAA,2LAAM,EAAC;IAE9B,+DAA+D;IAC/D,MAAM,kBAAkB,IAAA,gMAAW;oDAAC;YAClC,MAAM,SAAS,IAAI;YACnB,IAAI,cAAc,GAAG;gBACnB,OAAO,GAAG,CAAC,gBAAgB,YAAY,QAAQ;YACjD;YACA,IAAI,cAAc,QAAQ;gBACxB,OAAO,GAAG,CAAC,gBAAgB,YAAY,QAAQ;YACjD;YACA,mCAAmC;YACnC,IAAI,kBAAkB,MAAM,GAAG,GAAG;gBAChC,OAAO,GAAG,CAAC,aAAa,kBAAkB,IAAI,CAAC;YACjD;YACA,OAAO;QACT;mDAAG;QAAC;QAAa;QAAa;KAAkB;IAEhD,gDAAgD;IAChD,IAAA,8LAAS;iCAAC;YACR,IAAI,eAAe,OAAO,EAAE;gBAC1B,eAAe,OAAO,GAAG;gBACzB;YACF;YAEA,IAAI,CAAC,YAAY;YAEjB,8DAA8D;YAC9D,oFAAoF;YACpF,kGAAkG;YAClG,MAAM,0BAA0B,gBAAgB,IAAA,kKAAe,EAAC;YAChE,IAAI,gBAAgB,CAAC,mBAAmB,CAAC,yBAAyB;gBAChE;YACF;YAEA,6EAA6E;YAC7E,+CAA+C;YAC/C,MAAM,mBAAmB,oBAAoB;YAC7C,MAAM,oBAAoB,qBAAqB;YAC/C,MAAM,mBAAmB,uBAAuB,CAAC,oBAAoB,CAAC;YAEtE,wFAAwF;YACxF,IAAI,mBAAmB,CAAC,kBAAkB;gBACxC,gDAAgD;gBAChD,kEAAkE;gBAClE,IAAI,qBAAqB,CAAC,sBAAsB,mBAAmB,IAAA,uLAAiB,EAAC,kBAAkB;oBACrG;gBACF;gBACA,kFAAkF;gBAClF,IAAI,qBAAqB,CAAC,gBAAgB,mBAAmB,CAAC,IAAA,uLAAiB,EAAC,kBAAkB;oBAChG;gBACF;gBACA,yFAAyF;gBACzF,2CAA2C;gBAC3C,IAAI,oBAAoB,oBAAoB,CAAC,CAAC,sBAAsB,CAAC,YAAY,GAAG;oBAClF;gBACF;YACF;YAEA,4BAA4B;YAC5B,MAAM,UAAU,IAAA,mLAAa,EAAC;gBAC5B,WAAW;gBACX,SAAS;gBACT,YAAY;gBACZ,MAAM;YACR;YAEA,8BAA8B;YAC9B,MAAM,cAAc;YACpB,MAAM,2BAA2B,wBAAwB;YAEzD,2DAA2D;YAC3D,MAAM,eAAe;YACrB,MAAM,oBAAoB,aAAa,QAAQ;YAE/C,IAAI,cAAc,MAAM,KAAK,GAAG;gBAC9B,IAAI,0BAA0B;oBAC5B,MAAM,YAAY,oBAAoB,AAAC,GAAa,OAAX,SAAQ,KAAqB,OAAlB,qBAAsB;oBAC1E,OAAO,OAAO,CAAC;gBACjB,OAAO;oBACL,MAAM,SAAS,IAAI,gBAAgB;oBACnC,OAAO,MAAM,CAAC;oBACd,OAAO,OAAO,CAAC,AAAC,IAAqB,OAAlB,OAAO,QAAQ;gBACpC;YACF,OAAO,IAAI,cAAc,MAAM,KAAK,GAAG;gBACrC,MAAM,WAAW,IAAA,mKAAgB,EAAC,aAAa,CAAC,EAAE;gBAClD,MAAM,YAAY,AAAC,GAAa,OAAX,SAAQ,KAAY,OAAT;gBAChC,MAAM,UAAU,oBAAoB,AAAC,GAAe,OAAb,WAAU,KAAqB,OAAlB,qBAAsB;gBAE1E,IAAI,WAAW,aAAa,QAAQ,OAAO,SAAS;oBAClD,OAAO,OAAO,CAAC;gBACjB;YACF,OAAO;gBACL,qDAAqD;gBACrD,MAAM,SAAS;gBACf,OAAO,GAAG,CAAC,QAAQ,cAAc,IAAI,CAAC;gBAEtC,IAAI,0BAA0B;oBAC5B,OAAO,OAAO,CAAC,AAAC,GAAa,OAAX,SAAQ,KAAqB,OAAlB,OAAO,QAAQ;gBAC9C,OAAO;oBACL,OAAO,OAAO,CAAC,AAAC,IAAqB,OAAlB,OAAO,QAAQ;gBACpC;YACF;QACF;gCAAG;QACD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,aAAa,QAAQ;QACrB;QACA;QACA;QACA;QACA;QACA;KACD;IAED,oFAAoF;IACpF,IAAA,8LAAS;iCAAC;YACR,IAAI,CAAC,YAAY;YAEjB,MAAM,SAAS,IAAI,gBAAgB;YAEnC,+EAA+E;YAC/E,IAAI,cAAc,GAAG;gBACnB,OAAO,GAAG,CAAC,gBAAgB,YAAY,QAAQ;YACjD,OAAO;gBACL,OAAO,MAAM,CAAC;YAChB;YACA,IAAI,cAAc,QAAQ;gBACxB,OAAO,GAAG,CAAC,gBAAgB,YAAY,QAAQ;YACjD,OAAO;gBACL,OAAO,MAAM,CAAC;YAChB;YAEA,OAAO,OAAO,CAAC,AAAC,IAAqB,OAAlB,OAAO,QAAQ;QACpC;gCAAG;QAAC;QAAY;QAAa;QAAa;KAAa;IAEvD,6BAA6B;IAC7B,MAAM,wBAAwB,CAAC;QAC7B,OAAO,IAAI,CAAC,AAAC,WAAsC,OAA5B,IAAA,mKAAgB,EAAC;QACxC,OAAO,QAAQ,CAAC,GAAG;IACrB;IAEA,kEAAkE;IAClE,MAAM,kBAAkB;QACtB,4DAA4D;QAC5D,OAAO,IAAI,CAAC;QACZ,OAAO,QAAQ,CAAC,GAAG;IACrB;IAEA,qCAAqC;IACrC,MAAM,wBAAwB;QAC5B,OAAO,IAAI,CAAC;QACZ;QACA,wBAAwB;QACxB,eAAe,UAAU,CAAC;QAC1B,eAAe,UAAU,CAAC;QAC1B,mBAAmB;IACrB;IAEA,6BAA6B;IAC7B,MAAM,0BAA0B;QAC9B,iBAAiB,EAAE;QACnB,eAAe;QACf,eAAe;IACjB;IAEA,mDAAmD;IACnD,MAAM,eAAe;QACnB,iBAAiB,EAAE;QACnB,eAAe;QACf,eAAe;QACf,qDAAqD;QACrD,eAAe,UAAU,CAAC;QAC1B,mBAAmB;QACnB,IAAI,mBAAmB;YACrB,OAAO,IAAI,CAAC,AAAC,WAA8C,OAApC,IAAA,mKAAgB,EAAC;QAC1C;IACF;IAEA,iFAAiF;IACjF,MAAM,mBAAmB;QACvB,iBAAiB,EAAE;QACnB,eAAe;QACf,eAAe;QACf,qBAAqB,EAAE;QACvB,eAAe,UAAU,CAAC;QAC1B,eAAe,UAAU,CAAC;QAC1B,mBAAmB;QACnB,IAAI,mBAAmB;YACrB,OAAO,IAAI,CAAC,AAAC,WAA8C,OAApC,IAAA,mKAAgB,EAAC;QAC1C;IACF;IAEA,gEAAgE;IAChE,MAAM,sBAAsB,CAAC,UAAkB;QAC7C,MAAM,SAAS,IAAI;QAEnB,4BAA4B;QAC5B,IAAI,cAAc,GAAG;YACnB,OAAO,GAAG,CAAC,gBAAgB,YAAY,QAAQ;QACjD;QACA,IAAI,cAAc,QAAQ;YACxB,OAAO,GAAG,CAAC,gBAAgB,YAAY,QAAQ;QACjD;QAEA,0EAA0E;QAC1E,IAAI,cAAc,MAAM,GAAG,GAAG;YAC5B,OAAO,GAAG,CAAC,QAAQ,cAAc,IAAI,CAAC;QACxC;QAEA,uBAAuB;QACvB,IAAI,aAAa;YACf,OAAO,OAAO,CAAC,aAAa,OAAO,CAAC;oBAAC,CAAC,KAAK,MAAM;gBAC/C,OAAO,GAAG,CAAC,KAAK;YAClB;QACF;QAEA,wCAAwC;QACxC,IAAI,YAAY;QAChB,IAAI,cAAc,MAAM,KAAK,GAAG;YAC9B,YAAY,AAAC,GAAc,OAAZ,UAAS,KAAsC,OAAnC,IAAA,mKAAgB,EAAC,aAAa,CAAC,EAAE;QAC9D;QAEA,MAAM,cAAc,OAAO,QAAQ;QACnC,OAAO,cAAc,AAAC,GAAe,OAAb,WAAU,KAAe,OAAZ,eAAgB;IACvD;IAEA,+CAA+C;IAC/C,4BAA4B;IAC5B,MAAM,sBAAsB,CAAC;QAC3B,QAAQ,GAAG,CAAC,mDAAmD;QAC/D,QAAQ,GAAG,CAAC,sCAAsC;QAClD,QAAQ,GAAG,CAAC,yBAAyB;QAErC,qBAAqB;QACrB,QAAQ,GAAG,CAAC;QAEZ,uDAAuD;QACvD,eAAe,UAAU,CAAC;QAC1B,mBAAmB;QAEnB,yDAAyD;QACzD,qBAAqB;QAErB,IAAI;QAEJ,IAAI,aAAa,MAAM,KAAK,GAAG;YAC7B,sDAAsD;YACtD,MAAM,WAAW,IAAA,mLAAa,EAAC;gBAC7B,WAAW;gBACX,SAAS,YAAY,CAAC,EAAE;YAC1B;YACA,YAAY,oBAAoB;QAClC,OAAO,IAAI,aAAa,MAAM,KAAK,GAAG;YACpC,+DAA+D;YAC/D,MAAM,WAAW,IAAA,mLAAa,EAAC;gBAAE,WAAW;YAAkB;YAC9D,YAAY,oBAAoB;QAClC,OAAO;YACL,yDAAyD;YACzD,MAAM,WAAW,IAAA,mLAAa,EAAC;gBAAE,WAAW;YAAkB;YAC9D,YAAY,oBAAoB,UAAU;gBAAE,WAAW,aAAa,IAAI,CAAC;YAAK;QAChF;QAEA,QAAQ,GAAG,CAAC,4BAA4B;QAExC,gEAAgE;QAChE,oBAAoB,OAAO,GAAG;QAC9B,OAAO,IAAI,CAAC;QAEZ,QAAQ,GAAG,CAAC;IACd;IAEA,6CAA6C;IAC7C,MAAM,qBAAqB,CAAC;QAC1B,uDAAuD;QACvD,eAAe,UAAU,CAAC;QAC1B,mBAAmB;QAEnB,IAAI,UAAU,OAAO;YACnB,MAAM,WAAW,IAAA,mLAAa,EAAC;gBAC7B,WAAW;gBACX,SAAS;YACX;YACA,OAAO,IAAI,CAAC,oBAAoB;QAClC,OAAO;YACL,MAAM,WAAW,IAAA,mLAAa,EAAC;gBAC7B,WAAW;gBACX,SAAS;gBACT,YAAY;YACd;YACA,OAAO,IAAI,CAAC,oBAAoB;QAClC;IACF;IAEA,2CAA2C;IAC3C,MAAM,mBAAmB,CAAC;QACxB,uDAAuD;QACvD,eAAe,UAAU,CAAC;QAC1B,mBAAmB;QAEnB,IAAI,UAAU,OAAO;YACnB,MAAM,WAAW,IAAA,mLAAa,EAAC;gBAC7B,WAAW;gBACX,SAAS;gBACT,YAAY;YACd;YACA,OAAO,IAAI,CAAC,oBAAoB;QAClC,OAAO;YACL,MAAM,WAAW,IAAA,mLAAa,EAAC;gBAC7B,WAAW;gBACX,SAAS;gBACT,YAAY;gBACZ,MAAM;YACR;YACA,OAAO,IAAI,CAAC,oBAAoB;QAClC;IACF;IAEA,kCAAkC;IAClC,MAAM,mBACJ,cAAc,MAAM,GAAG,KAAK,cAAc,KAAK,cAAc,UAAU,kBAAkB,MAAM,GAAG,KAAK;IAEzG,8DAA8D;IAC9D,MAAM,4BAA4B,kBAAkB,MAAM,GAAG,CAAC,mBAAmB,IAAI,CAAC,IAAI,CAAC,eAAe,IAAI,CAAC;IAE/G,sFAAsF;IACtF,MAAM,sBAAsB,cAAc,MAAM,GAAG,KAAK,cAAc,KAAK,cAAc;IACzF,MAAM,uBAAuB,CAAC,cAAc,MAAM,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,cAAc,KAAK,cAAc,SAAS,IAAI,CAAC;IAElH,2BAA2B;IAC3B,MAAM,qBAAqB,mBAAmB,oBAAA,8BAAA,QAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,oBAAoB;IAEhG,6CAA6C;IAC7C,MAAM,sBAAsB,IAAA,gMAAW;wDAAC;YACtC,IAAI,SAAS,aAAa,YAAY,aAAa;gBACjD,SAAS,aAAa,CAAC,IAAI;YAC7B;YACA,sBAAsB;YACtB,sBAAsB;YACtB,oBAAoB;QACtB;uDAAG,EAAE;IAEL,8DAA8D;IAC9D,IAAA,8LAAS;iCAAC;YACR,IAAI,CAAC,sBAAsB,CAAC,kBAAkB;YAE9C,MAAM;4DAAqB,CAAC;oBAC1B,MAAM,SAAS,MAAM,MAAM;oBAC3B,MAAM,mBACJ,OAAO,OAAO,CAAC,0CAA0C,OAAO,OAAO,CAAC;oBAC1E,IAAI,kBAAkB;oBAEtB,MAAM,gBAAgB,SAAS,aAAa,CAAC;oBAC7C,IAAI,0BAAA,oCAAA,cAAe,QAAQ,CAAC,SAAS;oBAErC,sBAAsB;oBACtB,oBAAoB;gBACtB;;YAEA,MAAM;6DAAsB,CAAC;oBAC3B,MAAM,SAAS,MAAM,MAAM;oBAC3B,IAAI,CAAC,OAAO,OAAO,EAAE;oBAErB,MAAM,mBACJ,OAAO,OAAO,CAAC,0CACf,OAAO,OAAO,CAAC,uBACf,OAAO,OAAO,CAAC;oBACjB,IAAI,kBAAkB;oBAEtB,sBAAsB;oBACtB,oBAAoB;gBACtB;;YAEA,SAAS,gBAAgB,CAAC,aAAa;YACvC,SAAS,gBAAgB,CAAC,UAAU,qBAAqB;YACzD,SAAS,gBAAgB,CAAC,SAAS,qBAAqB;gBAAE,SAAS;gBAAM,SAAS;YAAK;YACvF,OAAO,gBAAgB,CAAC,UAAU,qBAAqB;YAEvD;yCAAO;oBACL,SAAS,mBAAmB,CAAC,aAAa;oBAC1C,SAAS,mBAAmB,CAAC,UAAU,qBAAqB;oBAC5D,SAAS,mBAAmB,CAAC,SAAS;oBACtC,OAAO,mBAAmB,CAAC,UAAU,qBAAqB;gBAC5D;;QACF;gCAAG;QAAC;QAAoB;KAAiB;IAEzC,4CAA4C;IAC5C,MAAM,gBAAgB,IAAA,gMAAW;kDAAC,CAAC;YACjC,MAAM,UAAU,SAAS,aAAa,CAAC,AAAC,mBAA0B,OAAR,SAAQ;YAClE,IAAI,SAAS;gBACX,QAAQ,cAAc,CAAC;oBAAE,UAAU;oBAAU,OAAO;gBAAS;gBAC7D,sBAAsB;gBACtB;8DAAW,IAAM,sBAAsB;6DAAO;YAChD;QACF;iDAAG,EAAE;IAEL,6BAA6B;IAC7B,MAAM,uBAAuB,CAAC;QAC5B,oBAAoB;QACpB,IAAI,OAAO;YACT,cAAc,MAAM,EAAE;QACxB;IACF;IAEA,iDAAiD;IACjD,MAAM,mBAAmB,IAAA,gMAAW;qDAAC,CAAC;YACpC,sBAAsB;QACxB;oDAAG,EAAE;IAEL,iFAAiF;IACjF,MAAM,oBAAoB,IAAA,gMAAW;sDAAC;YACpC,IAAI,aAAa,OAAO;YACxB,IAAI,oBAAoB,OAAO,mBAAmB,WAAW;YAC7D,IAAI,iBAAiB,OAAO;YAC5B,IAAI,mBAAmB,OAAO;YAC9B,OAAO;QACT;qDAAG;QAAC;QAAa;QAAoB;QAAiB;KAAkB;IAExE,mBAAmB;IACnB,4EAA4E;IAC5E,MAAM,YAAY,IAAA,4LAAO;0CAAC;YACxB,iEAAiE;YACjE,IAAI,oBAAmB,yBAAA,mCAAA,aAAc,SAAS,GAAE,OAAO,aAAa,SAAS;YAC7E,2DAA2D;YAC3D,IAAI,CAAC,oBAAmB,wBAAA,kCAAA,YAAa,SAAS,GAAE,OAAO,YAAY,SAAS;YAE5E,qCAAqC;YACrC,IAAI,CAAC,oBAAmB,2BAAA,qCAAA,eAAgB,SAAS,GAAE;gBACjD,MAAM,WAAW,eAAe,eAAe,SAAS;gBACxD,IAAI,UAAU,OAAO;YACvB;YAEA,MAAM,WAAW;YAEjB,4EAA4E;YAC5E,IAAI,mBAAmB,UAAU;gBAC/B,OAAO,AAAC,GAAyB,OAAvB,iBAAgB,SAAgB,OAAT,UAAS;YAC5C;YAEA,8CAA8C;YAC9C,IAAI,aAAa,OAAO,AAAC,aAA4B,OAAhB,aAAY,MAAoB,OAAhB,iBAAgB;YACrE,IAAI,oBAAoB,OAAO,AAAC,aAA+C,OAAnC,mBAAmB,WAAW,EAAC,MAAoB,OAAhB,iBAAgB;YAC/F,IAAI,iBAAiB,OAAO,AAAC,aAA4B,OAAhB,iBAAgB;YACzD,IAAI,mBAAmB,OAAO,AAAC,aAA8B,OAAlB,mBAAkB;YAC7D,OAAO;QACT;yCAAG;QACD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,MAAM,kBAAkB,IAAA,4LAAO;gDAAC;YAC9B,iEAAiE;YACjE,IAAI,oBAAmB,yBAAA,mCAAA,aAAc,gBAAgB,GAAE,OAAO,aAAa,gBAAgB;YAC3F,2DAA2D;YAC3D,IAAI,CAAC,oBAAmB,wBAAA,kCAAA,YAAa,gBAAgB,GAAE,OAAO,YAAY,gBAAgB;YAE1F,qCAAqC;YACrC,IAAI,CAAC,oBAAmB,2BAAA,qCAAA,eAAgB,oBAAoB,GAAE;gBAC5D,MAAM,WAAW,eAAe,eAAe,oBAAoB;gBACnE,IAAI,UAAU,OAAO;YACvB;YAEA,MAAM,WAAW;YAEjB,oDAAoD;YACpD,IAAI,mBAAmB,UAAU;gBAC/B,MAAM,YAAY,gBAAgB,WAAW;gBAC7C,OAAO,AAAC,YAA4B,OAAjB,WAAU,SAA2B,OAApB,UAAS,aAA4B,OAAjB,OAAO,MAAM,EAAC,KAAe,OAAZ,WAA2C,OAA/B,OAAO,MAAM,KAAK,IAAI,MAAM,IAAG;YACtH;YAEA,gCAAgC;YAChC,IAAI,aACF,OAAO,AAAC,0BAAyC,OAAhB,aAAY,MAAoB,OAAhB,iBAAgB;YACnE,IAAI,oBACF,OAAO,AAAC,0BAA4D,OAAnC,mBAAmB,WAAW,EAAC,MAAoB,OAAhB,iBAAgB;YACtF,IAAI,iBACF,OAAO,AAAC,0BAAyC,OAAhB,iBAAgB;YACnD,IAAI,mBACF,OAAO,AAAC,0BAA2C,OAAlB,mBAAkB;YACrD,OAAO;QACT;+CAAG;QACD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,OAAO,MAAM;QACb;QACA;KACD;IAED,MAAM,eAAe,IAAA,4LAAO;6CAAC;YAC3B,iEAAiE;YACjE,IAAI,oBAAmB,yBAAA,mCAAA,aAAc,aAAa,GAAE,OAAO,aAAa,aAAa;YACrF,wBAAwB;YACxB,IAAI,wBAAA,kCAAA,YAAa,aAAa,EAAE,OAAO,YAAY,aAAa;YAEhE,MAAM,WAAW;gBAAC;gBAAkB;gBAAgB;aAAa;YAEjE,IAAI,iBAAiB;gBACnB,SAAS,IAAI,CAAC,gBAAgB,WAAW,IAAI,AAAC,GAAgC,OAA9B,gBAAgB,WAAW,IAAG;YAChF;YAEA,IAAI,aAAa;gBACf,SAAS,IAAI,CAAC,AAAC,aAAwB,OAAZ,cAAe,AAAC,GAAc,OAAZ,aAAY,mBAAiB,AAAC,GAAc,OAAZ,aAAY;YAC3F;YAEA,IAAI,oBAAoB;gBACtB,SAAS,IAAI,CAAC,AAAC,GAAiC,OAA/B,mBAAmB,WAAW,EAAC,YAAU,AAAC,GAAiC,OAA/B,mBAAmB,WAAW,EAAC;YAC9F;YAEA,IAAI,iBAAiB;gBACnB,SAAS,IAAI,CAAC,AAAC,GAAkB,OAAhB,iBAAgB,YAAU,AAAC,GAAkB,OAAhB,iBAAgB,YAAU,AAAC,GAAkB,OAAhB,iBAAgB;YAC7F;YAEA,IAAI,mBAAmB;gBACrB,SAAS,IAAI,CAAC,AAAC,GAAoB,OAAlB,mBAAkB;YACrC;YAEA,SAAS,IAAI,CAAC,UAAU,YAAY,SAAS;YAE7C,OAAO,SAAS,IAAI,CAAC;QACvB;4CAAG;QAAC;QAAa;QAAoB;QAAiB;QAAmB;QAAa;QAAiB;KAAa;IAEpH,MAAM,eAAe,IAAA,4LAAO;6CAAC;YAC3B,IAAI,OAAO,IAAA,mLAAa,EAAC;gBACvB,WAAW;gBACX,SAAS;gBACT,YAAY;gBACZ,MAAM;YACR;YAEA,8DAA8D;YAC9D,IAAI,uBAAuB,cAAc,MAAM,KAAK,GAAG;gBACrD,OAAO,AAAC,GAAU,OAAR,MAAK,KAAuB,OAApB;YACpB;YAEA,OAAO,AAAC,iCAAqC,OAAL;QAC1C;4CAAG;QAAC;QAAmB;QAAiB;QAAoB;QAAc;QAAqB;KAAc;IAE7G,4DAA4D;IAC5D,MAAM,gBAAgB,aAAa,QAAQ,GAAG,MAAM,GAAG;IAEvD,8DAA8D;IAC9D,MAAM,sBAAsB,IAAA,4LAAO;oDAAC;YAClC,OAAO,IAAA,gKAAY,EAAC,iBAAiB;QACvC;mDAAG;QAAC;QAAiB;KAAmB;IAExC,MAAM,mBAAmB,IAAA,4LAAO;iDAAC;YAC/B,MAAM,WAAW;YAEjB,MAAM,QAA2C;gBAC/C;oBAAE,MAAM;oBAAQ,MAAM;gBAAS;gBAC/B;oBAAE,MAAM;oBAAU,MAAM,AAAC,GAAW,OAAT,UAAS;gBAAS;aAC9C;YAED,IAAI,mBAAmB;gBACrB,MAAM,IAAI,CAAC;oBACT,MAAM;oBACN,MAAM,AAAC,GAAqB,OAAnB,UAAS,YAA8C,OAApC,IAAA,mKAAgB,EAAC;gBAC/C;YACF;YAEA,IAAI,mBAAmB,cAAc;gBACnC,MAAM,IAAI,CAAC;oBACT,MAAM;oBACN,MAAM,AAAC,GAAqB,OAAnB,UAAS,YAAiD,OAAvC,IAAA,mKAAgB,EAAC,oBAAmB,KAAgB,OAAb;gBACrE;YACF;YAEA,sFAAsF;YACtF,2CAA2C;YAC3C,IAAI,sBAAsB,oBAAoB;gBAC5C,IAAI,qBAAqB;oBACvB,gEAAgE;oBAChE,MAAM,IAAI,CAAC;wBAAE,MAAM,mBAAmB,WAAW;oBAAC;gBACpD,OAAO;oBACL,sCAAsC;oBACtC,MAAM,IAAI,CAAC;wBACT,MAAM,mBAAmB,WAAW;wBACpC,MAAM,AAAC,GAAqB,OAAnB,UAAS,YAAiD,OAAvC,IAAA,mKAAgB,EAAC,oBAAmB,KAAmB,OAAhB,cAAa,KAAsB,OAAnB;oBACrF;oBAEA,uDAAuD;oBACvD,IAAI,aAAa;wBACf,MAAM,IAAI,CAAC;4BAAE,MAAM;wBAAY;oBACjC;gBACF;YACF,OAAO,IAAI,aAAa;gBACtB,uBAAuB;gBACvB,MAAM,IAAI,CAAC;oBAAE,MAAM;gBAAY;YACjC;YAEA,OAAO;gBACL,YAAY;gBACZ,SAAS;gBACT,iBAAiB,MAAM,GAAG;6DAAC,CAAC,OAAO,QAAU,CAAC;4BAC5C,SAAS;4BACT,UAAU,QAAQ;4BAClB,MAAM,MAAM,IAAI;4BAChB,GAAI,MAAM,IAAI,IAAI;gCAAE,MAAM,MAAM,IAAI;4BAAC,CAAC;wBACxC,CAAC;;YACH;QACF;gDAAG;QACD;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IAED,MAAM,iBAAiB,IAAA,4LAAO;+CAAC;YAC7B,IAAI,CAAC,cAAc,CAAC,UAAU,OAAO,MAAM,KAAK,GAAG,OAAO;YAE1D,MAAM,WAAW;YAEjB,OAAO;gBACL,YAAY;gBACZ,SAAS;gBACT,MAAM;gBACN,aAAa;gBACb,KAAK;gBACL,eAAe,OAAO,MAAM;gBAC5B,iBAAiB,OAAO,KAAK,CAAC,GAAG,IAAI,GAAG;2DAAC,CAAC,OAAO,QAAU,CAAC;4BAC1D,SAAS;4BACT,UAAU,QAAQ;4BAClB,MAAM;gCACJ,SAAS;gCACT,MAAM,MAAM,IAAI;gCAChB,KAAK,AAAC,GAAa,OAAX,UAKL,OALgB,IAAA,iKAAW,EAAC;oCAC7B,MAAM,MAAM,IAAI;oCAChB,SAAS,MAAM,OAAO;oCACtB,aAAa,MAAM,WAAW;oCAC9B,WAAW,MAAM,SAAS;gCAC5B;gCACA,GAAI,MAAM,UAAU,IAAI;oCAAE,gBAAgB,MAAM,UAAU;gCAAC,CAAC;gCAC5D,GAAI,MAAM,cAAc,IAAI;oCAAE,yBAAyB,MAAM,cAAc;gCAAC,CAAC;gCAC7E,GAAI,CAAC,MAAM,SAAS,IAAI,MAAM,OAAO,KAAK;oCACxC,SAAS;wCACP,SAAS;wCACT,GAAI,MAAM,SAAS,IAAI;4CAAE,iBAAiB,MAAM,SAAS;wCAAC,CAAC;wCAC3D,GAAI,MAAM,OAAO,IAAI;4CAAE,gBAAgB,MAAM,OAAO;wCAAC,CAAC;oCACxD;gCACF,CAAC;4BACH;wBACF,CAAC;;YACH;QACF;8CAAG;QAAC;QAAY;QAAQ;QAAW;QAAiB;QAAc;KAAkB;IAEpF,4CAA4C;IAC5C,MAAM,eAAe,IAAA,4LAAO;6CAAC;YAC3B,IAAI,CAAC,YAAY,OAAO;YAExB,wDAAwD;YACxD,MAAM,qBAAqB,CAAC,CAAC,UAAU,SAAS;YAChD,MAAM,sBAAsB,CAAC,CAAC,UAAU,UAAU;YAClD,MAAM,gBAAgB,CAAC,CAAC,UAAU,WAAW;YAE7C,kBAAkB;YAClB,IAAI,iBAAiB;gBACnB,wDAAwD;gBACxD,IAAI,yBAAA,mCAAA,aAAc,WAAW,EAAE;oBAC7B,MAAM,aAAa,CAAC,CAAC,aAAa,IAAI;oBACtC,MAAM,eAAe,CAAC,CAAC,aAAa,WAAW;oBAC/C,MAAM,gBAAgB,CAAC,CAAC,aAAa,OAAO;oBAE5C,iDAAiD;oBACjD,IAAI,uBAAuB,YAAY,OAAO,aAAa,WAAW;oBACtE,iDAAiD;oBACjD,IAAI,sBAAsB,CAAC,qBAAqB;wBAC9C,IAAI,cAAc,CAAC,cAAc,OAAO,aAAa,WAAW,EAAE,wBAAwB;wBAC1F,IAAI,gBAAgB,CAAC,YAAY,OAAO,aAAa,WAAW,EAAE,cAAc;oBAClF;oBACA,kDAAkD;oBAClD,IAAI,iBAAiB,CAAC,sBAAsB,iBAAiB,CAAC,gBAAgB,CAAC,YAAY;wBACzF,OAAO,aAAa,WAAW;oBACjC;oBACA,qDAAqD;oBACrD,IAAI,CAAC,iBAAiB,CAAC,eAAe,OAAO,aAAa,WAAW;gBACvE;gBACA,OAAO,AAAC,GAAyB,OAAvB,iBAAgB,SAA4B,OAArB;YACnC;YAEA,gCAAgC;YAChC,IAAI,wBAAA,kCAAA,YAAa,WAAW,EAAE;gBAC5B,MAAM,aAAa,CAAC,CAAC,YAAY,IAAI;gBACrC,MAAM,eAAe,CAAC,CAAC,YAAY,WAAW;gBAC9C,MAAM,gBAAgB,CAAC,CAAC,YAAY,OAAO;gBAE3C,iDAAiD;gBACjD,IAAI,uBAAuB,YAAY,OAAO,YAAY,WAAW;gBACrE,iDAAiD;gBACjD,IAAI,sBAAsB,CAAC,qBAAqB;oBAC9C,IAAI,cAAc,CAAC,cAAc,OAAO,YAAY,WAAW,EAAE,wBAAwB;oBACzF,IAAI,gBAAgB,CAAC,YAAY,OAAO,YAAY,WAAW,EAAE,cAAc;gBACjF;gBACA,kDAAkD;gBAClD,IAAI,iBAAiB,CAAC,sBAAsB,iBAAiB,CAAC,gBAAgB,CAAC,YAAY;oBACzF,OAAO,YAAY,WAAW;gBAChC;gBACA,qDAAqD;gBACrD,IAAI,CAAC,iBAAiB,CAAC,eAAe,OAAO,YAAY,WAAW;YACtE;YAEA,+DAA+D;YAC/D,MAAM,eAAe,CAAA,2BAAA,qCAAA,eAAgB,IAAI,KAAI;YAC7C,OAAO,AAAC,GAAqB,OAAnB,cAAa,QAA2B,OAArB;QAC/B;4CAAG;QAAC;QAAY;QAAW;QAAiB;QAAc;QAAa;QAAgB;KAAqB;IAE5G,+CAA+C;IAC/C,MAAM,kBAAkB,2BACtB;;0BACE,iNAAC,8LAAI;gBAAC,MAAK;gBAAI,WAAU;0BAA2F;;;;;;0BAGpH,iNAAC,6PAAY;gBAAC,WAAU;;;;;;0BACxB,iNAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,YAAY;gBAAU;0BAE9B;;;;;;;uBAGH;IAEJ,0CAA0C;IAC1C,MAAM,mBAAmB,CAAC,aAAa;QAAC;YAAE,OAAO;YAAQ,IAAI;QAAI;QAAG;YAAE,OAAO;QAAS;KAAE,GAAG;IAE3F,qBACE,iNAAC,6JAAM;QAAC,YAAY,CAAC,CAAC;QAAY,aAAa;QAAkB,kBAAkB;;0BAEjF,iNAAC;gBACC,MAAK;gBACL,yBAAyB;oBAAE,QAAQ,KAAK,SAAS,CAAC;gBAAkB;;;;;;YAErE,gCACC,iNAAC;gBACC,MAAK;gBACL,yBAAyB;oBAAE,QAAQ,KAAK,SAAS,CAAC;gBAAgB;;;;;;YAKrE,CAAC,2BACA,iNAAC;gBAAI,WAAU;;kCAEb,iNAAC;wBAAI,WAAU;;0CACb,iNAAC;;kDACC,iNAAC;wCAAG,WAAU;kDAAiC;;;;;;kDAC/C,iNAAC;wCAAE,WAAU;kDAAqC;;;;;;;;;;;;0CAGpD,iNAAC;gCAAI,WAAU;0CACb,cAAA,iNAAC,yMAAuB;;;;;;;;;;;;;;;;kCAK5B,iNAAC;wBAAI,WAAU;kCACb,cAAA,iNAAC,yMAAuB;;;;;;;;;;kCAG1B,iNAAC,6LAAiB;wBAAC,mBAAmB;wBAAuB,aAAa;;;;;;;;;;;qCAI3E,iNAAC;gBAAI,WAAU;;kCAEd,iNAAC;wBAAI,WAAU;;0CAEb,iNAAC;gCAAI,WAAU;0CACb,cAAA,iNAAC,yMAAuB;oCAAC,aAAY;;;;;;;;;;;0CAIvC,iNAAC;gCAAI,WAAU;;oCAEZ,mCACC,iNAAC;wCACC,SAAS;wCACT,WAAU;wCACV,OAAO;4CACL,iBAAiB,AAAC,GAAsC,OAApC,mKAAgB,CAAC,kBAAkB,EAAC;4CACxD,OAAO,mKAAgB,CAAC,kBAAkB;4CAC1C,QAAQ,AAAC,aAAgD,OAApC,mKAAgB,CAAC,kBAAkB,EAAC;wCAC3D;;0DAEA,iNAAC,oOAAK;gDAAC,WAAU;;;;;;4CAChB;0DACD,iNAAC,wNAAC;gDAAC,WAAU;;;;;;;;;;;;kDAIjB,iNAAC;wCAAI,WAAU;;;;;;kDAGf,iNAAC,qLAAa;wCAEZ,WAAW,aAAa,EAAE;wCAC1B,mBAAmB;wCACnB,UAAU;wCACV,MAAM;wCACN,cAAc;uCALV;;;;;oCASL,mBAAmB,WAAW,QAAQ,MAAM,GAAG,mBAC9C;kDACG,oBAAoB,mCACnB,iNAAC,iKAAK;4CACJ,SAAQ;4CACR,WAAU;;gDAET,mBAAmB,WAAW;8DAC/B,iNAAC;oDACC,SAAS,IAAM,mBAAmB;oDAClC,WAAU;oDACV,cAAY,AAAC,UAAwC,OAA/B,mBAAmB,WAAW,EAAC;8DAErD,cAAA,iNAAC,wNAAC;wDAAC,WAAU;;;;;;;;;;;;;;;;iEAIjB,iNAAC,mKAAM;4CAAC,OAAM;4CAAM,eAAe;;8DACjC,iNAAC,0KAAa;oDAAC,WAAU;8DACvB,cAAA,iNAAC,wKAAW;wDAAC,aAAY;;;;;;;;;;;8DAE3B,iNAAC,0KAAa;;sEACZ,iNAAC,uKAAU;4DAAC,OAAM;sEAAM;;;;;;wDACvB,QAAQ,GAAG,CAAC,CAAC,uBACZ,iNAAC,uKAAU;gEAAiB,OAAO,OAAO,WAAW;0EAClD,OAAO,WAAW;+DADJ,OAAO,EAAE;;;;;;;;;;;;;;;;;;oCAYrC,CAAC;4CAKI;wCAJJ,4CAA4C;wCAC5C,IAAI,qBAAqB,OAAO;wCAEhC,MAAM,qBAAqB,mBACvB,oBAAA,+BAAA,gBAAA,QAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,+BAA9B,oCAAA,cAAiD,WAAW,GAC5D;wCACJ,MAAM,yBACJ,mBACA,UACA,OAAO,MAAM,GAAG,KAChB,CAAC,CAAC,OAAO,MAAM,KAAK,KAAK,sBAAsB,MAAM,CAAC,EAAE,KAAK,kBAAkB;wCAEjF,IAAI,CAAC,wBAAwB,OAAO;wCAEpC,OAAO,6BACL,iNAAC,iKAAK;4CACJ,SAAQ;4CACR,WAAU;;gDAET;8DACD,iNAAC;oDACC,SAAS,IAAM,iBAAiB;oDAChC,WAAU;oDACV,cAAY,AAAC,UAAsB,OAAb,cAAa;8DAEnC,cAAA,iNAAC,wNAAC;wDAAC,WAAU;;;;;;;;;;;;;;;;iEAIjB,iNAAC,mKAAM;4CAAC,OAAM;4CAAM,eAAe;;8DACjC,iNAAC,0KAAa;oDAAC,WAAU;8DACvB,cAAA,iNAAC,wKAAW;wDAAC,aAAY;;;;;;;;;;;8DAE3B,iNAAC,0KAAa;;sEACZ,iNAAC,uKAAU;4DAAC,OAAM;sEAAM;;;;;;wDACvB,OAAO,GAAG,CAAC,CAAC,qBACX,iNAAC,uKAAU;gEAAY,OAAO;0EAC3B;+DADc;;;;;;;;;;;;;;;;;oCAO3B,CAAC;kDAID,iNAAC;wCAAI,WAAU;;0DACb,iNAAC,yLAAe;gDAAC,eAAe;gDAAe,UAAU;;;;;;0DAEzD,iNAAC,uLAAc;gDACb,KAAK;gDACL,KAAK;gDACL,UAAU,CAAC,KAAK;oDACd,eAAe;oDACf,eAAe;gDACjB;gDACA,SAAQ;;;;;;;;;;;;kDAKZ,iNAAC;wCAAI,WAAU;kDACb,cAAA,iNAAC,qKAAO;4CAAC,MAAM;4CAAoB,cAAc;;8DAC/C,iNAAC,4KAAc;oDAAC,OAAO;8DACrB,cAAA,iNAAC,mKAAM;wDACL,SAAQ;wDACR,MAAK;wDACL,WAAW,IAAA,gJAAE,EACX,sCACA,sBACI,kEACA;;0EAGN,iNAAC,4QAAiB;gEAAC,WAAU;;;;;;0EAC7B,iNAAC;gEAAK,WAAU;0EAAU;;;;;;4DACzB,uBAAuB,mBACtB,iNAAC,iKAAK;gEACJ,SAAQ;gEACR,WAAU;0EAET;;;;;;0EAGL,iNAAC,0PAAW;gEAAC,WAAW,IAAA,gJAAE,EAAC,gCAAgC,sBAAsB;;;;;;;;;;;;;;;;;8DAGrF,iNAAC,4KAAc;oDAAC,WAAU;oDAA+C,OAAM;oDAAQ,YAAY;8DACjG,cAAA,iNAAC;wDAAI,WAAU;;0EACb,iNAAC;;kFACC,iNAAC;wEAAM,WAAU;kFAAuD;;;;;;kFACxE,iNAAC,yLAAe;wEAAC,eAAe;wEAAe,UAAU;;;;;;;;;;;;0EAE3D,iNAAC;;kFACC,iNAAC;wEAAM,WAAU;kFAAuD;;;;;;kFACxE,iNAAC,uLAAc;wEACb,KAAK;wEACL,KAAK;wEACL,UAAU,CAAC,KAAK;4EACd,eAAe;4EACf,eAAe;wEACjB;wEACA,SAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oCAQnB,kCACC,iNAAC,mKAAM;wCACL,SAAQ;wCACR,MAAK;wCACL,SAAS;wCACT,WAAU;;0DAEV,iNAAC,wNAAC;gDAAC,WAAU;;;;;;0DACb,iNAAC;gDAAK,WAAU;0DAAwB;;;;;;;;;;;;;;;;;;0CAM9C,iNAAC;gCAAI,WAAU;0CACb,cAAA,iNAAC,6KAAW;oCAAC,MAAM;oCAAoB,cAAc;;sDAEnD,iNAAC;4CAAI,WAAU;;8DAEb,iNAAC,oLAAkB;oDAAC,WAAU;8DAC5B,cAAA,iNAAC;wDAAI,WAAU;;0EACb,iNAAC;gEAAI,WAAU;;kFACb,iNAAC,2OAAM;wEAAC,WAAU;;;;;;kFAClB,iNAAC;wEAAK,WAAU;kFAAsB;;;;;;oEACrC,cAAc,MAAM,GACnB,4BACA,CAAC,cAAc,KAAK,cAAc,SAAS,IAAI,CAAC,IAChD,mBACA,iNAAC,iKAAK;wEAAC,SAAQ;wEAAY,WAAU;kFAClC,cAAc,MAAM,GACnB,4BACA,CAAC,cAAc,KAAK,cAAc,SAAS,IAAI,CAAC;;;;;;;;;;;;0EAIxD,iNAAC,0PAAW;gEACV,WAAW,IAAA,gJAAE,EACX,sDACA,sBAAsB;;;;;;;;;;;;;;;;;8DAO9B,iNAAC;oDAAI,WAAU;;sEACb,iNAAC,mKAAM;4DACL,SAAS,aAAa,SAAS,YAAY;4DAC3C,MAAK;4DACL,WAAU;4DACV,SAAS,IAAM,YAAY;sEAE3B,cAAA,iNAAC,iOAAI;gEAAC,WAAU;;;;;;;;;;;sEAElB,iNAAC,mKAAM;4DACL,SAAS,aAAa,QAAQ,YAAY;4DAC1C,MAAK;4DACL,WAAU;4DACV,SAAS,IAAM,YAAY;sEAE3B,cAAA,iNAAC,8NAAG;gEAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;sDAMrB,iNAAC,oLAAkB;4CAAC,qBAAmB;4CAAC,WAAU;sDAChD,cAAA,iNAAC;gDAAI,WAAU;;oDAEZ,CAAC,qBACA,cAAc,MAAM,GAAG,KACvB,mBACA,oBACA,gBACA,cAAc,KACd,cAAc,MAAM,mBACpB,iNAAC;wDAAI,WAAU;;4DAEZ,mCACC,iNAAC,iKAAK;gEACJ,SAAQ;gEACR,WAAU;;oEAET;kFACD,iNAAC;wEACC,SAAS;wEACT,WAAU;kFAEV,cAAA,iNAAC,wNAAC;4EAAC,WAAU;;;;;;;;;;;;;;;;;4DAMlB,kBAAkB,MAAM,GAAG,KAC1B,CAAC,oBACD,CAAC,gBACD,kBAAkB,GAAG,CAAC,CAAC,wBACrB,iNAAC,iKAAK;oEAEJ,SAAQ;oEACR,WAAU;;wEAET;sFACD,iNAAC;4EACC,SAAS;gFACP,MAAM,eAAe,kBAAkB,MAAM,CAAC,CAAC,IAAM,MAAM;gFAC3D,oBAAoB;4EACtB;4EACA,WAAU;sFAEV,cAAA,iNAAC,wNAAC;gFAAC,WAAU;;;;;;;;;;;;mEAZV;;;;;4DAkBV,mBAAmB,CAAC,oBAAoB,YAAY,mBACnD,iNAAC,iKAAK;gEACJ,SAAQ;gEACR,WAAU;;oEAET;kFACD,iNAAC;wEACC,SAAS;4EACP,eAAe,UAAU,CAAC;4EAC1B,eAAe,UAAU,CAAC;4EAC1B,mBAAmB;4EACnB,OAAO,IAAI,CAAC,IAAA,mLAAa,EAAC;gFAAE,WAAW;4EAAkB;wEAC3D;wEACA,WAAU;kFAEV,cAAA,iNAAC,wNAAC;4EAAC,WAAU;;;;;;;;;;;;;;;;;4DAMlB,cAAc,GAAG,CAAC,CAAC,qBAClB,iNAAC,iKAAK;oEAEJ,SAAQ;oEACR,WAAU;;wEAET;sFACD,iNAAC;4EACC,SAAS,IAAM,iBAAiB,cAAc,MAAM,CAAC,CAAC,IAAM,MAAM;4EAClE,WAAU;sFAEV,cAAA,iNAAC,wNAAC;gFAAC,WAAU;;;;;;;;;;;;mEATV;;;;;4DAeR,CAAC,cAAc,KAAK,cAAc,MAAM,mBACvC,iNAAC,iKAAK;gEACJ,SAAQ;gEACR,WAAU;;oEAET,cAAc,KAAK,cAAc,SAC9B,AAAC,GAAkC,OAAhC,YAAY,cAAc,IAAG,KAAgC,OAA7B,YAAY,cAAc,MAC7D,cAAc,IACZ,AAAC,GAA+B,OAA7B,YAAY,cAAc,IAAG,OAChC,AAAC,SAAqC,OAA7B,YAAY,cAAc;kFACzC,iNAAC;wEACC,SAAS;4EACP,eAAe;4EACf,eAAe;wEACjB;wEACA,WAAU;kFAEV,cAAA,iNAAC,wNAAC;4EAAC,WAAU;;;;;;;;;;;;;;;;;4DAMlB,8BACC,iNAAC,iKAAK;gEACJ,SAAQ;gEACR,WAAU;;oEAET;kFACD,iNAAC;wEACC,SAAS,IACP,OAAO,IAAI,CACT,IAAA,mLAAa,EAAC;gFACZ,WAAW;gFACX,SAAS;gFACT,YAAY;4EACd;wEAGJ,WAAU;kFAEV,cAAA,iNAAC,wNAAC;4EAAC,WAAU;;;;;;;;;;;;;;;;;4DAMlB,sBAAsB,CAAC,8BACtB,iNAAC,iKAAK;gEACJ,SAAQ;gEACR,WAAU;;oEAET,mBAAmB,WAAW;kFAC/B,iNAAC;wEACC,SAAS,IACP,OAAO,IAAI,CACT,IAAA,mLAAa,EAAC;gFACZ,WAAW;gFACX,SAAS;4EACX;wEAGJ,WAAU;kFAEV,cAAA,iNAAC,wNAAC;4EAAC,WAAU;;;;;;;;;;;;;;;;;4DAMlB,CAAC,kBAAkB,MAAM,GAAG,KAC3B,cAAc,MAAM,GAAG,KACvB,cAAc,KACd,cAAc,MAAM,mBACpB,iNAAC;gEACC,SAAS;gEACT,WAAU;0EACX;;;;;;;;;;;;kEAQP,iNAAC;wDAAI,WAAU;;4DAEZ,CAAC,oBAAoB,CAAC,8BACrB,iNAAC,qLAAa;gEAEZ,WAAW,aAAa,EAAE;gEAC1B,mBAAmB;gEACnB,UAAU;gEACV,MAAM;gEACN,cAAc;+DALV;;;;;0EAUR,iNAAC,yLAAe;gEAAC,eAAe;gEAAe,UAAU;;;;;;4DAGxD,mBAAmB,WAAW,QAAQ,MAAM,GAAG,KAAK,CAAC,kCACpD,iNAAC,mKAAM;gEAEL,MAAM;gEACN,cAAc;gEACd,eAAe,CAAC;oEACd,mBAAmB;oEACnB,sBAAsB;gEACxB;;kFAEA,iNAAC,0KAAa;wEAAC,WAAU;kFACvB,cAAA,iNAAC,wKAAW;4EAAC,aAAY;;;;;;;;;;;kFAE3B,iNAAC,0KAAa;kFACX,QAAQ,GAAG,CAAC,CAAC,uBACZ,iNAAC,uKAAU;gFAAiB,OAAO,OAAO,WAAW;0FAClD,OAAO,WAAW;+EADJ,OAAO,EAAE;;;;;;;;;;;+DAb1B;;;;;4DAsBP,mBACC,UACA,OAAO,MAAM,GAAG,KAChB,CAAC,gBACD,CAAC,uBACD,CAAC;oEAEK;gEADJ,MAAM,qBAAqB,mBACvB,oBAAA,+BAAA,gBAAA,QAAS,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,+BAA9B,oCAAA,cAAiD,WAAW,GAC5D;gEACJ,MAAM,yBAAyB,CAAC,CAC9B,OAAO,MAAM,KAAK,KAClB,sBACA,MAAM,CAAC,EAAE,KAAK,kBAChB;gEAEA,IAAI,CAAC,wBAAwB,OAAO;gEAEpC,qBACE,iNAAC,mKAAM;oEAEL,MAAM;oEACN,cAAc;oEACd,eAAe,CAAC;wEACd,iBAAiB;wEACjB,oBAAoB;oEACtB;;sFAEA,iNAAC,0KAAa;4EAAC,WAAU;sFACvB,cAAA,iNAAC,wKAAW;gFAAC,aAAY;;;;;;;;;;;sFAE3B,iNAAC,0KAAa;sFACX,OAAO,GAAG,CAAC,CAAC,qBACX,iNAAC,uKAAU;oFAAY,OAAO;8FAC3B;mFADc;;;;;;;;;;;mEAbjB;;;;;4DAoBV,CAAC;;;;;;;kEAIL,iNAAC,uLAAc;wDACb,KAAK;wDACL,KAAK;wDACL,UAAU,CAAC,KAAK;4DACd,eAAe;4DACf,eAAe;wDACjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAQZ,iNAAC;wBAAI,WAAU;;0CAEb,iNAAC;gCAAI,WAAW,IAAA,gJAAE,EAAC,gCAAgC,aAAa,SAAS;0CACtE,0BACC,iNAAC;oCAAI,WAAU;8CACZ;2CAAI,MAAM;qCAAG,CAAC,GAAG,CAAC,CAAC,GAAG,kBACrB,iNAAC;4CAAY,WAAU;2CAAb;;;;;;;;;2CAGZ,OAAO,MAAM,KAAK,kBACpB,iNAAC;oCAAI,WAAU;;sDACb,iNAAC,2OAAM;4CAAC,WAAU;;;;;;sDAClB,iNAAC;4CAAE,WAAU;sDAAsB;;;;;;sDACnC,iNAAC;4CAAE,WAAU;sDAAqC;;;;;;wCACjD,kCACC,iNAAC,mKAAM;4CAAC,SAAQ;4CAAU,MAAK;4CAAK,SAAS;4CAAc,WAAU;sDAAO;;;;;;;;;;;yDAMhF;;sDAEE,iNAAC;4CAAI,WAAU;sDACb,cAAA,iNAAC;gDAAG,WAAU;;kEACZ,iNAAC;wDAAK,WAAU;kEACb,cAAc,MAAM,KAAK,OAAO,MAAM,GACnC,AAAC,GAAwB,OAAtB,OAAO,MAAM,EAAC,UAAuC,OAA/B,OAAO,MAAM,KAAK,IAAI,MAAM,MACrD,AAAC,GAA6B,OAA3B,cAAc,MAAM,EAAC,QAAoB,OAAd,OAAO,MAAM,EAAC;;;;;;kEAElD,iNAAC;wDAAK,WAAU;kEAA+B;;;;;;kEAC/C,iNAAC;wDAAK,WAAU;kEACb,CAAC;4DACA,yCAAyC;4DACzC,MAAM,qBAAqB,CAAC,CAAC,UAAU,SAAS;4DAChD,MAAM,sBAAsB,CAAC,CAAC,UAAU,UAAU;4DAClD,MAAM,gBAAgB,CAAC,CAAC,UAAU,WAAW;4DAE7C,iBAAiB;4DACjB,IAAI,oBAAmB,yBAAA,mCAAA,aAAc,WAAW,GAAE;gEAChD,MAAM,aAAa,CAAC,CAAC,aAAa,IAAI;gEACtC,MAAM,eAAe,CAAC,CAAC,aAAa,WAAW;gEAC/C,MAAM,gBAAgB,CAAC,CAAC,aAAa,OAAO;gEAC5C,IACE,AAAC,uBAAuB,cACvB,sBACC,CAAC,uBACD,CAAC,AAAC,cAAc,CAAC,gBAAkB,gBAAgB,CAAC,UAAW,KAChE,iBAAiB,CAAC,sBAAsB,iBAAiB,CAAC,gBAAgB,CAAC,cAC3E,CAAC,iBAAiB,CAAC,eACpB;oEACA,OAAO,aAAa,WAAW;gEACjC;4DACF;4DACA,IAAI,iBAAiB;gEACnB,OAAO,AAAC,UAAgC,OAAvB,iBAAgB,SAA8C,OAAvC,uBAAuB;4DACjE;4DAEA,mCAAmC;4DACnC,IAAI,wBAAA,kCAAA,YAAa,WAAW,EAAE;gEAC5B,MAAM,aAAa,CAAC,CAAC,YAAY,IAAI;gEACrC,MAAM,eAAe,CAAC,CAAC,YAAY,WAAW;gEAC9C,MAAM,gBAAgB,CAAC,CAAC,YAAY,OAAO;gEAC3C,IACE,AAAC,uBAAuB,cACvB,sBACC,CAAC,uBACD,CAAC,AAAC,cAAc,CAAC,gBAAkB,gBAAgB,CAAC,UAAW,KAChE,iBAAiB,CAAC,sBAAsB,iBAAiB,CAAC,gBAAgB,CAAC,cAC3E,CAAC,iBAAiB,CAAC,eACpB;oEACA,OAAO,YAAY,WAAW;gEAChC;4DACF;4DAEA,oBAAoB;4DACpB,IAAI,2BAAA,qCAAA,eAAgB,eAAe,EAAE;gEACnC,OACE,eAAe,eAAe,eAAe,KAC7C,AAAC,wBAA4C,OAArB;4DAE5B;4DAEA,OAAO,AAAC,wBAA4C,OAArB;wDACjC,CAAC;;;;;;;;;;;;;;;;;sDAMP,iNAAC,2LAAgB;4CACf,QAAQ;4CACR,oBAAoB;4CACpB,cAAc;4CACd,WAAU;4CACV,kBAAkB;4CAClB,wBAAwB;4CACxB,UAAU,IAAM,sBAAsB;4CACtC,QACE,mBAAmB,kCACjB,iNAAC;gDAAQ,WAAU;;kEACjB,iNAAC;wDAAG,WAAU;kEACX,CAAC;4DACA,MAAM,qBAAqB,CAAC,CAAC,UAAU,SAAS;4DAChD,MAAM,sBAAsB,CAAC,CAAC,UAAU,UAAU;4DAClD,MAAM,gBAAgB,CAAC,CAAC,UAAU,WAAW;4DAE7C,iBAAiB;4DACjB,IAAI,oBAAmB,yBAAA,mCAAA,aAAc,aAAa,GAAE;gEAClD,MAAM,aAAa,CAAC,CAAC,aAAa,IAAI;gEACtC,MAAM,eAAe,CAAC,CAAC,aAAa,WAAW;gEAC/C,MAAM,gBAAgB,CAAC,CAAC,aAAa,OAAO;gEAC5C,IACE,AAAC,uBAAuB,cACvB,sBACC,CAAC,uBACD,CAAC,AAAC,cAAc,CAAC,gBAAkB,gBAAgB,CAAC,UAAW,KAChE,iBACC,CAAC,sBACD,iBACA,CAAC,gBACD,CAAC,cACF,CAAC,iBAAiB,CAAC,eACpB;oEACA,OAAO,aAAa,aAAa;gEACnC;4DACF;4DACA,IAAI,iBAAiB;gEACnB,OAAO,AAAC,SAA+B,OAAvB,iBAAgB,SAA8C,OAAvC,uBAAuB;4DAChE;4DAEA,mCAAmC;4DACnC,IAAI,wBAAA,kCAAA,YAAa,aAAa,EAAE;gEAC9B,MAAM,aAAa,CAAC,CAAC,YAAY,IAAI;gEACrC,MAAM,eAAe,CAAC,CAAC,YAAY,WAAW;gEAC9C,MAAM,gBAAgB,CAAC,CAAC,YAAY,OAAO;gEAC3C,IACE,AAAC,uBAAuB,cACvB,sBACC,CAAC,uBACD,CAAC,AAAC,cAAc,CAAC,gBAAkB,gBAAgB,CAAC,UAAW,KAChE,iBACC,CAAC,sBACD,iBACA,CAAC,gBACD,CAAC,cACF,CAAC,iBAAiB,CAAC,eACpB;oEACA,OAAO,YAAY,aAAa;gEAClC;4DACF;4DAEA,oBAAoB;4DACpB,IAAI,2BAAA,qCAAA,eAAgB,iBAAiB,EAAE;gEACrC,OACE,eAAe,eAAe,iBAAiB,KAC/C,AAAC,mBAAuC,OAArB;4DAEvB;4DAEA,OAAO,AAAC,mBAAuC,OAArB;wDAC5B,CAAC;;;;;;oDAEF,CAAC;wDACA,MAAM,qBAAqB,CAAC,CAAC,UAAU,SAAS;wDAChD,MAAM,sBAAsB,CAAC,CAAC,UAAU,UAAU;wDAClD,MAAM,gBAAgB,CAAC,CAAC,UAAU,WAAW;wDAE7C,yBAAyB;wDACzB,IAAI,oBAAmB,yBAAA,mCAAA,aAAc,aAAa,GAAE;4DAClD,MAAM,aAAa,CAAC,CAAC,aAAa,IAAI;4DACtC,MAAM,eAAe,CAAC,CAAC,aAAa,WAAW;4DAC/C,MAAM,gBAAgB,CAAC,CAAC,aAAa,OAAO;4DAC5C,IACE,AAAC,uBAAuB,cACvB,sBACC,CAAC,uBACD,CAAC,AAAC,cAAc,CAAC,gBAAkB,gBAAgB,CAAC,UAAW,KAChE,iBACC,CAAC,sBACD,iBACA,CAAC,gBACD,CAAC,cACF,CAAC,iBAAiB,CAAC,eACpB;gEACA,qBACE,iNAAC;oEACC,WAAU;oEACV,yBAAyB;wEAAE,QAAQ,oLAAS,CAAC,QAAQ,CAAC,aAAa,aAAa;oEAAE;;;;;;4DAGxF;wDACF;wDAEA,2CAA2C;wDAC3C,IAAI,CAAC,oBAAmB,wBAAA,kCAAA,YAAa,aAAa,GAAE;4DAClD,MAAM,aAAa,CAAC,CAAC,YAAY,IAAI;4DACrC,MAAM,eAAe,CAAC,CAAC,YAAY,WAAW;4DAC9C,MAAM,gBAAgB,CAAC,CAAC,YAAY,OAAO;4DAC3C,IACE,AAAC,uBAAuB,cACvB,sBACC,CAAC,uBACD,CAAC,AAAC,cAAc,CAAC,gBAAkB,gBAAgB,CAAC,UAAW,KAChE,iBACC,CAAC,sBACD,iBACA,CAAC,gBACD,CAAC,cACF,CAAC,iBAAiB,CAAC,eACpB;gEACA,qBACE,iNAAC;oEACC,WAAU;oEACV,yBAAyB;wEAAE,QAAQ,oLAAS,CAAC,QAAQ,CAAC,YAAY,aAAa;oEAAE;;;;;;4DAGvF;wDACF;wDAEA,4BAA4B;wDAC5B,IAAI,CAAC,oBAAmB,2BAAA,qCAAA,eAAgB,iBAAiB,GAAE;4DACzD,MAAM,WAAW,eAAe,eAAe,iBAAiB;4DAChE,IAAI,UAAU;gEACZ,qBACE,iNAAC;oEACC,WAAU;oEACV,yBAAyB;wEAAE,QAAQ,oLAAS,CAAC,QAAQ,CAAC;oEAAU;;;;;;4DAGtE;wDACF;wDAEA,mBAAmB;wDACnB,qBACE,iNAAC;4DAAE,WAAU;sEACV,kBACG,IAAA,iLAAwB,EAAC,iBAAiB,uBAAuB,iBACjE,eACE,AAAC,GAAe,OAAb,cAAa,iNAChB,qBACE,AAAC,GAAiC,OAA/B,mBAAmB,WAAW,EAAC,yKAClC,kBACE,AAAC,GAAkB,OAAhB,iBAAgB,wKACnB,AAAC,GAAoB,OAAlB,mBAAkB;;;;;;oDAGrC,CAAC;;;;;;yDAED;;;;;;;;;;;;;0CAQd,iNAAC;gCACC,WAAW,IAAA,gJAAE,EACX,oDACA,aAAa,UAAU;0CAGzB,cAAA,iNAAC,6LAAQ;oCAAC,wBAAU,iNAAC;;;;;8CACnB,cAAA,iNAAC;wCACC,QAAQ;wCACR,eAAe;wCACf,eAAe;wCACf,oBAAoB;wCACpB,gBAAgB;wCAChB,cAAc;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAShC;GA/9DwB;;QACP,sKAAS;QACP,wKAAW;QACP,4KAAe;QA6BrB,sKAAS;QAoH2D,qKAAiB;QAkD1E,4KAAwB;QAqBjB,0KAAsB;QACrB,2KAAuB;QAgDxB,yKAAiB;QA2BpB,iLAAmB;QAQlB,yKAAe;QASF,6JAAS;;;MAxT/B","debugId":null}}]
}