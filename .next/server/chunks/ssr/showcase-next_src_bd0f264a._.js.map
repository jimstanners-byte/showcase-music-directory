{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/assets/showcase-logo.svg.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 500, height: 105, blurWidth: 0, blurHeight: 0};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,yJAAG;IAAE,OAAO;IAAK,QAAQ;IAAK,WAAW;IAAG,YAAY;AAAC","debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,0LAAO,EAAC,IAAA,iKAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-semibold ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"gradient-action text-primary-foreground hover:opacity-90 hover:shadow-glow-pink\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-primary/50 bg-transparent text-primary hover:bg-primary/10 hover:border-primary\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent/10 hover:text-primary\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n        gradient: \"gradient-brand text-primary-foreground hover:opacity-90 hover:shadow-glow-pink\",\n        \"gradient-outline\": \"border border-transparent bg-card text-foreground gradient-border hover:shadow-glow-pink\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,2LAAG,EACxB,wWACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aAAa;YACb,SAAS;YACT,WAAW;YACX,OAAO;YACP,MAAM;YACN,UAAU;YACV,oBAAoB;QACtB;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,uOAAgB,CAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,4LAAI,GAAG;IAC9B,qBAAO,kQAAC;QAAK,WAAW,IAAA,6IAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QAAK,KAAK;QAAM,GAAG,KAAK;;;;;;AAC/F;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 101, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/ui/sheet.tsx"],"sourcesContent":["import * as SheetPrimitive from \"@radix-ui/react-dialog\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\nimport { X } from \"lucide-react\";\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Sheet = SheetPrimitive.Root;\n\nconst SheetTrigger = SheetPrimitive.Trigger;\n\nconst SheetClose = SheetPrimitive.Close;\n\nconst SheetPortal = SheetPrimitive.Portal;\n\nconst SheetOverlay = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className,\n    )}\n    {...props}\n    ref={ref}\n  />\n));\nSheetOverlay.displayName = SheetPrimitive.Overlay.displayName;\n\nconst sheetVariants = cva(\n  \"fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500\",\n  {\n    variants: {\n      side: {\n        top: \"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top\",\n        bottom:\n          \"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom\",\n        left: \"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm\",\n        right:\n          \"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm\",\n      },\n    },\n    defaultVariants: {\n      side: \"right\",\n    },\n  },\n);\n\ninterface SheetContentProps\n  extends React.ComponentPropsWithoutRef<typeof SheetPrimitive.Content>,\n    VariantProps<typeof sheetVariants> {}\n\nconst SheetContent = React.forwardRef<React.ElementRef<typeof SheetPrimitive.Content>, SheetContentProps>(\n  ({ side = \"right\", className, children, ...props }, ref) => (\n    <SheetPortal>\n      <SheetOverlay />\n      <SheetPrimitive.Content ref={ref} className={cn(sheetVariants({ side }), className)} {...props}>\n        {children}\n        <SheetPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none\">\n          <X className=\"h-4 w-4\" />\n          <span className=\"sr-only\">Close</span>\n        </SheetPrimitive.Close>\n      </SheetPrimitive.Content>\n    </SheetPortal>\n  ),\n);\nSheetContent.displayName = SheetPrimitive.Content.displayName;\n\nconst SheetHeader = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col space-y-2 text-center sm:text-left\", className)} {...props} />\n);\nSheetHeader.displayName = \"SheetHeader\";\n\nconst SheetFooter = ({ className, ...props }: React.HTMLAttributes<HTMLDivElement>) => (\n  <div className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)} {...props} />\n);\nSheetFooter.displayName = \"SheetFooter\";\n\nconst SheetTitle = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Title ref={ref} className={cn(\"text-lg font-semibold text-foreground\", className)} {...props} />\n));\nSheetTitle.displayName = SheetPrimitive.Title.displayName;\n\nconst SheetDescription = React.forwardRef<\n  React.ElementRef<typeof SheetPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof SheetPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <SheetPrimitive.Description ref={ref} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />\n));\nSheetDescription.displayName = SheetPrimitive.Description.displayName;\n\nexport {\n  Sheet,\n  SheetClose,\n  SheetContent,\n  SheetDescription,\n  SheetFooter,\n  SheetHeader,\n  SheetOverlay,\n  SheetPortal,\n  SheetTitle,\n  SheetTrigger,\n};\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;;;;;;;AAEA,MAAM,QAAQ,8LAAmB;AAEjC,MAAM,eAAe,iMAAsB;AAE3C,MAAM,aAAa,+LAAoB;AAEvC,MAAM,cAAc,gMAAqB;AAEzC,MAAM,6BAAe,uOAAgB,CAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,kQAAC,iMAAsB;QACrB,WAAW,IAAA,6IAAE,EACX,0JACA;QAED,GAAG,KAAK;QACT,KAAK;;;;;;AAGT,aAAa,WAAW,GAAG,iMAAsB,CAAC,WAAW;AAE7D,MAAM,gBAAgB,IAAA,2LAAG,EACvB,oMACA;IACE,UAAU;QACR,MAAM;YACJ,KAAK;YACL,QACE;YACF,MAAM;YACN,OACE;QACJ;IACF;IACA,iBAAiB;QACf,MAAM;IACR;AACF;AAOF,MAAM,6BAAe,uOAAgB,CACnC,CAAC,EAAE,OAAO,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBAClD,kQAAC;;0BACC,kQAAC;;;;;0BACD,kQAAC,iMAAsB;gBAAC,KAAK;gBAAK,WAAW,IAAA,6IAAE,EAAC,cAAc;oBAAE;gBAAK,IAAI;gBAAa,GAAG,KAAK;;oBAC3F;kCACD,kQAAC,+LAAoB;wBAAC,WAAU;;0CAC9B,kQAAC,qNAAC;gCAAC,WAAU;;;;;;0CACb,kQAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAMpC,aAAa,WAAW,GAAG,iMAAsB,CAAC,WAAW;AAE7D,MAAM,cAAc,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBAChF,kQAAC;QAAI,WAAW,IAAA,6IAAE,EAAC,oDAAoD;QAAa,GAAG,KAAK;;;;;;AAE9F,YAAY,WAAW,GAAG;AAE1B,MAAM,cAAc,CAAC,EAAE,SAAS,EAAE,GAAG,OAA6C,iBAChF,kQAAC;QAAI,WAAW,IAAA,6IAAE,EAAC,iEAAiE;QAAa,GAAG,KAAK;;;;;;AAE3G,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,uOAAgB,CAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,kQAAC,+LAAoB;QAAC,KAAK;QAAK,WAAW,IAAA,6IAAE,EAAC,yCAAyC;QAAa,GAAG,KAAK;;;;;;AAE9G,WAAW,WAAW,GAAG,+LAAoB,CAAC,WAAW;AAEzD,MAAM,iCAAmB,uOAAgB,CAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,kQAAC,qMAA0B;QAAC,KAAK;QAAK,WAAW,IAAA,6IAAE,EAAC,iCAAiC;QAAa,GAAG,KAAK;;;;;;AAE5G,iBAAiB,WAAW,GAAG,qMAA0B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useFavourites.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useCallback } from 'react';\r\n\r\nconst STORAGE_KEY = 'showcase-favourites';\r\nconst FAVOURITES_UPDATED_EVENT = 'favourites-updated';\r\n\r\n// Helper to read current favourites from localStorage\r\nconst getFavouritesFromStorage = (): string[] => {\r\n  try {\r\n    const stored = localStorage.getItem(STORAGE_KEY);\r\n    return stored ? JSON.parse(stored) : [];\r\n  } catch {\r\n    return [];\r\n  }\r\n};\r\n\r\n// Helper to save favourites to localStorage and dispatch event\r\nconst saveFavouritesToStorage = (favourites: string[]) => {\r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(favourites));\r\n  window.dispatchEvent(new CustomEvent(FAVOURITES_UPDATED_EVENT));\r\n};\r\n\r\n// For components that only need to check one listing (FavouriteButton)\r\nexport function useIsFavourite(listingId: string) {\r\n  const [isFav, setIsFav] = useState(() => \r\n    getFavouritesFromStorage().includes(listingId)\r\n  );\r\n\r\n  useEffect(() => {\r\n    const handleUpdate = () => {\r\n      setIsFav(getFavouritesFromStorage().includes(listingId));\r\n    };\r\n    \r\n    window.addEventListener(FAVOURITES_UPDATED_EVENT, handleUpdate);\r\n    window.addEventListener('storage', handleUpdate);\r\n    \r\n    return () => {\r\n      window.removeEventListener(FAVOURITES_UPDATED_EVENT, handleUpdate);\r\n      window.removeEventListener('storage', handleUpdate);\r\n    };\r\n  }, [listingId]);\r\n\r\n  const toggle = useCallback(() => {\r\n    const currentFavourites = getFavouritesFromStorage();\r\n    let newFavourites: string[];\r\n    \r\n    if (currentFavourites.includes(listingId)) {\r\n      newFavourites = currentFavourites.filter(id => id !== listingId);\r\n    } else {\r\n      newFavourites = [...currentFavourites, listingId];\r\n    }\r\n    \r\n    saveFavouritesToStorage(newFavourites);\r\n  }, [listingId]);\r\n\r\n  return { isFavourite: isFav, toggle };\r\n}\r\n\r\n// For components that need the full list (Favourites page, Header count)\r\nexport function useFavourites() {\r\n  const [favourites, setFavourites] = useState<string[]>(getFavouritesFromStorage);\r\n\r\n  useEffect(() => {\r\n    const handleUpdate = () => {\r\n      setFavourites(getFavouritesFromStorage());\r\n    };\r\n    \r\n    window.addEventListener(FAVOURITES_UPDATED_EVENT, handleUpdate);\r\n    window.addEventListener('storage', handleUpdate);\r\n    \r\n    return () => {\r\n      window.removeEventListener(FAVOURITES_UPDATED_EVENT, handleUpdate);\r\n      window.removeEventListener('storage', handleUpdate);\r\n    };\r\n  }, []);\r\n\r\n  const toggleFavourite = useCallback((listingId: string) => {\r\n    const currentFavourites = getFavouritesFromStorage();\r\n    let newFavourites: string[];\r\n    \r\n    if (currentFavourites.includes(listingId)) {\r\n      newFavourites = currentFavourites.filter(id => id !== listingId);\r\n    } else {\r\n      newFavourites = [...currentFavourites, listingId];\r\n    }\r\n    \r\n    saveFavouritesToStorage(newFavourites);\r\n  }, []);\r\n\r\n  const removeFavourite = useCallback((listingId: string) => {\r\n    const currentFavourites = getFavouritesFromStorage();\r\n    const newFavourites = currentFavourites.filter(id => id !== listingId);\r\n    saveFavouritesToStorage(newFavourites);\r\n  }, []);\r\n\r\n  return {\r\n    favourites,\r\n    toggleFavourite,\r\n    removeFavourite,\r\n    count: favourites.length,\r\n  };\r\n}\r\n"],"names":[],"mappings":";;;;;;AAEA;AAFA;;AAIA,MAAM,cAAc;AACpB,MAAM,2BAA2B;AAEjC,sDAAsD;AACtD,MAAM,2BAA2B;IAC/B,IAAI;QACF,MAAM,SAAS,aAAa,OAAO,CAAC;QACpC,OAAO,SAAS,KAAK,KAAK,CAAC,UAAU,EAAE;IACzC,EAAE,OAAM;QACN,OAAO,EAAE;IACX;AACF;AAEA,+DAA+D;AAC/D,MAAM,0BAA0B,CAAC;IAC/B,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;IACjD,OAAO,aAAa,CAAC,IAAI,YAAY;AACvC;AAGO,SAAS,eAAe,SAAiB;IAC9C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qOAAQ,EAAC,IACjC,2BAA2B,QAAQ,CAAC;IAGtC,IAAA,sOAAS,EAAC;QACR,MAAM,eAAe;YACnB,SAAS,2BAA2B,QAAQ,CAAC;QAC/C;QAEA,OAAO,gBAAgB,CAAC,0BAA0B;QAClD,OAAO,gBAAgB,CAAC,WAAW;QAEnC,OAAO;YACL,OAAO,mBAAmB,CAAC,0BAA0B;YACrD,OAAO,mBAAmB,CAAC,WAAW;QACxC;IACF,GAAG;QAAC;KAAU;IAEd,MAAM,SAAS,IAAA,wOAAW,EAAC;QACzB,MAAM,oBAAoB;QAC1B,IAAI;QAEJ,IAAI,kBAAkB,QAAQ,CAAC,YAAY;YACzC,gBAAgB,kBAAkB,MAAM,CAAC,CAAA,KAAM,OAAO;QACxD,OAAO;YACL,gBAAgB;mBAAI;gBAAmB;aAAU;QACnD;QAEA,wBAAwB;IAC1B,GAAG;QAAC;KAAU;IAEd,OAAO;QAAE,aAAa;QAAO;IAAO;AACtC;AAGO,SAAS;IACd,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,qOAAQ,EAAW;IAEvD,IAAA,sOAAS,EAAC;QACR,MAAM,eAAe;YACnB,cAAc;QAChB;QAEA,OAAO,gBAAgB,CAAC,0BAA0B;QAClD,OAAO,gBAAgB,CAAC,WAAW;QAEnC,OAAO;YACL,OAAO,mBAAmB,CAAC,0BAA0B;YACrD,OAAO,mBAAmB,CAAC,WAAW;QACxC;IACF,GAAG,EAAE;IAEL,MAAM,kBAAkB,IAAA,wOAAW,EAAC,CAAC;QACnC,MAAM,oBAAoB;QAC1B,IAAI;QAEJ,IAAI,kBAAkB,QAAQ,CAAC,YAAY;YACzC,gBAAgB,kBAAkB,MAAM,CAAC,CAAA,KAAM,OAAO;QACxD,OAAO;YACL,gBAAgB;mBAAI;gBAAmB;aAAU;QACnD;QAEA,wBAAwB;IAC1B,GAAG,EAAE;IAEL,MAAM,kBAAkB,IAAA,wOAAW,EAAC,CAAC;QACnC,MAAM,oBAAoB;QAC1B,MAAM,gBAAgB,kBAAkB,MAAM,CAAC,CAAA,KAAM,OAAO;QAC5D,wBAAwB;IAC1B,GAAG,EAAE;IAEL,OAAO;QACL;QACA;QACA;QACA,OAAO,WAAW,MAAM;IAC1B;AACF","debugId":null}},
    {"offset": {"line": 359, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/header/MobileMenuButton.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { Menu, Heart } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Sheet, SheetContent, SheetTrigger } from \"@/components/ui/sheet\";\r\nimport { useFavourites } from \"@/hooks/useFavourites\";\r\nimport { useState } from \"react\";\r\n\r\nconst navItems = [\r\n  { label: \"HOME\", to: \"/\" },\r\n  { label: \"CATEGORIES\", to: \"/categories\" },\r\n];\r\n\r\nexport function MobileMenuButton() {\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const { count: favouritesCount } = useFavourites();\r\n\r\n  return (\r\n    <Sheet open={mobileMenuOpen} onOpenChange={setMobileMenuOpen}>\r\n      <SheetTrigger asChild className=\"md:hidden\">\r\n        <Button variant=\"ghost\" size=\"icon\">\r\n          <Menu className=\"h-6 w-6\" />\r\n        </Button>\r\n      </SheetTrigger>\r\n      <SheetContent side=\"right\" className=\"w-[280px] bg-card border-border\">\r\n        <nav className=\"flex flex-col gap-4 mt-8\">\r\n          {navItems.map((item) => (\r\n            <Link\r\n              key={item.to}\r\n              href={item.to}\r\n              className=\"text-lg font-medium text-foreground hover:text-primary transition-colors py-2\"\r\n              onClick={() => setMobileMenuOpen(false)}\r\n            >\r\n              {item.label}\r\n            </Link>\r\n          ))}\r\n          <Link\r\n            href=\"/favourites\"\r\n            className=\"text-lg font-medium text-foreground hover:text-primary transition-colors py-2 flex items-center gap-2\"\r\n            onClick={() => setMobileMenuOpen(false)}\r\n          >\r\n            <Heart className=\"h-5 w-5\" />\r\n            FAVOURITES\r\n            {favouritesCount > 0 && (\r\n              <span className=\"bg-primary text-primary-foreground text-xs px-1.5 py-0.5 rounded-full\">\r\n                {favouritesCount}\r\n              </span>\r\n            )}\r\n          </Link>\r\n        </nav>\r\n      </SheetContent>\r\n    </Sheet>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AASA,MAAM,WAAW;IACf;QAAE,OAAO;QAAQ,IAAI;IAAI;IACzB;QAAE,OAAO;QAAc,IAAI;IAAc;CAC1C;AAEM,SAAS;IACd,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,qOAAQ,EAAC;IACrD,MAAM,EAAE,OAAO,eAAe,EAAE,GAAG,IAAA,kKAAa;IAEhD,qBACE,kQAAC,8JAAK;QAAC,MAAM;QAAgB,cAAc;;0BACzC,kQAAC,qKAAY;gBAAC,OAAO;gBAAC,WAAU;0BAC9B,cAAA,kQAAC,gKAAM;oBAAC,SAAQ;oBAAQ,MAAK;8BAC3B,cAAA,kQAAC,8NAAI;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAGpB,kQAAC,qKAAY;gBAAC,MAAK;gBAAQ,WAAU;0BACnC,cAAA,kQAAC;oBAAI,WAAU;;wBACZ,SAAS,GAAG,CAAC,CAAC,qBACb,kQAAC,2LAAI;gCAEH,MAAM,KAAK,EAAE;gCACb,WAAU;gCACV,SAAS,IAAM,kBAAkB;0CAEhC,KAAK,KAAK;+BALN,KAAK,EAAE;;;;;sCAQhB,kQAAC,2LAAI;4BACH,MAAK;4BACL,WAAU;4BACV,SAAS,IAAM,kBAAkB;;8CAEjC,kQAAC,iOAAK;oCAAC,WAAU;;;;;;gCAAY;gCAE5B,kBAAkB,mBACjB,kQAAC;oCAAK,WAAU;8CACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQjB","debugId":null}},
    {"offset": {"line": 484, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/header/TopBar.tsx"],"sourcesContent":["import Link from 'next/link';\r\nimport showcaseLogo from \"@/assets/showcase-logo.svg\";\r\nimport { MobileMenuButton } from './MobileMenuButton';\r\n\r\ninterface Ad {\r\n  id: string;\r\n  name: string;\r\n  image_url: string;\r\n  link_url: string | null;\r\n  alt_text: string | null;\r\n}\r\n\r\ninterface TopBarProps {\r\n  sponsorAd: Ad | null;\r\n}\r\n\r\nexport function TopBar({ sponsorAd }: TopBarProps) {\r\n  return (\r\n    <div className=\"bg-card/50 border-b border-border\">\r\n      <div className=\"container py-4\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <Link href=\"/\">\r\n            <img\r\n              src={showcaseLogo}\r\n              alt=\"Showcase Music - The International Music Business Guide\"\r\n              className=\"h-14 w-auto\"\r\n            />\r\n          </Link>\r\n\r\n          <div className=\"hidden md:flex items-center gap-3\">\r\n            <span className=\"text-xs text-muted-foreground uppercase tracking-wide\">Sponsored By</span>\r\n            {sponsorAd ? (\r\n              <a href={sponsorAd.link_url || \"#\"} target=\"_blank\" rel=\"noopener noreferrer\" className=\"block hover:opacity-80 transition-opacity\">\r\n                <img src={sponsorAd.image_url} alt={sponsorAd.alt_text || sponsorAd.name} className=\"h-14 w-auto max-w-48 object-contain\" />\r\n              </a>\r\n            ) : (\r\n              <div className=\"w-48 h-14 bg-secondary border border-dashed border-border rounded-lg flex items-center justify-center\">\r\n                <span className=\"text-xs text-muted-foreground\">Your Logo Here</span>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <MobileMenuButton />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAcO,SAAS,OAAO,EAAE,SAAS,EAAe;IAC/C,qBACE,kQAAC;QAAI,WAAU;kBACb,cAAA,kQAAC;YAAI,WAAU;sBACb,cAAA,kQAAC;gBAAI,WAAU;;kCACb,kQAAC,2LAAI;wBAAC,MAAK;kCACT,cAAA,kQAAC;4BACC,KAAK,sWAAY;4BACjB,KAAI;4BACJ,WAAU;;;;;;;;;;;kCAId,kQAAC;wBAAI,WAAU;;0CACb,kQAAC;gCAAK,WAAU;0CAAwD;;;;;;4BACvE,0BACC,kQAAC;gCAAE,MAAM,UAAU,QAAQ,IAAI;gCAAK,QAAO;gCAAS,KAAI;gCAAsB,WAAU;0CACtF,cAAA,kQAAC;oCAAI,KAAK,UAAU,SAAS;oCAAE,KAAK,UAAU,QAAQ,IAAI,UAAU,IAAI;oCAAE,WAAU;;;;;;;;;;qDAGtF,kQAAC;gCAAI,WAAU;0CACb,cAAA,kQAAC;oCAAK,WAAU;8CAAgC;;;;;;;;;;;;;;;;;kCAKtD,kQAAC,wLAAgB;;;;;;;;;;;;;;;;;;;;;AAK3B","debugId":null}},
    {"offset": {"line": 596, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/NavLink.tsx"],"sourcesContent":["'use client';\n\nimport { forwardRef } from \"react\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { cn } from \"@/lib/utils\";\n\ninterface NavLinkProps extends Omit<React.ComponentPropsWithoutRef<typeof Link>, 'href'> {\n  className?: string;\n  activeClassName?: string;\n  href?: string;\n  to?: string; // Legacy React Router prop\n}\n\nconst NavLink = forwardRef<HTMLAnchorElement, NavLinkProps>(\n  ({ className, activeClassName, href, to, ...props }, ref) => {\n    const pathname = usePathname();\n    const linkHref = href || to || '/'; // Use href or to, fallback to '/'\n    const isActive = pathname === linkHref || pathname?.startsWith(linkHref + '/');\n    \n    return (\n      <Link\n        ref={ref}\n        href={linkHref}\n        className={cn(className, isActive && activeClassName)}\n        {...props}\n      />\n    );\n  },\n);\n\nNavLink.displayName = \"NavLink\";\n\nexport { NavLink };"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAcA,MAAM,wBAAU,IAAA,uOAAU,EACxB,CAAC,EAAE,SAAS,EAAE,eAAe,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG,OAAO,EAAE;IACnD,MAAM,WAAW,IAAA,qKAAW;IAC5B,MAAM,WAAW,QAAQ,MAAM,KAAK,kCAAkC;IACtE,MAAM,WAAW,aAAa,YAAY,UAAU,WAAW,WAAW;IAE1E,qBACE,kQAAC,2LAAI;QACH,KAAK;QACL,MAAM;QACN,WAAW,IAAA,6IAAE,EAAC,WAAW,YAAY;QACpC,GAAG,KAAK;;;;;;AAGf;AAGF,QAAQ,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 632, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/header/NavBar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { usePathname } from 'next/navigation';\r\nimport { Heart, ChevronRight } from \"lucide-react\";\r\nimport { NavLink } from \"@/components/NavLink\";\r\nimport { useFavourites } from \"@/hooks/useFavourites\";\r\nimport { ReactNode } from \"react\";\r\n\r\nconst navItems = [\r\n  { label: \"HOME\", to: \"/\" },\r\n  { label: \"CATEGORIES\", to: \"/categories\" },\r\n];\r\n\r\nexport interface BreadcrumbItem {\r\n  label: string;\r\n  to?: string;\r\n}\r\n\r\ninterface NavBarProps {\r\n  breadcrumbs?: BreadcrumbItem[];\r\n  rightContent?: ReactNode;\r\n  customNavContent?: ReactNode;\r\n}\r\n\r\nexport function NavBar({ breadcrumbs, rightContent, customNavContent }: NavBarProps) {\r\n  const { count: favouritesCount } = useFavourites();\r\n\r\n  const showBreadcrumbs = breadcrumbs && breadcrumbs.length > 0;\r\n  const showCustomNav = !!customNavContent;\r\n\r\n  return (\r\n    <nav className=\"hidden md:block bg-secondary/50\">\r\n      <div className=\"container\">\r\n        <div className=\"flex items-center justify-between py-2\">\r\n          <div className=\"flex items-center justify-between w-full\">\r\n            {showCustomNav ? (\r\n              <div className=\"flex items-center gap-1.5 text-xs lg:text-sm min-w-0 overflow-hidden\">\r\n                {customNavContent}\r\n              </div>\r\n            ) : showBreadcrumbs ? (\r\n              <div className=\"flex items-center gap-1 lg:gap-1.5 text-xs lg:text-sm text-muted-foreground min-w-0 overflow-hidden\">\r\n                {breadcrumbs.map((crumb, index) => {\r\n                  const isFirst = index === 0;\r\n                  const isLast = index === breadcrumbs.length - 1;\r\n                  const isSecondLast = index === breadcrumbs.length - 2;\r\n                  const totalItems = breadcrumbs.length;\r\n\r\n                  const isMiddleItem = !isFirst && !isLast && !isSecondLast;\r\n                  const shouldHideOnMobile = isMiddleItem && totalItems > 3;\r\n                  const showEllipsis = isSecondLast && totalItems > 3;\r\n\r\n                  return (\r\n                    <div\r\n                      key={index}\r\n                      className={`flex items-center gap-1 lg:gap-1.5 min-w-0 ${shouldHideOnMobile ? \"hidden lg:flex\" : \"\"}`}\r\n                    >\r\n                      {index > 0 && (\r\n                        <ChevronRight\r\n                          className={`h-3 w-3 lg:h-4 lg:w-4 flex-shrink-0 ${shouldHideOnMobile ? \"hidden lg:block\" : \"\"}`}\r\n                        />\r\n                      )}\r\n                      {showEllipsis && (\r\n                        <span className=\"lg:hidden flex items-center gap-1\">\r\n                          <span>...</span>\r\n                          <ChevronRight className=\"h-3 w-3 flex-shrink-0\" />\r\n                        </span>\r\n                      )}\r\n                      {crumb.to ? (\r\n                        <Link\r\n                          href={crumb.to}\r\n                          className=\"hover:text-primary transition-colors whitespace-nowrap max-w-[120px] lg:max-w-[200px] truncate\"\r\n                        >\r\n                          {crumb.label}\r\n                        </Link>\r\n                      ) : (\r\n                        <span className=\"text-foreground truncate max-w-[150px] lg:max-w-[250px]\">{crumb.label}</span>\r\n                      )}\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            ) : (\r\n              <div className=\"flex items-center\">\r\n                {navItems.map((item, index) => (\r\n                  <div key={item.to} className=\"flex items-center\">\r\n                    <NavLink\r\n                      to={item.to}\r\n                      className=\"text-xs lg:text-sm font-medium text-muted-foreground hover:text-primary transition-colors px-2 lg:px-3 py-1 whitespace-nowrap\"\r\n                      activeClassName=\"text-primary\"\r\n                    >\r\n                      {item.label}\r\n                    </NavLink>\r\n                    {index < navItems.length - 1 && <span className=\"text-border\">|</span>}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {/* Right side: optional content + Favourites */}\r\n            <div className=\"flex items-center gap-2 lg:gap-3\">\r\n              {rightContent}\r\n              <NavLink\r\n                to=\"/favourites\"\r\n                className=\"text-xs lg:text-sm font-medium text-muted-foreground hover:text-primary transition-colors px-2 lg:px-3 py-1 flex items-center gap-1 lg:gap-1.5 whitespace-nowrap\"\r\n                activeClassName=\"text-primary\"\r\n              >\r\n                <Heart className=\"h-4 w-4\" />\r\n                FAVOURITES\r\n                {favouritesCount > 0 && (\r\n                  <span className=\"bg-primary text-primary-foreground text-xs px-1.5 py-0.5 rounded-full\">\r\n                    {favouritesCount}\r\n                  </span>\r\n                )}\r\n              </NavLink>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AAEA;AAAA;AACA;AACA;AANA;;;;;;AASA,MAAM,WAAW;IACf;QAAE,OAAO;QAAQ,IAAI;IAAI;IACzB;QAAE,OAAO;QAAc,IAAI;IAAc;CAC1C;AAaM,SAAS,OAAO,EAAE,WAAW,EAAE,YAAY,EAAE,gBAAgB,EAAe;IACjF,MAAM,EAAE,OAAO,eAAe,EAAE,GAAG,IAAA,kKAAa;IAEhD,MAAM,kBAAkB,eAAe,YAAY,MAAM,GAAG;IAC5D,MAAM,gBAAgB,CAAC,CAAC;IAExB,qBACE,kQAAC;QAAI,WAAU;kBACb,cAAA,kQAAC;YAAI,WAAU;sBACb,cAAA,kQAAC;gBAAI,WAAU;0BACb,cAAA,kQAAC;oBAAI,WAAU;;wBACZ,8BACC,kQAAC;4BAAI,WAAU;sCACZ;;;;;mCAED,gCACF,kQAAC;4BAAI,WAAU;sCACZ,YAAY,GAAG,CAAC,CAAC,OAAO;gCACvB,MAAM,UAAU,UAAU;gCAC1B,MAAM,SAAS,UAAU,YAAY,MAAM,GAAG;gCAC9C,MAAM,eAAe,UAAU,YAAY,MAAM,GAAG;gCACpD,MAAM,aAAa,YAAY,MAAM;gCAErC,MAAM,eAAe,CAAC,WAAW,CAAC,UAAU,CAAC;gCAC7C,MAAM,qBAAqB,gBAAgB,aAAa;gCACxD,MAAM,eAAe,gBAAgB,aAAa;gCAElD,qBACE,kQAAC;oCAEC,WAAW,CAAC,2CAA2C,EAAE,qBAAqB,mBAAmB,IAAI;;wCAEpG,QAAQ,mBACP,kQAAC,0PAAY;4CACX,WAAW,CAAC,oCAAoC,EAAE,qBAAqB,oBAAoB,IAAI;;;;;;wCAGlG,8BACC,kQAAC;4CAAK,WAAU;;8DACd,kQAAC;8DAAK;;;;;;8DACN,kQAAC,0PAAY;oDAAC,WAAU;;;;;;;;;;;;wCAG3B,MAAM,EAAE,iBACP,kQAAC,2LAAI;4CACH,MAAM,MAAM,EAAE;4CACd,WAAU;sDAET,MAAM,KAAK;;;;;iEAGd,kQAAC;4CAAK,WAAU;sDAA2D,MAAM,KAAK;;;;;;;mCAtBnF;;;;;4BA0BX;;;;;iDAGF,kQAAC;4BAAI,WAAU;sCACZ,SAAS,GAAG,CAAC,CAAC,MAAM,sBACnB,kQAAC;oCAAkB,WAAU;;sDAC3B,kQAAC,4JAAO;4CACN,IAAI,KAAK,EAAE;4CACX,WAAU;4CACV,iBAAgB;sDAEf,KAAK,KAAK;;;;;;wCAEZ,QAAQ,SAAS,MAAM,GAAG,mBAAK,kQAAC;4CAAK,WAAU;sDAAc;;;;;;;mCARtD,KAAK,EAAE;;;;;;;;;;sCAevB,kQAAC;4BAAI,WAAU;;gCACZ;8CACD,kQAAC,4JAAO;oCACN,IAAG;oCACH,WAAU;oCACV,iBAAgB;;sDAEhB,kQAAC,iOAAK;4CAAC,WAAU;;;;;;wCAAY;wCAE5B,kBAAkB,mBACjB,kQAAC;4CAAK,WAAU;sDACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUrB","debugId":null}},
    {"offset": {"line": 845, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/integrations/supabase/client.ts"],"sourcesContent":["// This file is automatically generated. Do not edit it directly.\r\n'use client';\r\nimport { createClient } from \"@supabase/supabase-js\";\r\nimport type { Database } from \"./types\";\r\n\r\nconst SUPABASE_URL = process.env.NEXT_PUBLIC_SUPABASE_URL;\r\nconst SUPABASE_PUBLISHABLE_KEY = process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_KEY;\r\n\r\n// Import the supabase client like this:\r\n// import { supabase } from \"@/integrations/supabase/client\";\r\n\r\nexport const supabase = createClient<Database>(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY, {\r\n  auth: {\r\n    storage: typeof window !== 'undefined' ? window.localStorage : undefined,\r\n    persistSession: true,\r\n    autoRefreshToken: true,\r\n    detectSessionInUrl: true,\r\n    flowType: 'pkce',\r\n  },\r\n});\r\n"],"names":[],"mappings":"AAAA,iEAAiE;;;;;AAEjE;AADA;;AAIA,MAAM;AACN,MAAM;AAKC,MAAM,WAAW,IAAA,2MAAY,EAAW,cAAc,0BAA0B;IACrF,MAAM;QACJ,SAAS,sCAAgC,0BAAsB;QAC/D,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;QACpB,UAAU;IACZ;AACF","debugId":null}},
    {"offset": {"line": 868, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useAds.ts"],"sourcesContent":["'use client';\n\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { supabase } from '@/integrations/supabase/client';\r\n\r\nexport interface Ad {\r\n  id: string;\r\n  name: string;\r\n  position: 'sponsor-logo' | 'featured';\r\n  image_url: string;\r\n  link_url: string | null;\r\n  alt_text: string | null;\r\n  is_active: boolean;\r\n  start_date: string | null;\r\n  end_date: string | null;\r\n  target_category_ids: string[];\r\n  target_countries: string[];\r\n  target_pages: string[];\r\n  rotation_interval: number | null;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nexport const useAds = () => {\r\n  return useQuery({\r\n    queryKey: ['ads'],\r\n    queryFn: async () => {\r\n      const { data, error } = await supabase\r\n        .from('ads')\r\n        .select('*')\r\n        .order('created_at', { ascending: false });\r\n      \r\n      if (error) throw error;\r\n      return data as Ad[];\r\n    },\r\n  });\r\n};\r\n\r\nexport const useActiveAdsByPosition = (\r\n  position: string, \r\n  categoryId?: string | null, \r\n  country?: string | null\r\n) => {\r\n  return useQuery({\r\n    queryKey: ['active-ads', position, categoryId, country],\r\n    queryFn: async () => {\r\n      const now = new Date().toISOString();\r\n      \r\n      // Build query with targeting priority\r\n      let query = supabase\r\n        .from('ads')\r\n        .select('*')\r\n        .eq('position', position)\r\n        .eq('is_active', true)\r\n        .or(`start_date.is.null,start_date.lte.${now}`)\r\n        .or(`end_date.is.null,end_date.gte.${now}`);\r\n      \r\n      const { data, error } = await query;\r\n      if (error) throw error;\r\n      \r\n      const ads = data as Ad[];\r\n      \r\n      // Helper functions\r\n      const hasTargetCategories = (ad: Ad) => ad.target_category_ids && ad.target_category_ids.length > 0;\r\n      const hasTargetCountries = (ad: Ad) => ad.target_countries && ad.target_countries.length > 0;\r\n      const categoryMatches = (ad: Ad) => categoryId && ad.target_category_ids?.includes(categoryId);\r\n      const countryMatches = (ad: Ad) => country && ad.target_countries?.includes(country);\r\n      \r\n      // Prioritize: exact match > category only > country only > site-wide\r\n      const exactMatch = ads.find(ad => \r\n        categoryMatches(ad) && countryMatches(ad)\r\n      );\r\n      if (exactMatch) return exactMatch;\r\n      \r\n      const categoryMatch = ads.find(ad => \r\n        categoryMatches(ad) && !hasTargetCountries(ad)\r\n      );\r\n      if (categoryMatch) return categoryMatch;\r\n      \r\n      const countryMatch = ads.find(ad => \r\n        !hasTargetCategories(ad) && countryMatches(ad)\r\n      );\r\n      if (countryMatch) return countryMatch;\r\n      \r\n      // Fall back to site-wide ad\r\n      return ads.find(ad => !hasTargetCategories(ad) && !hasTargetCountries(ad));\r\n    },\r\n  });\r\n};\r\n\r\n// New hook for rotating banners - fetches ALL active ads for a position with targeting\r\nexport const useRotatingAds = (\r\n  position: string,\r\n  categoryId?: string | null,\r\n  country?: string | null\r\n) => {\r\n  return useQuery({\r\n    queryKey: ['rotating-ads', position, categoryId, country],\r\n    queryFn: async () => {\r\n      const now = new Date().toISOString();\r\n      \r\n      const { data, error } = await supabase\r\n        .from('ads')\r\n        .select('*')\r\n        .eq('position', position)\r\n        .eq('is_active', true)\r\n        .or(`start_date.is.null,start_date.lte.${now}`)\r\n        .or(`end_date.is.null,end_date.gte.${now}`)\r\n        .order('created_at', { ascending: false });\r\n      \r\n      if (error) throw error;\r\n      \r\n      const ads = data as Ad[];\r\n      \r\n      // Filter ads by targeting with AND logic:\r\n      // - If ad has both categories AND countries: at least one category must match AND country must match\r\n      // - If ad has only categories: at least one category must match (any country)\r\n      // - If ad has only countries: country must match (any category)\r\n      // - If ad has neither: site-wide (always show)\r\n      return ads.filter(ad => {\r\n        const hasCategories = ad.target_category_ids && ad.target_category_ids.length > 0;\r\n        const hasTargetCountries = ad.target_countries && ad.target_countries.length > 0;\r\n        const categoryMatches = categoryId && ad.target_category_ids?.includes(categoryId);\r\n        const countryMatches = country && ad.target_countries?.includes(country);\r\n\r\n        // Site-wide ad (no targeting)\r\n        if (!hasCategories && !hasTargetCountries) return true;\r\n        \r\n        // Both categories and country specified: both must match\r\n        if (hasCategories && hasTargetCountries) {\r\n          return categoryMatches && countryMatches;\r\n        }\r\n        \r\n        // Only categories specified\r\n        if (hasCategories && !hasTargetCountries) {\r\n          return categoryMatches;\r\n        }\r\n        \r\n        // Only countries specified\r\n        if (!hasCategories && hasTargetCountries) {\r\n          return countryMatches;\r\n        }\r\n        \r\n        return false;\r\n      });\r\n    },\r\n  });\r\n};\r\n\r\n// New hook for featured ads with category, page, parent category priority and country filtering\r\nexport const useFeaturedAds = (categoryId?: string, pageId?: string, parentCategoryId?: string, country?: string) => {\r\n  return useQuery({\r\n    queryKey: ['featured-ads', categoryId, pageId, parentCategoryId, country],\r\n    queryFn: async () => {\r\n      const now = new Date().toISOString();\r\n      \r\n      // Fetch all featured ads\r\n      const { data, error } = await supabase\r\n        .from('ads')\r\n        .select('*')\r\n        .eq('position', 'featured')\r\n        .eq('is_active', true)\r\n        .or(`start_date.is.null,start_date.lte.${now}`)\r\n        .or(`end_date.is.null,end_date.gte.${now}`);\r\n      \r\n      if (error) throw error;\r\n      \r\n      const ads = data as Ad[];\r\n      \r\n      // Filter by country if ad has country targeting\r\n      const filterByCountry = (adsToFilter: Ad[]) => {\r\n        return adsToFilter.filter(ad => {\r\n          // If ad has no country targeting, it shows everywhere\r\n          if (!ad.target_countries || ad.target_countries.length === 0) return true;\r\n          // If ad has country targeting, only show if current country matches\r\n          return country && ad.target_countries.includes(country);\r\n        });\r\n      };\r\n      \r\n      // Site-wide ads (no category, no page targeting)\r\n      const siteWideAds = ads.filter(ad => \r\n        (!ad.target_category_ids || ad.target_category_ids.length === 0) &&\r\n        (!ad.target_pages || ad.target_pages.length === 0)\r\n      );\r\n      \r\n      // Page-specific ads\r\n      const pageAds = pageId \r\n        ? ads.filter(ad => ad.target_pages?.includes(pageId))\r\n        : [];\r\n      \r\n      // Exact match ads: category AND country both specified and matching\r\n      const exactMatchAds = categoryId && country\r\n        ? ads.filter(ad => \r\n            ad.target_category_ids?.includes(categoryId) && \r\n            ad.target_countries?.includes(country)\r\n          )\r\n        : [];\r\n      \r\n      // Category-only ads: category matches but NO country targeting\r\n      const categoryOnlyAds = categoryId \r\n        ? ads.filter(ad => \r\n            ad.target_category_ids?.includes(categoryId) &&\r\n            (!ad.target_countries || ad.target_countries.length === 0)\r\n          )\r\n        : [];\r\n      \r\n      // Child category ads (for parent pages) - fetch child category IDs\r\n      let childCategoryAds: Ad[] = [];\r\n      if (parentCategoryId) {\r\n        const { data: childCategories } = await supabase\r\n          .from('categories')\r\n          .select('id')\r\n          .eq('parent_id', parentCategoryId);\r\n        \r\n        const childIds = childCategories?.map(c => c.id) || [];\r\n        childCategoryAds = ads.filter(ad => \r\n          ad.target_category_ids?.some(catId => childIds.includes(catId))\r\n        );\r\n      }\r\n      \r\n      // Apply country filter to page, child, and site-wide ads\r\n      return {\r\n        exactMatchAds,  // Already filtered by category + country\r\n        categoryOnlyAds, // No country targeting, so no filter needed\r\n        pageAds: filterByCountry(pageAds),\r\n        childCategoryAds: filterByCountry(childCategoryAds),\r\n        siteWideAds: filterByCountry(siteWideAds),\r\n      };\r\n    },\r\n  });\r\n};\r\n\r\nexport const useCreateAd = () => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: async (ad: Omit<Ad, 'id' | 'created_at' | 'updated_at'>) => {\r\n      const { data, error } = await supabase\r\n        .from('ads')\r\n        .insert(ad)\r\n        .select()\r\n        .single();\r\n      \r\n      if (error) throw error;\r\n      return data;\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['ads'] });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useUpdateAd = () => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: async ({ id, ...ad }: Partial<Ad> & { id: string }) => {\r\n      const { data, error } = await supabase\r\n        .from('ads')\r\n        .update(ad)\r\n        .eq('id', id)\r\n        .select()\r\n        .single();\r\n      \r\n      if (error) throw error;\r\n      return data;\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['ads'] });\r\n      queryClient.invalidateQueries({ queryKey: ['active-ads'] });\r\n      queryClient.invalidateQueries({ queryKey: ['rotating-ads'] });\r\n      queryClient.invalidateQueries({ queryKey: ['featured-ads'] });\r\n    },\r\n  });\r\n};\r\n\r\nexport const useDeleteAd = () => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: async (id: string) => {\r\n      const { error } = await supabase\r\n        .from('ads')\r\n        .delete()\r\n        .eq('id', id);\r\n      \r\n      if (error) throw error;\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ['ads'] });\r\n      queryClient.invalidateQueries({ queryKey: ['active-ads'] });\r\n      queryClient.invalidateQueries({ queryKey: ['rotating-ads'] });\r\n      queryClient.invalidateQueries({ queryKey: ['featured-ads'] });\r\n    },\r\n  });\r\n};\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1115, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/Header.tsx"],"sourcesContent":["'use client';\n\nimport { TopBar } from './header/TopBar';\nimport { NavBar, BreadcrumbItem } from './header/NavBar';\nimport { useActiveAdsByPosition } from '@/hooks/useAds';\nimport { ReactNode } from 'react';\n\ninterface HeaderProps {\n  breadcrumbs?: BreadcrumbItem[];\n  rightContent?: ReactNode;\n  customNavContent?: ReactNode;\n}\n\nexport function Header({ breadcrumbs, rightContent, customNavContent }: HeaderProps) {\n  const { data: sponsorAd } = useActiveAdsByPosition(\"sponsor-logo\");\n\n  return (\n    <header className=\"sticky top-0 z-50 w-full bg-background/95 backdrop-blur-sm border-b border-border\">\n      <TopBar sponsorAd={sponsorAd || null} />\n      <NavBar breadcrumbs={breadcrumbs} rightContent={rightContent} customNavContent={customNavContent} />\n    </header>\n  );\n}\n\nexport type { BreadcrumbItem };"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAaO,SAAS,OAAO,EAAE,WAAW,EAAE,YAAY,EAAE,gBAAgB,EAAe;IACjF,MAAM,EAAE,MAAM,SAAS,EAAE,GAAG,IAAA,oKAAsB,EAAC;IAEnD,qBACE,kQAAC;QAAO,WAAU;;0BAChB,kQAAC,oKAAM;gBAAC,WAAW,aAAa;;;;;;0BAChC,kQAAC,oKAAM;gBAAC,aAAa;gBAAa,cAAc;gBAAc,kBAAkB;;;;;;;;;;;;AAGtF","debugId":null}},
    {"offset": {"line": 1160, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useAnalytics.ts"],"sourcesContent":["'use client';\n\nimport { usePathname, useSearchParams } from 'next/navigation';\nimport { useQuery } from '@tanstack/react-query';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useEffect, useRef } from 'react';\n\nconst SUPABASE_URL = process.env.NEXT_PUBLIC_SUPABASE_URL;\n\n// Helper to track events directly to database\nasync function trackEvent(eventType: string, data: Record<string, unknown>) {\n  try {\n    // Map event types to their respective tables\n    const tableMap: Record<string, string> = {\n      'page_view': 'page_views',\n      'category_view': 'category_page_views',\n      'ad_view': 'ad_views',\n      'ad_click': 'ad_clicks',\n      'listing_view': 'listing_views',\n      'link_click': 'listing_link_clicks',\n    };\n\n    const tableName = tableMap[eventType];\n    if (!tableName) {\n      console.warn(`Unknown event type: ${eventType}`);\n      return;\n    }\n\n    console.log('Attempting to insert:', { tableName, data });\n    const { data: result, error } = await supabase.from(tableName).insert(data);\n    \n    if (error) {\n      console.error(`Failed to track ${eventType}:`, {\n        message: error.message,\n        code: error.code,\n        details: error.details,\n        hint: error.hint,\n        tableName: tableName,\n        eventType: eventType\n      });\n    } else {\n      console.log('Successfully tracked:', eventType);\n    }\n  } catch (error) {\n    console.error(`Failed to track ${eventType}:`, {\n      message: error instanceof Error ? error.message : String(error),\n      stack: error instanceof Error ? error.stack : undefined,\n      eventType: eventType\n    });\n  }\n}\n\n// Track page view\nexport const usePageViewTracking = () => {\n  const pathname = usePathname();\n  const trackedRef = useRef<string | null>(null);\n\n  useEffect(() => {\n    // Don't track admin pages or dashboard-login\n    if (pathname.startsWith('/admin') || pathname.startsWith('/dashboard-login')) {\n      return;\n    }\n\n    // Only track once per page\n    if (trackedRef.current === pathname) {\n      return;\n    }\n\n    trackedRef.current = pathname;\n\n    trackEvent('page_view', {\n      page_url: pathname,\n      referrer: document.referrer || null,\n      user_agent: navigator.userAgent,\n    });\n  }, [pathname]);\n};\n\n// Track category page views\nexport const useCategoryViewTracking = (categoryId: string | null, categoryName: string | null) => {\n  const trackedRef = useRef<string | null>(null);\n\n  useEffect(() => {\n    if (!categoryId || trackedRef.current === categoryId) {\n      return;\n    }\n\n    trackedRef.current = categoryId;\n\n    trackEvent('category_view', {\n      category_id: categoryId,\n      category_name: categoryName,\n    });\n  }, [categoryId, categoryName]);\n};\n\n// Direct tracking function for category page views with location\nexport const trackCategoryPageView = (\n  categoryId: string,\n  categoryName: string,\n  country: string | null = null,\n  city: string | null = null\n) => {\n  trackEvent('category_view', {\n    category_id: categoryId,\n    category_name: categoryName,\n    country: country,\n    city: city,\n  });\n};\n\n// Track ad view\nexport const trackAdView = (adId: string) => {\n  trackEvent('ad_view', { ad_id: adId });\n};\n\n// Track ad click\nexport const trackAdClick = (adId: string, targetUrl: string) => {\n  trackEvent('ad_click', { ad_id: adId, target_url: targetUrl });\n};\n\n// Track listing view\nexport const trackListingView = (listingId: string) => {\n  trackEvent('listing_view', { listing_id: listingId });\n};\n\n// Track link clicks from listing pages\nexport const trackLinkClick = (listingId: string, linkType: string, linkUrl?: string) => {\n  trackEvent('link_click', {\n    listing_id: listingId,\n    link_type: linkType,\n    link_url: linkUrl || null,\n  });\n};\n\n// Fetch analytics data - Page Views (with count)\nexport function usePageViews(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'page-views', startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('page_views')\n        .select('*', { count: 'exact', head: false })\n        .order('viewed_at', { ascending: false })\n        .limit(1000);\n\n      if (startDate) {\n        query = query.gte('viewed_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('viewed_at', endDate);\n      }\n\n      const { data, count, error } = await query;\n      if (error) throw error;\n      return { data: data || [], count: count || 0 };\n    },\n  });\n}\n\n// Fetch analytics data - Category Views (with count)\nexport function useCategoryViews(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'category-views', startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('category_page_views')\n        .select('*', { count: 'exact', head: false })\n        .order('viewed_at', { ascending: false })\n        .limit(1000);\n\n      if (startDate) {\n        query = query.gte('viewed_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('viewed_at', endDate);\n      }\n\n      const { data, count, error } = await query;\n      if (error) throw error;\n      return { data: data || [], count: count || 0 };\n    },\n  });\n}\n\n// Fetch analytics data - Ad Views (with count)\nexport function useAdViews(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'ad-views', startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('ad_views')\n        .select('*', { count: 'exact', head: false })\n        .order('viewed_at', { ascending: false })\n        .limit(1000);\n\n      if (startDate) {\n        query = query.gte('viewed_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('viewed_at', endDate);\n      }\n\n      const { data, count, error } = await query;\n      if (error) throw error;\n      return { data: data || [], count: count || 0 };\n    },\n  });\n}\n\n// Fetch analytics data - Ad Clicks (with count)\nexport function useAdClicks(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'ad-clicks', startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('ad_clicks')\n        .select('*', { count: 'exact', head: false })\n        .order('clicked_at', { ascending: false })\n        .limit(1000);\n\n      if (startDate) {\n        query = query.gte('clicked_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('clicked_at', endDate);\n      }\n\n      const { data, count, error } = await query;\n      if (error) throw error;\n      return { data: data || [], count: count || 0 };\n    },\n  });\n}\n\n// Fetch analytics data - Listing Views (with count)\nexport function useListingViews(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'listing-views', startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('listing_views')\n        .select('*', { count: 'exact', head: false })\n        .order('viewed_at', { ascending: false })\n        .limit(1000);\n\n      if (startDate) {\n        query = query.gte('viewed_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('viewed_at', endDate);\n      }\n\n      const { data, count, error } = await query;\n      if (error) throw error;\n      return { data: data || [], count: count || 0 };\n    },\n  });\n}\n\n// Fetch analytics data - Link Clicks (with count)\nexport function useLinkClicks(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'link-clicks', startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('listing_link_clicks')\n        .select('*', { count: 'exact', head: false })\n        .order('clicked_at', { ascending: false })\n        .limit(1000);\n\n      if (startDate) {\n        query = query.gte('clicked_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('clicked_at', endDate);\n      }\n\n      const { data, count, error } = await query;\n      if (error) throw error;\n      return { data: data || [], count: count || 0 };\n    },\n  });\n}\n\n// Aggregated analytics for dashboard\nexport function useAnalyticsSummary(startDate?: string, endDate?: string) {\n  const { data: pageViews } = usePageViews(startDate, endDate);\n  const { data: categoryViews } = useCategoryViews(startDate, endDate);\n  const { data: adViews } = useAdViews(startDate, endDate);\n  const { data: adClicks } = useAdClicks(startDate, endDate);\n  const { data: listingViews } = useListingViews(startDate, endDate);\n  const { data: linkClicks } = useLinkClicks(startDate, endDate);\n\n  return {\n    pageViews: pageViews?.count || 0,\n    categoryViews: categoryViews?.count || 0,\n    adViews: adViews?.count || 0,\n    adClicks: adClicks?.count || 0,\n    listingViews: listingViews?.count || 0,\n    linkClicks: linkClicks?.count || 0,\n  };\n}\n\n// Top performing listings by views\nexport function useTopListings(limit: number = 10, startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'top-listings', limit, startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('listing_views')\n        .select('listing_id');\n\n      if (startDate) {\n        query = query.gte('viewed_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('viewed_at', endDate);\n      }\n\n      const { data, error } = await query;\n      if (error) throw error;\n\n      // Count views per listing\n      const viewCounts = data.reduce((acc: Record<string, number>, view) => {\n        acc[view.listing_id] = (acc[view.listing_id] || 0) + 1;\n        return acc;\n      }, {});\n\n      // Sort and limit\n      const sorted = Object.entries(viewCounts)\n        .sort(([, a], [, b]) => b - a)\n        .slice(0, limit)\n        .map(([listing_id, views]) => ({ listing_id, views }));\n\n      return sorted;\n    },\n  });\n}\n\n// Top performing categories by views\nexport function useTopCategories(limit: number = 10, startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics', 'top-categories', limit, startDate, endDate],\n    queryFn: async () => {\n      let query = supabase\n        .from('category_page_views')\n        .select('category_id, category_name');\n\n      if (startDate) {\n        query = query.gte('viewed_at', startDate);\n      }\n      if (endDate) {\n        query = query.lte('viewed_at', endDate);\n      }\n\n      const { data, error } = await query;\n      if (error) throw error;\n\n      // Count views per category\n      const viewCounts = data.reduce((acc: Record<string, { name: string; views: number }>, view) => {\n        if (!acc[view.category_id]) {\n          acc[view.category_id] = { name: view.category_name || 'Unknown', views: 0 };\n        }\n        acc[view.category_id].views++;\n        return acc;\n      }, {});\n\n      // Sort and limit\n      const sorted = Object.entries(viewCounts)\n        .sort(([, a], [, b]) => b.views - a.views)\n        .slice(0, limit)\n        .map(([category_id, data]) => ({ category_id, ...data }));\n\n      return sorted;\n    },\n  });\n}\n\n// Analytics Overview\nexport function useAnalyticsOverview(startDate?: string, endDate?: string) {\n  const { data: pageViews, isLoading: pageViewsLoading } = usePageViews(startDate, endDate);\n  const { data: categoryViews, isLoading: categoryViewsLoading } = useCategoryViews(startDate, endDate);\n  const { data: adViews, isLoading: adViewsLoading } = useAdViews(startDate, endDate);\n  const { data: adClicks, isLoading: adClicksLoading } = useAdClicks(startDate, endDate);\n  const { data: listingViews, isLoading: listingViewsLoading } = useListingViews(startDate, endDate);\n  const { data: linkClicks, isLoading: linkClicksLoading } = useLinkClicks(startDate, endDate);\n\n  const isLoading = pageViewsLoading || categoryViewsLoading || adViewsLoading || \n                    adClicksLoading || listingViewsLoading || linkClicksLoading;\n\n  const totalAdViews = adViews?.count || 0;\n  const totalAdClicks = adClicks?.count || 0;\n  const ctr = totalAdViews > 0 ? ((totalAdClicks / totalAdViews) * 100).toFixed(2) : '0.00';\n\n  return {\n    data: {\n      pageViews: pageViews?.count || 0,\n      categoryViews: categoryViews?.count || 0,\n      adViews: totalAdViews,\n      adClicks: totalAdClicks,\n      ctr: ctr,\n      listingViews: listingViews?.count || 0,\n      linkClicks: linkClicks?.count || 0,\n    },\n    isLoading,\n    error: null\n  };\n}\n\n// Ad Analytics - aggregated by ad\nexport function useAdAnalytics() {\n  return useQuery({\n    queryKey: ['ad-analytics'],\n    queryFn: async () => {\n      // Get all ads\n      const { data: ads, error: adsError } = await supabase\n        .from('ads')\n        .select('id, name, position')\n        .order('name');\n\n      if (adsError) throw adsError;\n\n      // Get views and clicks for each ad\n      const results = await Promise.all(\n        ads.map(async (ad) => {\n          const [viewsRes, clicksRes] = await Promise.all([\n            supabase.from('ad_views').select('id', { count: 'exact', head: true }).eq('ad_id', ad.id),\n            supabase.from('ad_clicks').select('id', { count: 'exact', head: true }).eq('ad_id', ad.id)\n          ]);\n\n          const views = viewsRes.count || 0;\n          const clicks = clicksRes.count || 0;\n          const ctr = views > 0 ? ((clicks / views) * 100).toFixed(2) : '0.00';\n\n          return {\n            id: ad.id,\n            name: ad.name,\n            position: ad.position,\n            views,\n            clicks,\n            ctr\n          };\n        })\n      );\n\n      return results;\n    },\n  });\n}\n\n// Time series analytics\nexport function useAnalyticsTimeSeries(startDate?: string, endDate?: string) {\n  return useQuery({\n    queryKey: ['analytics-timeseries', startDate, endDate],\n    queryFn: async () => {\n      const start = startDate || new Date(Date.now() - 30 * 24 * 60 * 60 * 1000).toISOString();\n      const end = endDate || new Date().toISOString();\n\n      // Get page views\n      const { data: pageViews } = await supabase\n        .from('page_views')\n        .select('viewed_at')\n        .gte('viewed_at', start)\n        .lte('viewed_at', end);\n\n      // Get ad views\n      const { data: adViews } = await supabase\n        .from('ad_views')\n        .select('viewed_at')\n        .gte('viewed_at', start)\n        .lte('viewed_at', end);\n\n      // Get ad clicks\n      const { data: adClicks } = await supabase\n        .from('ad_clicks')\n        .select('clicked_at')\n        .gte('clicked_at', start)\n        .lte('clicked_at', end);\n\n      // Group by date\n      const dateMap: Record<string, { pageViews: number; adViews: number; adClicks: number }> = {};\n\n      pageViews?.forEach((view) => {\n        const date = view.viewed_at.split('T')[0];\n        if (!dateMap[date]) dateMap[date] = { pageViews: 0, adViews: 0, adClicks: 0 };\n        dateMap[date].pageViews++;\n      });\n\n      adViews?.forEach((view) => {\n        const date = view.viewed_at.split('T')[0];\n        if (!dateMap[date]) dateMap[date] = { pageViews: 0, adViews: 0, adClicks: 0 };\n        dateMap[date].adViews++;\n      });\n\n      adClicks?.forEach((click) => {\n        const date = click.clicked_at.split('T')[0];\n        if (!dateMap[date]) dateMap[date] = { pageViews: 0, adViews: 0, adClicks: 0 };\n        dateMap[date].adClicks++;\n      });\n\n      // Convert to array and sort\n      return Object.entries(dateMap)\n        .map(([date, counts]) => ({ date, ...counts }))\n        .sort((a, b) => a.date.localeCompare(b.date));\n    },\n  });\n}\n\n// Category views analytics with search\nexport function useCategoryViewsAnalytics(search?: string) {\n  return useQuery({\n    queryKey: ['category-views-analytics', search],\n    queryFn: async () => {\n      let query = supabase\n        .from('category_page_views')\n        .select('category_name, country, city');\n\n      const { data, error } = await query;\n      if (error) throw error;\n\n      // Group by category + location\n      const grouped: Record<string, { category: string; country: string | null; city: string | null; views: number }> = {};\n      \n      data?.forEach((view) => {\n        const key = `${view.category_name}-${view.country}-${view.city}`;\n        if (!grouped[key]) {\n          grouped[key] = {\n            category: view.category_name,\n            country: view.country,\n            city: view.city,\n            views: 0\n          };\n        }\n        grouped[key].views++;\n      });\n\n      let results = Object.values(grouped);\n\n      // Filter by search\n      if (search) {\n        const searchLower = search.toLowerCase();\n        results = results.filter(item => \n          item.category.toLowerCase().includes(searchLower) ||\n          item.country?.toLowerCase().includes(searchLower) ||\n          item.city?.toLowerCase().includes(searchLower)\n        );\n      }\n\n      // Sort by views descending\n      return results.sort((a, b) => b.views - a.views);\n    },\n  });\n}\n\n// Company views analytics with search\nexport function useCompanyViewsAnalytics(search?: string) {\n  return useQuery({\n    queryKey: ['company-views-analytics', search],\n    queryFn: async () => {\n      const { data: views, error: viewsError } = await supabase\n        .from('listing_views')\n        .select('listing_id');\n\n      if (viewsError) throw viewsError;\n\n      // Count views per listing\n      const viewCounts: Record<string, number> = {};\n      views?.forEach((view) => {\n        viewCounts[view.listing_id] = (viewCounts[view.listing_id] || 0) + 1;\n      });\n\n      // Get listing details\n      const listingIds = Object.keys(viewCounts);\n      if (listingIds.length === 0) return [];\n\n      let query = supabase\n        .from('listings')\n        .select('id, name, slug')\n        .in('id', listingIds);\n\n      if (search) {\n        query = query.ilike('name', `%${search}%`);\n      }\n\n      const { data: listings, error: listingsError } = await query;\n      if (listingsError) throw listingsError;\n\n      // Combine data\n      const results = listings?.map((listing) => ({\n        id: listing.id,\n        name: listing.name,\n        slug: listing.slug,\n        views: viewCounts[listing.id] || 0\n      })) || [];\n\n      // Sort by views descending\n      return results.sort((a, b) => b.views - a.views);\n    },\n  });\n}\n\n// Link clicks analytics with search\nexport function useLinkClicksAnalytics(search?: string) {\n  return useQuery({\n    queryKey: ['link-clicks-analytics', search],\n    queryFn: async () => {\n      const { data: clicks, error: clicksError } = await supabase\n        .from('listing_link_clicks')\n        .select('listing_id, link_type');\n\n      if (clicksError) throw clicksError;\n\n      // Group by listing + link type\n      const grouped: Record<string, { listingId: string; linkType: string; clicks: number }> = {};\n      \n      clicks?.forEach((click) => {\n        const key = `${click.listing_id}-${click.link_type}`;\n        if (!grouped[key]) {\n          grouped[key] = {\n            listingId: click.listing_id,\n            linkType: click.link_type,\n            clicks: 0\n          };\n        }\n        grouped[key].clicks++;\n      });\n\n      // Get listing details\n      const listingIds = [...new Set(Object.values(grouped).map(g => g.listingId))];\n      if (listingIds.length === 0) return [];\n\n      let query = supabase\n        .from('listings')\n        .select('id, name, slug')\n        .in('id', listingIds);\n\n      if (search) {\n        query = query.ilike('name', `%${search}%`);\n      }\n\n      const { data: listings, error: listingsError } = await query;\n      if (listingsError) throw listingsError;\n\n      const listingMap = new Map(listings?.map(l => [l.id, l]) || []);\n\n      // Combine data\n      const results = Object.values(grouped)\n        .map((item) => {\n          const listing = listingMap.get(item.listingId);\n          return listing ? {\n            listingId: item.listingId,\n            companyName: listing.name,\n            slug: listing.slug,\n            linkType: item.linkType,\n            clicks: item.clicks\n          } : null;\n        })\n        .filter(Boolean) as Array<{\n          listingId: string;\n          companyName: string;\n          slug: string;\n          linkType: string;\n          clicks: number;\n        }>;\n\n      // Sort by clicks descending\n      return results.sort((a, b) => b.clicks - a.clicks);\n    },\n  });\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1837, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/PageViewTracker.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { usePageViewTracking } from '@/hooks/useAnalytics';\r\n\r\nexport function PageViewTracker() {\r\n  usePageViewTracking();\r\n  return null;\r\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;AAIO,SAAS;IACd,IAAA,uKAAmB;IACnB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 1852, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-border bg-secondary px-3 py-2 text-base text-foreground ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50 md:text-sm transition-colors duration-200\",\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    );\n  },\n);\nInput.displayName = \"Input\";\n\nexport { Input };"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,uOAAgB,CAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,kQAAC;QACC,MAAM;QACN,WAAW,IAAA,6IAAE,EACX,idACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 1880, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/searchUtils.ts"],"sourcesContent":["'use client';\n\n/**\r\n * Known location terms to strip from search queries.\r\n * These are countries, regions, states, and major cities that users might append to searches.\r\n * Organized by type for maintainability.\r\n */\r\n\r\n// Countries (including common variations and abbreviations)\r\nconst COUNTRIES = [\r\n  // UK variations\r\n  \"uk\",\r\n  \"united kingdom\",\r\n  \"great britain\",\r\n  \"britain\",\r\n  \"england\",\r\n  \"scotland\",\r\n  \"wales\",\r\n  \"northern ireland\",\r\n  // US variations\r\n  \"usa\",\r\n  \"united states\",\r\n  \"united states of america\",\r\n  \"us\",\r\n  \"america\",\r\n  // Europe\r\n  \"germany\",\r\n  \"france\",\r\n  \"spain\",\r\n  \"italy\",\r\n  \"netherlands\",\r\n  \"holland\",\r\n  \"belgium\",\r\n  \"austria\",\r\n  \"switzerland\",\r\n  \"portugal\",\r\n  \"poland\",\r\n  \"ireland\",\r\n  \"republic of ireland\",\r\n  \"eire\",\r\n  \"sweden\",\r\n  \"norway\",\r\n  \"denmark\",\r\n  \"finland\",\r\n  \"greece\",\r\n  \"czech republic\",\r\n  \"czechia\",\r\n  \"hungary\",\r\n  \"romania\",\r\n  \"bulgaria\",\r\n  \"croatia\",\r\n  \"slovenia\",\r\n  \"slovakia\",\r\n  \"serbia\",\r\n  \"ukraine\",\r\n  \"russia\",\r\n  \"turkey\",\r\n  \"cyprus\",\r\n  \"malta\",\r\n  \"luxembourg\",\r\n  \"iceland\",\r\n  \"estonia\",\r\n  \"latvia\",\r\n  \"lithuania\",\r\n  \"belarus\",\r\n  // Americas\r\n  \"canada\",\r\n  \"mexico\",\r\n  \"brazil\",\r\n  \"argentina\",\r\n  \"chile\",\r\n  \"colombia\",\r\n  \"peru\",\r\n  \"venezuela\",\r\n  // Asia Pacific\r\n  \"australia\",\r\n  \"new zealand\",\r\n  \"japan\",\r\n  \"china\",\r\n  \"south korea\",\r\n  \"korea\",\r\n  \"india\",\r\n  \"singapore\",\r\n  \"hong kong\",\r\n  \"taiwan\",\r\n  \"thailand\",\r\n  \"malaysia\",\r\n  \"indonesia\",\r\n  \"philippines\",\r\n  \"vietnam\",\r\n  // Middle East & Africa\r\n  \"uae\",\r\n  \"united arab emirates\",\r\n  \"dubai\",\r\n  \"saudi arabia\",\r\n  \"israel\",\r\n  \"south africa\",\r\n  \"egypt\",\r\n  \"morocco\",\r\n  \"nigeria\",\r\n  \"kenya\",\r\n];\r\n\r\n// UK Regions (your 11 regions)\r\nconst UK_REGIONS = [\r\n  \"london\",\r\n  \"south east\",\r\n  \"south west\",\r\n  \"east of england\",\r\n  \"east anglia\",\r\n  \"midlands\",\r\n  \"east midlands\",\r\n  \"west midlands\",\r\n  \"north west\",\r\n  \"north east\",\r\n  \"yorkshire\",\r\n  \"yorkshire and the humber\",\r\n  \"wales\",\r\n  \"scotland\",\r\n  \"northern ireland\",\r\n];\r\n\r\n// US States (all 50 + DC)\r\nconst US_STATES = [\r\n  \"alabama\",\r\n  \"alaska\",\r\n  \"arizona\",\r\n  \"arkansas\",\r\n  \"california\",\r\n  \"colorado\",\r\n  \"connecticut\",\r\n  \"delaware\",\r\n  \"florida\",\r\n  \"georgia\",\r\n  \"hawaii\",\r\n  \"idaho\",\r\n  \"illinois\",\r\n  \"indiana\",\r\n  \"iowa\",\r\n  \"kansas\",\r\n  \"kentucky\",\r\n  \"louisiana\",\r\n  \"maine\",\r\n  \"maryland\",\r\n  \"massachusetts\",\r\n  \"michigan\",\r\n  \"minnesota\",\r\n  \"mississippi\",\r\n  \"missouri\",\r\n  \"montana\",\r\n  \"nebraska\",\r\n  \"nevada\",\r\n  \"new hampshire\",\r\n  \"new jersey\",\r\n  \"new mexico\",\r\n  \"new york\",\r\n  \"north carolina\",\r\n  \"north dakota\",\r\n  \"ohio\",\r\n  \"oklahoma\",\r\n  \"oregon\",\r\n  \"pennsylvania\",\r\n  \"rhode island\",\r\n  \"south carolina\",\r\n  \"south dakota\",\r\n  \"tennessee\",\r\n  \"texas\",\r\n  \"utah\",\r\n  \"vermont\",\r\n  \"virginia\",\r\n  \"washington\",\r\n  \"west virginia\",\r\n  \"wisconsin\",\r\n  \"wyoming\",\r\n  \"district of columbia\",\r\n  \"dc\",\r\n];\r\n\r\n// US State Abbreviations\r\nconst US_STATE_ABBREVS = [\r\n  \"al\",\r\n  \"ak\",\r\n  \"az\",\r\n  \"ar\",\r\n  \"ca\",\r\n  \"co\",\r\n  \"ct\",\r\n  \"de\",\r\n  \"fl\",\r\n  \"ga\",\r\n  \"hi\",\r\n  \"id\",\r\n  \"il\",\r\n  \"in\",\r\n  \"ia\",\r\n  \"ks\",\r\n  \"ky\",\r\n  \"la\",\r\n  \"me\",\r\n  \"md\",\r\n  \"ma\",\r\n  \"mi\",\r\n  \"mn\",\r\n  \"ms\",\r\n  \"mo\",\r\n  \"mt\",\r\n  \"ne\",\r\n  \"nv\",\r\n  \"nh\",\r\n  \"nj\",\r\n  \"nm\",\r\n  \"ny\",\r\n  \"nc\",\r\n  \"nd\",\r\n  \"oh\",\r\n  \"ok\",\r\n  \"or\",\r\n  \"pa\",\r\n  \"ri\",\r\n  \"sc\",\r\n  \"sd\",\r\n  \"tn\",\r\n  \"tx\",\r\n  \"ut\",\r\n  \"vt\",\r\n  \"va\",\r\n  \"wa\",\r\n  \"wv\",\r\n  \"wi\",\r\n  \"wy\",\r\n];\r\n\r\n// Major UK Cities & Towns\r\nconst UK_CITIES = [\r\n  // Major cities\r\n  \"london\",\r\n  \"birmingham\",\r\n  \"manchester\",\r\n  \"leeds\",\r\n  \"liverpool\",\r\n  \"newcastle\",\r\n  \"sheffield\",\r\n  \"bristol\",\r\n  \"nottingham\",\r\n  \"leicester\",\r\n  \"coventry\",\r\n  \"bradford\",\r\n  \"cardiff\",\r\n  \"belfast\",\r\n  \"edinburgh\",\r\n  \"glasgow\",\r\n  // Music industry hubs & significant towns\r\n  \"brighton\",\r\n  \"bournemouth\",\r\n  \"southampton\",\r\n  \"portsmouth\",\r\n  \"reading\",\r\n  \"oxford\",\r\n  \"cambridge\",\r\n  \"norwich\",\r\n  \"hull\",\r\n  \"middlesbrough\",\r\n  \"sunderland\",\r\n  \"wolverhampton\",\r\n  \"derby\",\r\n  \"stoke\",\r\n  \"plymouth\",\r\n  \"exeter\",\r\n  \"bath\",\r\n  \"york\",\r\n  \"chester\",\r\n  \"lancaster\",\r\n  \"blackpool\",\r\n  \"preston\",\r\n  \"bolton\",\r\n  \"wigan\",\r\n  \"stockport\",\r\n  \"rochdale\",\r\n  \"oldham\",\r\n  \"salford\",\r\n  \"warrington\",\r\n  \"crewe\",\r\n  \"shrewsbury\",\r\n  \"telford\",\r\n  \"worcester\",\r\n  \"gloucester\",\r\n  \"cheltenham\",\r\n  \"swindon\",\r\n  \"milton keynes\",\r\n  \"luton\",\r\n  \"watford\",\r\n  \"st albans\",\r\n  \"guildford\",\r\n  \"crawley\",\r\n  \"worthing\",\r\n  \"hastings\",\r\n  \"eastbourne\",\r\n  \"folkestone\",\r\n  \"canterbury\",\r\n  \"maidstone\",\r\n  \"tunbridge wells\",\r\n  \"margate\",\r\n  \"ramsgate\",\r\n  \"dover\",\r\n  \"ashford\",\r\n  \"colchester\",\r\n  \"ipswich\",\r\n  \"peterborough\",\r\n  \"northampton\",\r\n  \"bedford\",\r\n  \"stevenage\",\r\n  \"hemel hempstead\",\r\n  \"harlow\",\r\n  \"basildon\",\r\n  \"southend\",\r\n  \"chelmsford\",\r\n  // Scotland\r\n  \"aberdeen\",\r\n  \"dundee\",\r\n  \"inverness\",\r\n  \"stirling\",\r\n  \"perth\",\r\n  \"falkirk\",\r\n  \"ayr\",\r\n  \"kilmarnock\",\r\n  \"greenock\",\r\n  \"paisley\",\r\n  \"cumbernauld\",\r\n  \"livingston\",\r\n  \"dunfermline\",\r\n  \"kirkcaldy\",\r\n  // Wales\r\n  \"swansea\",\r\n  \"newport\",\r\n  \"wrexham\",\r\n  \"barry\",\r\n  \"neath\",\r\n  \"bridgend\",\r\n  \"llanelli\",\r\n  \"cwmbran\",\r\n  // Northern Ireland\r\n  \"derry\",\r\n  \"londonderry\",\r\n  \"lisburn\",\r\n  \"newtownabbey\",\r\n  \"bangor\",\r\n  \"newry\",\r\n  \"armagh\",\r\n  \"omagh\",\r\n];\r\n\r\n// Major European Cities\r\nconst EUROPEAN_CITIES = [\r\n  // Germany\r\n  \"berlin\",\r\n  \"munich\",\r\n  \"hamburg\",\r\n  \"cologne\",\r\n  \"frankfurt\",\r\n  \"dusseldorf\",\r\n  \"stuttgart\",\r\n  \"dortmund\",\r\n  \"essen\",\r\n  \"leipzig\",\r\n  \"bremen\",\r\n  \"dresden\",\r\n  \"hanover\",\r\n  \"nuremberg\",\r\n  \"duisburg\",\r\n  // France\r\n  \"paris\",\r\n  \"lyon\",\r\n  \"marseille\",\r\n  \"toulouse\",\r\n  \"nice\",\r\n  \"nantes\",\r\n  \"strasbourg\",\r\n  \"montpellier\",\r\n  \"bordeaux\",\r\n  \"lille\",\r\n  \"rennes\",\r\n  // Spain\r\n  \"madrid\",\r\n  \"barcelona\",\r\n  \"valencia\",\r\n  \"seville\",\r\n  \"zaragoza\",\r\n  \"malaga\",\r\n  \"bilbao\",\r\n  \"murcia\",\r\n  // Italy\r\n  \"rome\",\r\n  \"milan\",\r\n  \"naples\",\r\n  \"turin\",\r\n  \"palermo\",\r\n  \"genoa\",\r\n  \"bologna\",\r\n  \"florence\",\r\n  \"venice\",\r\n  // Netherlands\r\n  \"amsterdam\",\r\n  \"rotterdam\",\r\n  \"the hague\",\r\n  \"utrecht\",\r\n  \"eindhoven\",\r\n  \"tilburg\",\r\n  \"groningen\",\r\n  // Belgium\r\n  \"brussels\",\r\n  \"antwerp\",\r\n  \"ghent\",\r\n  \"bruges\",\r\n  \"liege\",\r\n  \"charleroi\",\r\n  // Austria & Switzerland\r\n  \"vienna\",\r\n  \"salzburg\",\r\n  \"innsbruck\",\r\n  \"zurich\",\r\n  \"geneva\",\r\n  \"basel\",\r\n  \"bern\",\r\n  // Scandinavia\r\n  \"stockholm\",\r\n  \"gothenburg\",\r\n  \"malmo\",\r\n  \"oslo\",\r\n  \"bergen\",\r\n  \"copenhagen\",\r\n  \"aarhus\",\r\n  \"helsinki\",\r\n  \"tampere\",\r\n  \"turku\",\r\n  // Eastern Europe\r\n  \"prague\",\r\n  \"budapest\",\r\n  \"warsaw\",\r\n  \"krakow\",\r\n  \"bucharest\",\r\n  \"sofia\",\r\n  \"zagreb\",\r\n  \"belgrade\",\r\n  \"bratislava\",\r\n  \"ljubljana\",\r\n  // Other\r\n  \"dublin\",\r\n  \"cork\",\r\n  \"galway\",\r\n  \"limerick\",\r\n  \"lisbon\",\r\n  \"porto\",\r\n  \"athens\",\r\n  \"thessaloniki\",\r\n  \"reykjavik\",\r\n  \"tallinn\",\r\n  \"riga\",\r\n  \"vilnius\",\r\n  \"minsk\",\r\n  \"kyiv\",\r\n];\r\n\r\n// North American Cities\r\nconst NORTH_AMERICAN_CITIES = [\r\n  // Major US cities\r\n  \"new york\",\r\n  \"los angeles\",\r\n  \"chicago\",\r\n  \"houston\",\r\n  \"phoenix\",\r\n  \"philadelphia\",\r\n  \"san antonio\",\r\n  \"san diego\",\r\n  \"dallas\",\r\n  \"san jose\",\r\n  \"austin\",\r\n  \"jacksonville\",\r\n  \"fort worth\",\r\n  \"columbus\",\r\n  \"charlotte\",\r\n  \"san francisco\",\r\n  \"indianapolis\",\r\n  \"seattle\",\r\n  \"denver\",\r\n  \"washington\",\r\n  \"boston\",\r\n  \"nashville\",\r\n  \"baltimore\",\r\n  \"oklahoma city\",\r\n  \"louisville\",\r\n  \"portland\",\r\n  \"las vegas\",\r\n  \"milwaukee\",\r\n  \"albuquerque\",\r\n  \"tucson\",\r\n  \"fresno\",\r\n  \"sacramento\",\r\n  \"mesa\",\r\n  \"kansas city\",\r\n  \"atlanta\",\r\n  \"miami\",\r\n  \"oakland\",\r\n  \"minneapolis\",\r\n  \"tulsa\",\r\n  \"cleveland\",\r\n  \"new orleans\",\r\n  \"tampa\",\r\n  \"st louis\",\r\n  \"pittsburgh\",\r\n  \"cincinnati\",\r\n  \"orlando\",\r\n  \"detroit\",\r\n  \"memphis\",\r\n  // Canada\r\n  \"toronto\",\r\n  \"montreal\",\r\n  \"vancouver\",\r\n  \"calgary\",\r\n  \"edmonton\",\r\n  \"ottawa\",\r\n  \"winnipeg\",\r\n  \"quebec city\",\r\n  \"hamilton\",\r\n  \"victoria\",\r\n];\r\n\r\n// Other Major World Cities\r\nconst OTHER_CITIES = [\r\n  // Australia & NZ\r\n  \"sydney\",\r\n  \"melbourne\",\r\n  \"brisbane\",\r\n  \"perth\",\r\n  \"adelaide\",\r\n  \"gold coast\",\r\n  \"canberra\",\r\n  \"auckland\",\r\n  \"wellington\",\r\n  \"christchurch\",\r\n  // Asia\r\n  \"tokyo\",\r\n  \"osaka\",\r\n  \"kyoto\",\r\n  \"yokohama\",\r\n  \"seoul\",\r\n  \"busan\",\r\n  \"beijing\",\r\n  \"shanghai\",\r\n  \"hong kong\",\r\n  \"taipei\",\r\n  \"singapore\",\r\n  \"bangkok\",\r\n  \"kuala lumpur\",\r\n  \"jakarta\",\r\n  \"manila\",\r\n  \"mumbai\",\r\n  \"delhi\",\r\n  \"bangalore\",\r\n  \"chennai\",\r\n  \"hyderabad\",\r\n  // Middle East\r\n  \"dubai\",\r\n  \"abu dhabi\",\r\n  \"tel aviv\",\r\n  \"jerusalem\",\r\n  \"riyadh\",\r\n  \"doha\",\r\n  \"kuwait city\",\r\n  // Africa\r\n  \"johannesburg\",\r\n  \"cape town\",\r\n  \"durban\",\r\n  \"cairo\",\r\n  \"lagos\",\r\n  \"nairobi\",\r\n  \"casablanca\",\r\n  // South America\r\n  \"sao paulo\",\r\n  \"rio de janeiro\",\r\n  \"buenos aires\",\r\n  \"bogota\",\r\n  \"lima\",\r\n  \"santiago\",\r\n  \"caracas\",\r\n  \"medellin\",\r\n  \"mexico city\",\r\n  \"guadalajara\",\r\n  \"monterrey\",\r\n];\r\n\r\n// Common Abbreviations & Nicknames\r\nconst ABBREVIATIONS = [\"nyc\", \"la\", \"sf\", \"dc\", \"philly\", \"vegas\", \"nola\", \"chi\", \"atl\", \"brum\", \"manc\"];\r\n\r\n// Combine all into single array\r\nconst KNOWN_LOCATIONS = [\r\n  ...COUNTRIES,\r\n  ...UK_REGIONS,\r\n  ...US_STATES,\r\n  ...US_STATE_ABBREVS,\r\n  ...UK_CITIES,\r\n  ...EUROPEAN_CITIES,\r\n  ...NORTH_AMERICAN_CITIES,\r\n  ...OTHER_CITIES,\r\n  ...ABBREVIATIONS,\r\n];\r\n\r\n// Pre-sort by length (longest first) for efficient matching - only done once at module load\r\nconst SORTED_LOCATIONS = [...new Set(KNOWN_LOCATIONS)].sort((a, b) => b.length - a.length);\r\n\r\n/**\r\n * Strips known location terms from a search query.\r\n * Returns the cleaned search term for better matching.\r\n *\r\n * Example: \"backline london\" -> \"backline\"\r\n * Example: \"studio equipment germany\" -> \"studio equipment\"\r\n * Example: \"PA hire california\" -> \"PA hire\"\r\n */\r\nexport function stripLocationFromQuery(query: string): string {\r\n  if (!query) return \"\";\r\n\r\n  let cleanedQuery = query.toLowerCase().trim();\r\n\r\n  for (const location of SORTED_LOCATIONS) {\r\n    // Check if query ends with the location (most common case)\r\n    if (cleanedQuery.endsWith(` ${location}`)) {\r\n      cleanedQuery = cleanedQuery.slice(0, -(location.length + 1)).trim();\r\n      break; // Only strip one location\r\n    }\r\n    // Also check if it starts with location (less common but handle it)\r\n    if (cleanedQuery.startsWith(`${location} `)) {\r\n      cleanedQuery = cleanedQuery.slice(location.length + 1).trim();\r\n      break;\r\n    }\r\n  }\r\n\r\n  return cleanedQuery;\r\n}\r\n\r\n/**\r\n * Check if a query contains only a location term (no actual search term)\r\n */\r\nexport function isOnlyLocation(query: string): boolean {\r\n  if (!query) return false;\r\n  const normalized = query.toLowerCase().trim();\r\n  return SORTED_LOCATIONS.includes(normalized);\r\n}\r\n\r\n/**\r\n * Extract location from query if present (for potential future use in filtering)\r\n */\r\nexport function extractLocation(query: string): string | null {\r\n  if (!query) return null;\r\n\r\n  const normalized = query.toLowerCase().trim();\r\n\r\n  for (const location of SORTED_LOCATIONS) {\r\n    if (normalized.endsWith(` ${location}`)) {\r\n      return location;\r\n    }\r\n    if (normalized.startsWith(`${location} `)) {\r\n      return location;\r\n    }\r\n    if (normalized === location) {\r\n      return location;\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;AAEA;;;;CAIC,GAED,4DAA4D;AAC5D,MAAM,YAAY;IAChB,gBAAgB;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,gBAAgB;IAChB;IACA;IACA;IACA;IACA;IACA,SAAS;IACT;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,WAAW;IACX;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,eAAe;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,uBAAuB;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,+BAA+B;AAC/B,MAAM,aAAa;IACjB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,0BAA0B;AAC1B,MAAM,YAAY;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,yBAAyB;AACzB,MAAM,mBAAmB;IACvB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,0BAA0B;AAC1B,MAAM,YAAY;IAChB,eAAe;IACf;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,0CAA0C;IAC1C;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,WAAW;IACX;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,QAAQ;IACR;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,mBAAmB;IACnB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,wBAAwB;AACxB,MAAM,kBAAkB;IACtB,UAAU;IACV;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,SAAS;IACT;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,QAAQ;IACR;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,QAAQ;IACR;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,cAAc;IACd;IACA;IACA;IACA;IACA;IACA;IACA;IACA,UAAU;IACV;IACA;IACA;IACA;IACA;IACA;IACA,wBAAwB;IACxB;IACA;IACA;IACA;IACA;IACA;IACA;IACA,cAAc;IACd;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,iBAAiB;IACjB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,QAAQ;IACR;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,wBAAwB;AACxB,MAAM,wBAAwB;IAC5B,kBAAkB;IAClB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,SAAS;IACT;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,2BAA2B;AAC3B,MAAM,eAAe;IACnB,iBAAiB;IACjB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,OAAO;IACP;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,cAAc;IACd;IACA;IACA;IACA;IACA;IACA;IACA;IACA,SAAS;IACT;IACA;IACA;IACA;IACA;IACA;IACA;IACA,gBAAgB;IAChB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,mCAAmC;AACnC,MAAM,gBAAgB;IAAC;IAAO;IAAM;IAAM;IAAM;IAAU;IAAS;IAAQ;IAAO;IAAO;IAAQ;CAAO;AAExG,gCAAgC;AAChC,MAAM,kBAAkB;OACnB;OACA;OACA;OACA;OACA;OACA;OACA;OACA;OACA;CACJ;AAED,4FAA4F;AAC5F,MAAM,mBAAmB;OAAI,IAAI,IAAI;CAAiB,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,MAAM,GAAG,EAAE,MAAM;AAUlF,SAAS,uBAAuB,KAAa;IAClD,IAAI,CAAC,OAAO,OAAO;IAEnB,IAAI,eAAe,MAAM,WAAW,GAAG,IAAI;IAE3C,KAAK,MAAM,YAAY,iBAAkB;QACvC,2DAA2D;QAC3D,IAAI,aAAa,QAAQ,CAAC,CAAC,CAAC,EAAE,UAAU,GAAG;YACzC,eAAe,aAAa,KAAK,CAAC,GAAG,CAAC,CAAC,SAAS,MAAM,GAAG,CAAC,GAAG,IAAI;YACjE,OAAO,0BAA0B;QACnC;QACA,oEAAoE;QACpE,IAAI,aAAa,UAAU,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG;YAC3C,eAAe,aAAa,KAAK,CAAC,SAAS,MAAM,GAAG,GAAG,IAAI;YAC3D;QACF;IACF;IAEA,OAAO;AACT;AAKO,SAAS,eAAe,KAAa;IAC1C,IAAI,CAAC,OAAO,OAAO;IACnB,MAAM,aAAa,MAAM,WAAW,GAAG,IAAI;IAC3C,OAAO,iBAAiB,QAAQ,CAAC;AACnC;AAKO,SAAS,gBAAgB,KAAa;IAC3C,IAAI,CAAC,OAAO,OAAO;IAEnB,MAAM,aAAa,MAAM,WAAW,GAAG,IAAI;IAE3C,KAAK,MAAM,YAAY,iBAAkB;QACvC,IAAI,WAAW,QAAQ,CAAC,CAAC,CAAC,EAAE,UAAU,GAAG;YACvC,OAAO;QACT;QACA,IAAI,WAAW,UAAU,CAAC,GAAG,SAAS,CAAC,CAAC,GAAG;YACzC,OAAO;QACT;QACA,IAAI,eAAe,UAAU;YAC3B,OAAO;QACT;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 2539, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useSearchAutocomplete.ts"],"sourcesContent":["'use client';\n\nimport { useQuery } from \"@tanstack/react-query\";\nimport { supabase } from \"@/integrations/supabase/client\";\nimport { Category } from \"@/types/database\";\nimport { stripLocationFromQuery, isOnlyLocation } from \"@/lib/searchUtils\";\n\n// =============================================================================\n// SECURITY NOTE: Uses listings_public view (no contact data)\n// =============================================================================\n\n// Extended listing type with venue fields for URL building\nexport interface SearchListing {\n  id: string;\n  name: string;\n  slug: string;\n  country: string | null;\n  town_city: string | null;\n  venue_type: string | null;\n  region_slug: string | null;\n}\n\ninterface SearchAutocompleteResult {\n  categories: Category[];\n  listings: SearchListing[];\n}\n\nexport function useSearchAutocomplete(query: string) {\n  return useQuery({\n    queryKey: [\"search-autocomplete\", query],\n    queryFn: async (): Promise<SearchAutocompleteResult> => {\n      if (!query || query.length < 2) {\n        return { categories: [], listings: [] };\n      }\n\n      // Strip location terms from the query for better matching\n      const strippedQuery = stripLocationFromQuery(query);\n\n      // If query is only a location with no search term, use empty results\n      if (!strippedQuery || isOnlyLocation(query)) {\n        return { categories: [], listings: [] };\n      }\n\n      const searchTerm = strippedQuery.toLowerCase();\n\n      // Search categories by name AND search_terms - fetch all and filter in JS\n      const { data: allCategories, error: catError } = await supabase\n        .from(\"categories\")\n        .select(\"*\");\n\n      if (catError) throw catError;\n\n      // Filter categories that match name OR any search_term contains the search term\n      // Only include child categories (those with a parent_id)\n      // Exception: Include \"Venues\" parent category if search_terms match (for arena, concert hall, etc.)\n      const categories = (allCategories || [])\n        .filter((cat) => {\n          const nameMatch = cat.name.toLowerCase().includes(searchTerm);\n          \n          // Parse search_terms if it's a string\n          let searchTermsArray: string[] = [];\n          if (typeof cat.search_terms === 'string') {\n            try {\n              searchTermsArray = JSON.parse(cat.search_terms);\n            } catch {\n              searchTermsArray = [];\n            }\n          } else if (Array.isArray(cat.search_terms)) {\n            searchTermsArray = cat.search_terms;\n          }\n          \n          const searchTermsMatch = searchTermsArray.some((term: string) => {\n            const lowerTerm = term.toLowerCase().trim();\n            return lowerTerm.includes(searchTerm) || searchTerm.includes(lowerTerm);\n          });\n\n          // For parent categories, only include Venues and only if search_terms match\n          if (!cat.parent_id) {\n            const isVenues = cat.slug === \"venues\" || cat.url_slug === \"venues\";\n            return isVenues && searchTermsMatch;\n          }\n\n          // For child categories, include if name OR search_terms match\n          return nameMatch || searchTermsMatch;\n        })\n        // Sort by relevance: name matches first, then alphabetically\n        .sort((a, b) => {\n          const aNameMatch = a.name.toLowerCase().includes(searchTerm);\n          const bNameMatch = b.name.toLowerCase().includes(searchTerm);\n\n          // Name matches come first\n          if (aNameMatch && !bNameMatch) return -1;\n          if (!aNameMatch && bNameMatch) return 1;\n\n          // Within same match type, sort alphabetically\n          return a.name.localeCompare(b.name);\n        });\n\n      // Search listings using listings_public view\n      const { data: listings, error: listError } = await supabase\n        .from(\"listings_public\")\n        .select(\n          `\n          id,\n          name,\n          slug,\n          country,\n          town_city,\n          venue_type,\n          region_id\n        `,\n        )\n        .ilike(\"name\", `%${searchTerm}%`);\n\n      if (listError) throw listError;\n\n      // Get region slugs for listings that have region_id\n      const regionIds = [...new Set((listings || []).filter((l) => l.region_id).map((l) => l.region_id))] as number[];\n      let regionMap: Record<number, string> = {};\n\n      if (regionIds.length > 0) {\n        const { data: regions } = await supabase.from(\"regions\").select(\"id, region_slug\").in(\"id\", regionIds);\n\n        if (regions) {\n          regionMap = Object.fromEntries(regions.map((r) => [r.id, r.region_slug]));\n        }\n      }\n\n      // Add region_slug to listings\n      const flattenedListings = (listings || []).map((l) => ({\n        id: l.id,\n        name: l.name,\n        slug: l.slug,\n        country: l.country,\n        town_city: l.town_city,\n        venue_type: l.venue_type,\n        region_slug: l.region_id ? regionMap[l.region_id] || null : null,\n      })) as SearchListing[];\n\n      return {\n        categories: categories as Category[],\n        listings: flattenedListings,\n      };\n    },\n    enabled: query.length >= 2,\n    staleTime: 1000 * 60, // 1 minute\n  });\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2661, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/hooks/useDebounce.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from \"react\";\r\n\r\nexport function useDebounce<T>(value: T, delay: number): T {\r\n  const [debouncedValue, setDebouncedValue] = useState<T>(value);\r\n\r\n  useEffect(() => {\r\n    const timer = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAIO,SAAS,YAAe,KAAQ,EAAE,KAAa;IACpD,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,qOAAQ,EAAI;IAExD,IAAA,sOAAS,EAAC;QACR,MAAM,QAAQ,WAAW;YACvB,kBAAkB;QACpB,GAAG;QAEH,OAAO;YACL,aAAa;QACf;IACF,GAAG;QAAC;QAAO;KAAM;IAEjB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 2687, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/countryAliases.ts"],"sourcesContent":["// Canonical slug  display name mapping\nexport const COUNTRY_ALIASES: Record<string, string> = {\n  'uk': 'United Kingdom',\n  'usa': 'United States',\n  'us': 'United States',\n};\n\n// Display name  preferred slug mapping\nexport const COUNTRY_PREFERRED_SLUGS: Record<string, string> = {\n  'United Kingdom': 'uk',\n  'United States': 'usa',\n  'USA': 'usa',\n};\n\n// Convert country name to URL slug (using preferred short form if available)\nexport function countryToSlug(country: string): string {\n  if (COUNTRY_PREFERRED_SLUGS[country]) {\n    return COUNTRY_PREFERRED_SLUGS[country];\n  }\n  return country\n    .toLowerCase()\n    .replace(/[^a-z0-9]+/g, '-')\n    .replace(/^-|-$/g, '');\n}\n\n// Convert URL slug to country name (handling aliases)\nexport function slugToCountry(slug: string, knownCountries: string[]): string | null {\n  // Check aliases first\n  const normalizedSlug = slug.toLowerCase();\n  if (COUNTRY_ALIASES[normalizedSlug]) {\n    return COUNTRY_ALIASES[normalizedSlug];\n  }\n  \n  // Fall back to matching against known countries\n  return knownCountries.find(c => \n    c.toLowerCase().replace(/[^a-z0-9]+/g, '-').replace(/^-|-$/g, '') === normalizedSlug\n  ) || null;\n}\n"],"names":[],"mappings":"AAAA,wCAAwC;;;;;;;;;;;AACjC,MAAM,kBAA0C;IACrD,MAAM;IACN,OAAO;IACP,MAAM;AACR;AAGO,MAAM,0BAAkD;IAC7D,kBAAkB;IAClB,iBAAiB;IACjB,OAAO;AACT;AAGO,SAAS,cAAc,OAAe;IAC3C,IAAI,uBAAuB,CAAC,QAAQ,EAAE;QACpC,OAAO,uBAAuB,CAAC,QAAQ;IACzC;IACA,OAAO,QACJ,WAAW,GACX,OAAO,CAAC,eAAe,KACvB,OAAO,CAAC,UAAU;AACvB;AAGO,SAAS,cAAc,IAAY,EAAE,cAAwB;IAClE,sBAAsB;IACtB,MAAM,iBAAiB,KAAK,WAAW;IACvC,IAAI,eAAe,CAAC,eAAe,EAAE;QACnC,OAAO,eAAe,CAAC,eAAe;IACxC;IAEA,gDAAgD;IAChD,OAAO,eAAe,IAAI,CAAC,CAAA,IACzB,EAAE,WAAW,GAAG,OAAO,CAAC,eAAe,KAAK,OAAO,CAAC,UAAU,QAAQ,mBACnE;AACP","debugId":null}},
    {"offset": {"line": 2727, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/continents.ts"],"sourcesContent":["// Continent configuration and country mappings\n\nexport const CONTINENT_COUNTRIES: Record<string, string[]> = {\n  Europe: [\n    // Western Europe\n    \"United Kingdom\",\n    \"Germany\",\n    \"France\",\n    \"Spain\",\n    \"Italy\",\n    \"The Netherlands\",\n    \"Belgium\",\n    \"Austria\",\n    \"Switzerland\",\n    \"Ireland\",\n    \"Portugal\",\n    \"Luxembourg\",\n    \"Gibraltar\",\n    // Northern Europe\n    \"Sweden\",\n    \"Norway\",\n    \"Denmark\",\n    \"Finland\",\n    \"Iceland\",\n    // Eastern Europe\n    \"Poland\",\n    \"Czech Republic\",\n    \"Slovak Republic\",\n    \"Slovakia\",\n    \"Hungary\",\n    \"Romania\",\n    \"Bulgaria\",\n    \"Russia\",\n    \"Ukraine\",\n    \"Belarus\",\n    \"Moldova\",\n    // Southern Europe\n    \"Greece\",\n    \"Croatia\",\n    \"Slovenia\",\n    \"Serbia\",\n    \"Bosnia and Herzegovina\",\n    \"Bosnia\",\n    \"Albania\",\n    \"North Macedonia\",\n    \"Macedonia\",\n    \"Montenegro\",\n    \"Kosovo\",\n    // Baltic States\n    \"Estonia\",\n    \"Latvia\",\n    \"Lithuania\",\n    // Other\n    \"Malta\",\n    \"Cyprus\",\n    \"Georgia\",\n    \"Armenia\",\n    \"Azerbaijan\",\n    \"Turkey\",\n    \"Andorra\",\n    \"Monaco\",\n    \"San Marino\",\n    \"Vatican City\",\n    \"Liechtenstein\",\n  ],\n  \"North America\": [\n    \"United States\",\n    \"Canada\",\n    \"Mexico\",\n    \"USA\",\n    \"US\",\n    \"Bahamas\",\n    \"Jamaica\",\n    \"Trinidad and Tobago\",\n    \"Barbados\",\n    \"Dominican Republic\",\n    \"Cuba\",\n    \"Haiti\",\n    \"Costa Rica\",\n    \"Panama\",\n    \"Guatemala\",\n    \"Honduras\",\n    \"El Salvador\",\n    \"Nicaragua\",\n    \"Belize\",\n    \"Puerto Rico\",\n    \"Cayman Islands\",\n    \"Bermuda\",\n  ],\n  Asia: [\n    // East Asia\n    \"Japan\",\n    \"South Korea\",\n    \"China\",\n    \"Taiwan\",\n    \"Hong Kong\",\n    \"Macau\",\n    \"Mongolia\",\n    // Southeast Asia\n    \"Singapore\",\n    \"Thailand\",\n    \"Malaysia\",\n    \"Indonesia\",\n    \"Philippines\",\n    \"Vietnam\",\n    \"Cambodia\",\n    \"Laos\",\n    \"Myanmar\",\n    \"Brunei\",\n    // South Asia\n    \"India\",\n    \"Pakistan\",\n    \"Bangladesh\",\n    \"Sri Lanka\",\n    \"Nepal\",\n    \"Bhutan\",\n    \"Maldives\",\n    // Central Asia\n    \"Kazakhstan\",\n    \"Uzbekistan\",\n    \"Turkmenistan\",\n    \"Kyrgyzstan\",\n    \"Tajikistan\",\n    // Middle East\n    \"United Arab Emirates\",\n    \"UAE\",\n    \"Israel\",\n    \"Saudi Arabia\",\n    \"Qatar\",\n    \"Kuwait\",\n    \"Bahrain\",\n    \"Oman\",\n    \"Jordan\",\n    \"Lebanon\",\n    \"Iraq\",\n    \"Iran\",\n    \"Yemen\",\n    \"Syria\",\n  ],\n  \"South America\": [\n    \"Brazil\",\n    \"Argentina\",\n    \"Chile\",\n    \"Colombia\",\n    \"Peru\",\n    \"Venezuela\",\n    \"Ecuador\",\n    \"Uruguay\",\n    \"Paraguay\",\n    \"Bolivia\",\n    \"Guyana\",\n    \"Suriname\",\n    \"French Guiana\",\n  ],\n  Oceania: [\n    \"Australia\",\n    \"New Zealand\",\n    \"Fiji\",\n    \"Papua New Guinea\",\n    \"Solomon Islands\",\n    \"Vanuatu\",\n    \"Samoa\",\n    \"Tonga\",\n    \"Micronesia\",\n    \"Palau\",\n    \"Marshall Islands\",\n    \"Kiribati\",\n    \"Nauru\",\n    \"Tuvalu\",\n  ],\n  Africa: [\n    // Northern Africa\n    \"Egypt\",\n    \"Morocco\",\n    \"Tunisia\",\n    \"Algeria\",\n    \"Libya\",\n    \"Sudan\",\n    // Western Africa\n    \"Nigeria\",\n    \"Ghana\",\n    \"Senegal\",\n    \"Ivory Coast\",\n    \"Mali\",\n    \"Burkina Faso\",\n    \"Guinea\",\n    \"Benin\",\n    \"Togo\",\n    \"Sierra Leone\",\n    \"Liberia\",\n    \"Mauritania\",\n    \"Niger\",\n    \"Gambia\",\n    \"Guinea-Bissau\",\n    \"Cape Verde\",\n    // Eastern Africa\n    \"Kenya\",\n    \"Ethiopia\",\n    \"Tanzania\",\n    \"Uganda\",\n    \"Rwanda\",\n    \"Burundi\",\n    \"Somalia\",\n    \"Djibouti\",\n    \"Eritrea\",\n    \"South Sudan\",\n    \"Seychelles\",\n    \"Mauritius\",\n    // Southern Africa\n    \"South Africa\",\n    \"Namibia\",\n    \"Botswana\",\n    \"Zimbabwe\",\n    \"Zambia\",\n    \"Mozambique\",\n    \"Angola\",\n    \"Malawi\",\n    \"Lesotho\",\n    \"Eswatini\",\n    \"Madagascar\",\n    \"Comoros\",\n    // Central Africa\n    \"Democratic Republic of the Congo\",\n    \"Republic of the Congo\",\n    \"Cameroon\",\n    \"Central African Republic\",\n    \"Chad\",\n    \"Gabon\",\n    \"Equatorial Guinea\",\n    \"Sao Tome and Principe\",\n  ],\n};\n\nexport const CONTINENT_COLORS: Record<string, string> = {\n  Europe: \"#ef4444\", // Red\n  \"North America\": \"#f97316\", // Orange\n  \"South America\": \"#eab308\", // Gold\n  Asia: \"#22c55e\", // Green\n  Africa: \"#14b8a6\", // Teal\n  Oceania: \"#0ea5e9\", // Sky blue\n};\n\nexport const CONTINENT_ORDER = [\"Europe\", \"North America\", \"Asia\", \"South America\", \"Oceania\", \"Africa\"];\n\nexport function getContinent(country: string): string | undefined {\n  for (const [continent, countries] of Object.entries(CONTINENT_COUNTRIES)) {\n    if (countries.includes(country)) return continent;\n  }\n  return undefined;\n}\n\nexport function getContinentCountries(continent: string): string[] {\n  return CONTINENT_COUNTRIES[continent] || [];\n}\n\nexport function getContinentSlug(continent: string): string {\n  return continent.toLowerCase().replace(/\\s+/g, \"-\");\n}\n\nexport function getContinentFromSlug(slug: string): string | undefined {\n  const normalized = slug.toLowerCase();\n  return CONTINENT_ORDER.find((c) => getContinentSlug(c) === normalized);\n}\n"],"names":[],"mappings":"AAAA,+CAA+C;;;;;;;;;;;;;;;;;AAExC,MAAM,sBAAgD;IAC3D,QAAQ;QACN,iBAAiB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,kBAAkB;QAClB;QACA;QACA;QACA;QACA;QACA,iBAAiB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,kBAAkB;QAClB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,gBAAgB;QAChB;QACA;QACA;QACA,QAAQ;QACR;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,iBAAiB;QACf;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,MAAM;QACJ,YAAY;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,aAAa;QACb;QACA;QACA;QACA;QACA;QACA;QACA;QACA,eAAe;QACf;QACA;QACA;QACA;QACA;QACA,cAAc;QACd;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,iBAAiB;QACf;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,SAAS;QACP;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,QAAQ;QACN,kBAAkB;QAClB;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,kBAAkB;QAClB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB;QACjB;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AACH;AAEO,MAAM,mBAA2C;IACtD,QAAQ;IACR,iBAAiB;IACjB,iBAAiB;IACjB,MAAM;IACN,QAAQ;IACR,SAAS;AACX;AAEO,MAAM,kBAAkB;IAAC;IAAU;IAAiB;IAAQ;IAAiB;IAAW;CAAS;AAEjG,SAAS,aAAa,OAAe;IAC1C,KAAK,MAAM,CAAC,WAAW,UAAU,IAAI,OAAO,OAAO,CAAC,qBAAsB;QACxE,IAAI,UAAU,QAAQ,CAAC,UAAU,OAAO;IAC1C;IACA,OAAO;AACT;AAEO,SAAS,sBAAsB,SAAiB;IACrD,OAAO,mBAAmB,CAAC,UAAU,IAAI,EAAE;AAC7C;AAEO,SAAS,iBAAiB,SAAiB;IAChD,OAAO,UAAU,WAAW,GAAG,OAAO,CAAC,QAAQ;AACjD;AAEO,SAAS,qBAAqB,IAAY;IAC/C,MAAM,aAAa,KAAK,WAAW;IACnC,OAAO,gBAAgB,IAAI,CAAC,CAAC,IAAM,iBAAiB,OAAO;AAC7D","debugId":null}},
    {"offset": {"line": 3010, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/cityRegions.ts"],"sourcesContent":["/**\n * City-Regions: Regions that contain only one city with the same name.\n * These are treated as cities, not regions, to avoid redundant URLs like /london/london.\n *\n * For these regions:\n * - /uk/london is the city page (not region page)\n * - /uk/london/london redirects to /uk/london\n * - Breadcrumbs show: UK > London (not UK > London > London)\n *\n * Proximity Configuration:\n * - City-regions use larger proximity radius (metropolitan areas)\n * - Regular cities use smaller default radius\n * - Proximity shows venues within radius, not just exact city match\n */\n\n// Default proximity radii (in kilometers)\nexport const DEFAULT_CITY_PROXIMITY_KM = 25; // Regular cities (Manchester, Birmingham)\nexport const DEFAULT_CITY_REGION_PROXIMITY_KM = 40; // City-regions (London, NYC)\n\ninterface CityRegionConfig {\n  country: string;\n  countryAliases: string[];\n  region: string;\n  regionSlug: string;\n  proximityRadiusKm?: number; // Optional override - uses DEFAULT_CITY_REGION_PROXIMITY_KM if not set\n}\n\nconst CITY_REGIONS: CityRegionConfig[] = [\n  {\n    country: \"United Kingdom\",\n    countryAliases: [\"uk\", \"united kingdom\"],\n    region: \"London\",\n    regionSlug: \"london\",\n  },\n  {\n    country: \"United States\",\n    countryAliases: [\"usa\", \"united states\", \"us\"],\n    region: \"New York\",\n    regionSlug: \"new-york\",\n    proximityRadiusKm: 50, // Large metro area - includes Newark, Jersey City, parts of Long Island\n  },\n];\n\n/**\n * Check if a region is a \"city-region\" - a region that should be treated as a city\n * because it only contains one city with the same name.\n *\n * @param country - Country name or slug (e.g., \"United Kingdom\", \"uk\")\n * @param region - Region name or slug (e.g., \"London\", \"london\")\n * @returns true if this region should be treated as a city\n */\nexport function isCityRegion(country: string | null, region: string | null): boolean {\n  if (!country || !region) return false;\n\n  const normalizedCountry = country.toLowerCase();\n  const normalizedRegion = region.toLowerCase();\n\n  return CITY_REGIONS.some((config) => {\n    const countryMatches =\n      config.country.toLowerCase() === normalizedCountry || config.countryAliases.includes(normalizedCountry);\n\n    const regionMatches = config.region.toLowerCase() === normalizedRegion || config.regionSlug === normalizedRegion;\n\n    return countryMatches && regionMatches;\n  });\n}\n\n/**\n * Get the city-region configuration for a given country/region combination\n */\nexport function getCityRegionConfig(country: string | null, region: string | null): CityRegionConfig | null {\n  if (!country || !region) return null;\n\n  const normalizedCountry = country.toLowerCase();\n  const normalizedRegion = region.toLowerCase();\n\n  return (\n    CITY_REGIONS.find((config) => {\n      const countryMatches =\n        config.country.toLowerCase() === normalizedCountry || config.countryAliases.includes(normalizedCountry);\n\n      const regionMatches = config.region.toLowerCase() === normalizedRegion || config.regionSlug === normalizedRegion;\n\n      return countryMatches && regionMatches;\n    }) || null\n  );\n}\n\n/**\n * Get the display name for a city-region (always returns the city name)\n */\nexport function getCityRegionDisplayName(country: string | null, region: string | null): string | null {\n  const config = getCityRegionConfig(country, region);\n  return config?.region || null;\n}\n\n/**\n * Get the proximity radius for a city-region\n * Returns the configured radius or default if not specified\n */\nexport function getCityRegionProximityRadius(country: string | null, region: string | null): number {\n  const config = getCityRegionConfig(country, region);\n  return config?.proximityRadiusKm || DEFAULT_CITY_REGION_PROXIMITY_KM;\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;CAaC,GAED,0CAA0C;;;;;;;;;;;;;;;AACnC,MAAM,4BAA4B,IAAI,0CAA0C;AAChF,MAAM,mCAAmC,IAAI,6BAA6B;AAUjF,MAAM,eAAmC;IACvC;QACE,SAAS;QACT,gBAAgB;YAAC;YAAM;SAAiB;QACxC,QAAQ;QACR,YAAY;IACd;IACA;QACE,SAAS;QACT,gBAAgB;YAAC;YAAO;YAAiB;SAAK;QAC9C,QAAQ;QACR,YAAY;QACZ,mBAAmB;IACrB;CACD;AAUM,SAAS,aAAa,OAAsB,EAAE,MAAqB;IACxE,IAAI,CAAC,WAAW,CAAC,QAAQ,OAAO;IAEhC,MAAM,oBAAoB,QAAQ,WAAW;IAC7C,MAAM,mBAAmB,OAAO,WAAW;IAE3C,OAAO,aAAa,IAAI,CAAC,CAAC;QACxB,MAAM,iBACJ,OAAO,OAAO,CAAC,WAAW,OAAO,qBAAqB,OAAO,cAAc,CAAC,QAAQ,CAAC;QAEvF,MAAM,gBAAgB,OAAO,MAAM,CAAC,WAAW,OAAO,oBAAoB,OAAO,UAAU,KAAK;QAEhG,OAAO,kBAAkB;IAC3B;AACF;AAKO,SAAS,oBAAoB,OAAsB,EAAE,MAAqB;IAC/E,IAAI,CAAC,WAAW,CAAC,QAAQ,OAAO;IAEhC,MAAM,oBAAoB,QAAQ,WAAW;IAC7C,MAAM,mBAAmB,OAAO,WAAW;IAE3C,OACE,aAAa,IAAI,CAAC,CAAC;QACjB,MAAM,iBACJ,OAAO,OAAO,CAAC,WAAW,OAAO,qBAAqB,OAAO,cAAc,CAAC,QAAQ,CAAC;QAEvF,MAAM,gBAAgB,OAAO,MAAM,CAAC,WAAW,OAAO,oBAAoB,OAAO,UAAU,KAAK;QAEhG,OAAO,kBAAkB;IAC3B,MAAM;AAEV;AAKO,SAAS,yBAAyB,OAAsB,EAAE,MAAqB;IACpF,MAAM,SAAS,oBAAoB,SAAS;IAC5C,OAAO,QAAQ,UAAU;AAC3B;AAMO,SAAS,6BAA6B,OAAsB,EAAE,MAAqB;IACxF,MAAM,SAAS,oBAAoB,SAAS;IAC5C,OAAO,QAAQ,qBAAqB;AACtC","debugId":null}},
    {"offset": {"line": 3094, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/venueUrlUtils.ts"],"sourcesContent":["'use client';\n\nimport { CONTINENT_COUNTRIES, getContinentSlug } from './continents';\r\nimport { countryToSlug, slugToCountry } from './countryAliases';\r\nimport { isCityRegion } from './cityRegions';\r\n\r\n// Convert display name to URL slug\r\nexport function toSlug(name: string): string {\r\n  return name\r\n    .toLowerCase()\r\n    .replace(/[^a-z0-9]+/g, '-')\r\n    .replace(/^-|-$/g, '');\r\n}\r\n\r\n// Convert slug back to display name by matching against known values\r\nexport function fromSlug(slug: string, knownValues: string[]): string | null {\r\n  const normalized = slug.toLowerCase();\r\n  return knownValues.find(v => toSlug(v) === normalized) || null;\r\n}\r\n\r\n// Convert country slug back to display name (with alias support)\r\nexport function fromCountrySlug(slug: string, knownCountries: string[]): string | null {\r\n  return slugToCountry(slug, knownCountries);\r\n}\r\n\r\n// Get continent from country\r\nexport function getContinentForCountry(country: string): string | null {\r\n  for (const [continent, countries] of Object.entries(CONTINENT_COUNTRIES)) {\r\n    if (countries.includes(country)) {\r\n      return continent;\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\n// Countries that have regions configured (normalized names)\r\nexport const COUNTRIES_WITH_REGIONS = ['UK', 'United Kingdom', 'USA', 'United States'];\r\n\r\nexport function countryHasRegions(country: string): boolean {\r\n  return COUNTRIES_WITH_REGIONS.some(c => \r\n    c.toLowerCase() === country.toLowerCase()\r\n  );\r\n}\r\n\r\n// Build venue URL from location parameters\r\n// For city-regions (London, New York), the region IS the city - don't add city segment\r\nexport function buildVenueUrl(params: {\r\n  continent?: string | null;\r\n  country?: string | null;\r\n  regionSlug?: string | null;\r\n  city?: string | null;\r\n}): string {\r\n  const parts = ['/venues'];\r\n  \r\n  if (params.continent) {\r\n    parts.push(getContinentSlug(params.continent));\r\n    \r\n    if (params.country) {\r\n      parts.push(countryToSlug(params.country));\r\n      \r\n      if (params.regionSlug) {\r\n        parts.push(params.regionSlug);\r\n        \r\n        // For city-regions, skip the city segment (region IS the city)\r\n        if (!isCityRegion(params.country, params.regionSlug) && params.city) {\r\n          parts.push(toSlug(params.city));\r\n        }\r\n      } else if (params.city) {\r\n        parts.push(toSlug(params.city));\r\n      }\r\n    }\r\n  }\r\n  \r\n  return parts.join('/');\r\n}\r\n\r\n// Re-export for convenience\r\nexport { isCityRegion } from './cityRegions';\r\nexport { countryToSlug } from './countryAliases';\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAJA;;;;AAOO,SAAS,OAAO,IAAY;IACjC,OAAO,KACJ,WAAW,GACX,OAAO,CAAC,eAAe,KACvB,OAAO,CAAC,UAAU;AACvB;AAGO,SAAS,SAAS,IAAY,EAAE,WAAqB;IAC1D,MAAM,aAAa,KAAK,WAAW;IACnC,OAAO,YAAY,IAAI,CAAC,CAAA,IAAK,OAAO,OAAO,eAAe;AAC5D;AAGO,SAAS,gBAAgB,IAAY,EAAE,cAAwB;IACpE,OAAO,IAAA,iKAAa,EAAC,MAAM;AAC7B;AAGO,SAAS,uBAAuB,OAAe;IACpD,KAAK,MAAM,CAAC,WAAW,UAAU,IAAI,OAAO,OAAO,CAAC,mKAAmB,EAAG;QACxE,IAAI,UAAU,QAAQ,CAAC,UAAU;YAC/B,OAAO;QACT;IACF;IACA,OAAO;AACT;AAGO,MAAM,yBAAyB;IAAC;IAAM;IAAkB;IAAO;CAAgB;AAE/E,SAAS,kBAAkB,OAAe;IAC/C,OAAO,uBAAuB,IAAI,CAAC,CAAA,IACjC,EAAE,WAAW,OAAO,QAAQ,WAAW;AAE3C;AAIO,SAAS,cAAc,MAK7B;IACC,MAAM,QAAQ;QAAC;KAAU;IAEzB,IAAI,OAAO,SAAS,EAAE;QACpB,MAAM,IAAI,CAAC,IAAA,gKAAgB,EAAC,OAAO,SAAS;QAE5C,IAAI,OAAO,OAAO,EAAE;YAClB,MAAM,IAAI,CAAC,IAAA,iKAAa,EAAC,OAAO,OAAO;YAEvC,IAAI,OAAO,UAAU,EAAE;gBACrB,MAAM,IAAI,CAAC,OAAO,UAAU;gBAE5B,+DAA+D;gBAC/D,IAAI,CAAC,IAAA,6JAAY,EAAC,OAAO,OAAO,EAAE,OAAO,UAAU,KAAK,OAAO,IAAI,EAAE;oBACnE,MAAM,IAAI,CAAC,OAAO,OAAO,IAAI;gBAC/B;YACF,OAAO,IAAI,OAAO,IAAI,EAAE;gBACtB,MAAM,IAAI,CAAC,OAAO,OAAO,IAAI;YAC/B;QACF;IACF;IAEA,OAAO,MAAM,IAAI,CAAC;AACpB","debugId":null}},
    {"offset": {"line": 3171, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/lib/buildVenueUrl.ts"],"sourcesContent":["'use client';\n\nimport { countryToSlug } from \"./countryAliases\";\r\nimport { getContinentSlug } from \"./continents\";\r\nimport { getContinentForCountry, toSlug } from \"./venueUrlUtils\";\r\nimport { isCityRegion } from \"./cityRegions\";\r\n\r\ninterface VenueUrlParams {\r\n  slug: string;\r\n  country: string | null;\r\n  regionSlug: string | null;\r\n  city: string | null;\r\n}\r\n\r\n/**\r\n * Builds the full SEO-friendly URL path for a venue\r\n * Example output: /venues/europe/uk/south-east/london/o2-arena\r\n *\r\n * For city-regions (London, New York), skip the redundant city segment:\r\n * /venues/europe/uk/london/o2-arena (not /venues/europe/uk/london/london/o2-arena)\r\n */\r\nexport function buildVenueProfileUrl(venue: VenueUrlParams): string {\r\n  const { slug, country, regionSlug, city } = venue;\r\n\r\n  // Fallback to basic listing URL if we don't have location data\r\n  if (!country) {\r\n    return `/listing/${slug}`;\r\n  }\r\n\r\n  let continent = getContinentForCountry(country);\r\n\r\n  // Fallback: If country not in mapping, try to infer continent from country name patterns\r\n  if (!continent) {\r\n    console.warn(`Country \"${country}\" not found in continent mapping, using fallback`);\r\n\r\n    // Try to infer from common patterns or default to listing URL\r\n    const countryLower = country.toLowerCase();\r\n    if (countryLower.includes(\"island\") || countryLower.includes(\"pacific\")) {\r\n      continent = \"Oceania\";\r\n    } else if (\r\n      countryLower.includes(\"africa\") ||\r\n      [\"nigeria\", \"ghana\", \"kenya\", \"egypt\"].some((c) => countryLower.includes(c))\r\n    ) {\r\n      continent = \"Africa\";\r\n    } else if (\r\n      [\"arab\", \"dubai\", \"saudi\", \"qatar\", \"israel\", \"jordan\", \"lebanon\"].some((c) => countryLower.includes(c))\r\n    ) {\r\n      continent = \"Asia\";\r\n    } else {\r\n      // If we really can't determine, fall back to listing URL\r\n      return `/listing/${slug}`;\r\n    }\r\n  }\r\n\r\n  const parts = [\"/venues\", getContinentSlug(continent), countryToSlug(country)];\r\n\r\n  // Add region if present\r\n  if (regionSlug) {\r\n    parts.push(regionSlug);\r\n\r\n    // For city-regions (London, New York), the region IS the city - don't add city segment\r\n    // This prevents URLs like /uk/london/london/venue-name\r\n    if (!isCityRegion(country, regionSlug)) {\r\n      // Only add city if it's not a city-region\r\n      if (city) {\r\n        parts.push(toSlug(city));\r\n      }\r\n    }\r\n  } else if (city) {\r\n    // No region, just add city\r\n    parts.push(toSlug(city));\r\n  }\r\n\r\n  // Add venue slug\r\n  parts.push(slug);\r\n\r\n  return parts.join(\"/\");\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;AAqBO,SAAS,qBAAqB,KAAqB;IACxD,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,GAAG;IAE5C,+DAA+D;IAC/D,IAAI,CAAC,SAAS;QACZ,OAAO,CAAC,SAAS,EAAE,MAAM;IAC3B;IAEA,IAAI,YAAY,IAAA,yLAAsB,EAAC;IAEvC,yFAAyF;IACzF,IAAI,CAAC,WAAW;QACd,QAAQ,IAAI,CAAC,CAAC,SAAS,EAAE,QAAQ,gDAAgD,CAAC;QAElF,8DAA8D;QAC9D,MAAM,eAAe,QAAQ,WAAW;QACxC,IAAI,aAAa,QAAQ,CAAC,aAAa,aAAa,QAAQ,CAAC,YAAY;YACvE,YAAY;QACd,OAAO,IACL,aAAa,QAAQ,CAAC,aACtB;YAAC;YAAW;YAAS;YAAS;SAAQ,CAAC,IAAI,CAAC,CAAC,IAAM,aAAa,QAAQ,CAAC,KACzE;YACA,YAAY;QACd,OAAO,IACL;YAAC;YAAQ;YAAS;YAAS;YAAS;YAAU;YAAU;SAAU,CAAC,IAAI,CAAC,CAAC,IAAM,aAAa,QAAQ,CAAC,KACrG;YACA,YAAY;QACd,OAAO;YACL,yDAAyD;YACzD,OAAO,CAAC,SAAS,EAAE,MAAM;QAC3B;IACF;IAEA,MAAM,QAAQ;QAAC;QAAW,IAAA,gKAAgB,EAAC;QAAY,IAAA,iKAAa,EAAC;KAAS;IAE9E,wBAAwB;IACxB,IAAI,YAAY;QACd,MAAM,IAAI,CAAC;QAEX,uFAAuF;QACvF,uDAAuD;QACvD,IAAI,CAAC,IAAA,6JAAY,EAAC,SAAS,aAAa;YACtC,0CAA0C;YAC1C,IAAI,MAAM;gBACR,MAAM,IAAI,CAAC,IAAA,yKAAM,EAAC;YACpB;QACF;IACF,OAAO,IAAI,MAAM;QACf,2BAA2B;QAC3B,MAAM,IAAI,CAAC,IAAA,yKAAM,EAAC;IACpB;IAEA,iBAAiB;IACjB,MAAM,IAAI,CAAC;IAEX,OAAO,MAAM,IAAI,CAAC;AACpB","debugId":null}},
    {"offset": {"line": 3248, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/SearchAutocomplete.tsx"],"sourcesContent":["'use client';\n\nimport { useRouter } from 'next/navigation';\nimport { useState, useRef, useEffect } from \"react\";\nimport { Search, Building2, FolderOpen, Loader2 } from \"lucide-react\";\nimport { Input } from \"@/components/ui/input\";\nimport { useSearchAutocomplete } from \"@/hooks/useSearchAutocomplete\";\nimport { useDebounce } from \"@/hooks/useDebounce\";\nimport { cn } from \"@/lib/utils\";\nimport { buildVenueProfileUrl } from \"@/lib/buildVenueUrl\";\n\ninterface SearchAutocompleteProps {\n  placeholder?: string;\n}\n\nexport function SearchAutocomplete({ placeholder = \"Search...\" }: SearchAutocompleteProps) {\n  const [query, setQuery] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState(-1);\n  const debouncedQuery = useDebounce(query, 300);\n  const { data, isLoading } = useSearchAutocomplete(debouncedQuery);\n  const router = useRouter();\n  const inputRef = useRef<HTMLInputElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  const categories = data?.categories || [];\n  const listings = data?.listings || [];\n  const hasResults = categories.length > 0 || listings.length > 0;\n  const totalItems = categories.length + listings.length;\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (e: MouseEvent) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(e.target as Node) &&\n        inputRef.current &&\n        !inputRef.current.contains(e.target as Node)\n      ) {\n        setIsOpen(false);\n      }\n    };\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, []);\n\n  // Reset selection when results change\n  useEffect(() => {\n    setSelectedIndex(-1);\n  }, [debouncedQuery]);\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (!isOpen || !hasResults) {\n      if (e.key === \"Enter\" && query.trim()) {\n        if (isLoading) {\n          return;\n        }\n        // Single result = go directly to it\n        if (categories.length === 1 && listings.length === 0) {\n          // Single category, no listings\n          router.push(`/${categories[0].url_slug || categories[0].slug}`);\n        } else if (listings.length === 1 && categories.length === 0) {\n          // Single listing, no categories\n          router.push(getListingUrl(listings[0]));\n        } else {\n          // Multiple results or no results = go to search results page\n          router.push(`/search?q=${encodeURIComponent(query.trim())}`);\n        }\n        setIsOpen(false);\n        setQuery(\"\");\n      }\n      return;\n    }\n\n    switch (e.key) {\n      case \"ArrowDown\":\n        e.preventDefault();\n        setSelectedIndex((prev) => (prev < totalItems - 1 ? prev + 1 : 0));\n        break;\n      case \"ArrowUp\":\n        e.preventDefault();\n        setSelectedIndex((prev) => (prev > 0 ? prev - 1 : totalItems - 1));\n        break;\n      case \"Enter\":\n        e.preventDefault();\n        if (selectedIndex >= 0) {\n          handleSelect(selectedIndex);\n        } else if (query.trim()) {\n          if (isLoading) {\n            return;\n          }\n          // Single result = go directly to it\n          if (categories.length === 1 && listings.length === 0) {\n            // Single category, no listings\n            router.push(`/${categories[0].url_slug || categories[0].slug}`);\n          } else if (listings.length === 1 && categories.length === 0) {\n            // Single listing, no categories\n            router.push(getListingUrl(listings[0]));\n          } else {\n            // Multiple results or no results = go to search results page\n            router.push(`/search?q=${encodeURIComponent(query.trim())}`);\n          }\n          setIsOpen(false);\n          setQuery(\"\");\n        }\n        break;\n      case \"Escape\":\n        setIsOpen(false);\n        break;\n    }\n  };\n\n  // Build URL for a listing - use venue URL for venues, /listing/ for others\n  const getListingUrl = (listing: (typeof listings)[0]): string => {\n    if (listing.venue_type) {\n      // It's a venue - use SEO-friendly venue URL\n      return buildVenueProfileUrl({\n        slug: listing.slug,\n        country: listing.country,\n        regionSlug: listing.region_slug,\n        city: listing.town_city,\n      });\n    }\n    // Regular listing\n    return `/listing/${listing.slug}`;\n  };\n\n  const handleSelect = (index: number) => {\n    if (index < categories.length) {\n      // Category selected\n      const category = categories[index];\n      router.push(`/${category.url_slug || category.slug}`);\n    } else {\n      // Listing selected\n      const listing = listings[index - categories.length];\n      router.push(getListingUrl(listing));\n    }\n    setIsOpen(false);\n    setQuery(\"\");\n  };\n\n  const highlightMatch = (text: string) => {\n    if (!query) return text;\n    const regex = new RegExp(`(${query})`, \"gi\");\n    const parts = text.split(regex);\n    return parts.map((part, i) =>\n      part.toLowerCase() === query.toLowerCase() ? (\n        <span key={i} className=\"text-primary font-semibold\">\n          {part}\n        </span>\n      ) : (\n        part\n      ),\n    );\n  };\n\n  return (\n    <div className=\"relative w-full\">\n      <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-primary\" />\n      <Input\n        ref={inputRef}\n        type=\"search\"\n        placeholder={placeholder}\n        className=\"w-full pl-9 pr-9 bg-secondary/50 border-border focus-visible:border-primary focus-visible:ring-primary\"\n        value={query}\n        onChange={(e) => {\n          setQuery(e.target.value);\n          setIsOpen(true);\n        }}\n        onFocus={() => setIsOpen(true)}\n        onKeyDown={handleKeyDown}\n      />\n      {isLoading && <Loader2 className=\"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 animate-spin text-primary\" />}\n      {/* Dropdown */}\n      {isOpen && query.length >= 2 && (\n        <div\n          ref={dropdownRef}\n          className=\"absolute top-full left-0 right-0 mt-1 bg-card border border-border rounded-md shadow-lg z-50 max-h-[400px] overflow-y-auto\"\n          onMouseLeave={() => setSelectedIndex(-1)}\n        >\n          {!hasResults && !isLoading && (\n            <div className=\"p-4 text-sm text-muted-foreground text-center\">No results found for \"{query}\"</div>\n          )}\n\n          {categories.length > 0 && (\n            <div>\n              <div className=\"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider bg-secondary/50\">\n                Categories\n              </div>\n              {categories.map((category, index) => (\n                <button\n                  key={category.id}\n                  className={cn(\n                    \"w-full flex items-center gap-3 px-3 py-2 text-left text-foreground hover:bg-primary/10 hover:text-primary transition-colors\",\n                    selectedIndex === index && \"bg-primary/10 text-primary\",\n                  )}\n                  onClick={() => handleSelect(index)}\n                  onMouseEnter={() => setSelectedIndex(index)}\n                >\n                  <FolderOpen className=\"h-4 w-4 text-primary shrink-0\" />\n                  <span className=\"truncate\">{highlightMatch(category.name)}</span>\n                </button>\n              ))}\n            </div>\n          )}\n\n          {listings.length > 0 && (\n            <div>\n              <div className=\"px-3 py-2 text-xs font-semibold text-muted-foreground uppercase tracking-wider bg-secondary/50\">\n                Companies\n              </div>\n              {listings.map((listing, index) => {\n                const itemIndex = categories.length + index;\n                return (\n                  <button\n                    key={listing.id}\n                    className={cn(\n                      \"w-full flex items-center gap-3 px-3 py-2 text-left text-foreground hover:bg-primary/10 hover:text-primary transition-colors\",\n                      selectedIndex === itemIndex && \"bg-primary/10 text-primary\",\n                    )}\n                    onClick={() => handleSelect(itemIndex)}\n                    onMouseEnter={() => setSelectedIndex(itemIndex)}\n                  >\n                    <Building2 className=\"h-4 w-4 text-muted-foreground shrink-0\" />\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"truncate\">{highlightMatch(listing.name)}</div>\n                      {listing.town_city && (\n                        <div className=\"text-xs text-muted-foreground truncate\">\n                          {listing.town_city}\n                          {listing.country && `, ${listing.country}`}\n                        </div>\n                      )}\n                    </div>\n                  </button>\n                );\n              })}\n            </div>\n          )}\n\n          {hasResults && (\n            <button\n              className=\"w-full px-3 py-2 text-sm text-primary hover:bg-primary/10 transition-colors border-t border-border flex items-center justify-center gap-2\"\n              onClick={() => {\n                if (categories.length === 1 && listings.length === 0) {\n                  router.push(`/${categories[0].url_slug || categories[0].slug}`);\n                } else {\n                  router.push(`/search?q=${encodeURIComponent(query.trim())}`);\n                }\n                setIsOpen(false);\n              }}\n            >\n              <Search className=\"h-4 w-4\" />\n              {categories.length === 1 && listings.length === 0\n                ? `Go to ${categories[0].name}`\n                : `View all results for \"${query}\"`}\n            </button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3602, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/home/HomeHero.tsx"],"sourcesContent":["'use client';\r\n\r\nimport Link from 'next/link';\r\nimport { SearchAutocomplete } from '@/components/SearchAutocomplete';\r\n\r\nexport function HomeHero() {\r\n  return (\r\n    <section\r\n      className=\"relative py-10 sm:py-16 md:py-20\"\r\n      style={{\r\n        background:\r\n          \"linear-gradient(90deg, #1565c0 0%, #1669c4 15%, #176ec8 30%, #1873cc 45%, #1a7dcf 55%, #1c8ad0 65%, #20a5b8 75%, #25c0bc 88%, #2dd4bf 100%)\",\r\n      }}\r\n    >\r\n      <div className=\"container text-center space-y-4 sm:space-y-6\">\r\n        <p className=\"text-base sm:text-lg md:text-xl text-white/90 max-w-2xl mx-auto\">\r\n          The only fully comprehensive online resource for the music production industry. Find suppliers, venues,\r\n          studios, business contacts and more.\r\n        </p>\r\n\r\n        <div\r\n          className=\"max-w-xl mx-auto p-6 rounded-2xl shadow-xl\"\r\n          style={{\r\n            background: \"linear-gradient(135deg, #ec4899 0%, #d946ef 35%, #a855f7 65%, #8b5cf6 100%)\",\r\n          }}\r\n        >\r\n          <div className=\"[&_input]:bg-white [&_input]:text-gray-800 [&_input]:placeholder-gray-500\">\r\n            <SearchAutocomplete />\r\n          </div>\r\n\r\n          <div className=\"pt-4 text-center\">\r\n            <Link href=\"/categories\" className=\"text-white/90 hover:text-white text-sm font-medium transition-colors\">\r\n              Not sure? Browse all\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKO,SAAS;IACd,qBACE,kQAAC;QACC,WAAU;QACV,OAAO;YACL,YACE;QACJ;kBAEA,cAAA,kQAAC;YAAI,WAAU;;8BACb,kQAAC;oBAAE,WAAU;8BAAkE;;;;;;8BAK/E,kQAAC;oBACC,WAAU;oBACV,OAAO;wBACL,YAAY;oBACd;;sCAEA,kQAAC;4BAAI,WAAU;sCACb,cAAA,kQAAC,kLAAkB;;;;;;;;;;sCAGrB,kQAAC;4BAAI,WAAU;sCACb,cAAA,kQAAC,2LAAI;gCAAC,MAAK;gCAAc,WAAU;0CAAuE;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQtH","debugId":null}},
    {"offset": {"line": 3686, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/AnimatedCounter.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState, memo } from \"react\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface AnimatedCounterProps {\r\n  value: number;\r\n  className?: string;\r\n  duration?: number;\r\n}\r\n\r\nconst DIGITS = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"];\r\n\r\nconst DigitColumn = memo(function DigitColumn({ \r\n  digit, \r\n  duration \r\n}: { \r\n  digit: string; \r\n  duration: number;\r\n}) {\r\n  const [mounted, setMounted] = useState(false);\r\n  \r\n  useEffect(() => {\r\n    // Small delay to trigger the animation after mount\r\n    const timer = setTimeout(() => setMounted(true), 50);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  const targetIndex = DIGITS.indexOf(digit);\r\n  \r\n  return (\r\n    <span className=\"inline-block h-[1em] overflow-hidden relative\">\r\n      <span\r\n        className={cn(\r\n          \"inline-flex flex-col transition-transform ease-out\",\r\n          mounted ? \"\" : \"\"\r\n        )}\r\n        style={{\r\n          transform: mounted ? `translateY(-${targetIndex * 10}%)` : \"translateY(0)\",\r\n          transitionDuration: `${duration}ms`,\r\n        }}\r\n      >\r\n        {DIGITS.map((d) => (\r\n          <span\r\n            key={d}\r\n            className=\"h-[1em] flex items-center justify-center\"\r\n            aria-hidden={d !== digit}\r\n          >\r\n            {d}\r\n          </span>\r\n        ))}\r\n      </span>\r\n    </span>\r\n  );\r\n});\r\n\r\nconst Separator = memo(function Separator({ char }: { char: string }) {\r\n  return <span className=\"inline-block\">{char}</span>;\r\n});\r\n\r\nexport const AnimatedCounter = memo(function AnimatedCounter({\r\n  value,\r\n  className,\r\n  duration = 3000,\r\n}: AnimatedCounterProps) {\r\n  // Format the number with commas\r\n  const formattedValue = value.toLocaleString();\r\n  \r\n  // Split into individual characters\r\n  const characters = formattedValue.split(\"\");\r\n  \r\n  // Calculate staggered delay for each digit (last digit animates first, creating a rolling effect)\r\n  const digitCount = characters.filter(c => DIGITS.includes(c)).length;\r\n  \r\n  let digitIndex = 0;\r\n  \r\n  return (\r\n    <span className={cn(\"inline-flex tabular-nums\", className)}>\r\n      {characters.map((char, index) => {\r\n        if (DIGITS.includes(char)) {\r\n          // Stagger from right to left (rightmost digit gets shortest duration, leftmost gets full)\r\n          const currentDigitIndex = digitIndex;\r\n          digitIndex++;\r\n          \r\n          // Calculate duration: rightmost digit completes first\r\n          const positionFromRight = digitCount - currentDigitIndex - 1;\r\n          const staggeredDuration = duration - (positionFromRight * 150);\r\n          \r\n          return (\r\n            <DigitColumn\r\n              key={`${index}-${char}`}\r\n              digit={char}\r\n              duration={Math.max(staggeredDuration, 800)}\r\n            />\r\n          );\r\n        }\r\n        \r\n        return <Separator key={index} char={char} />;\r\n      })}\r\n    </span>\r\n  );\r\n});\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWA,MAAM,SAAS;IAAC;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;IAAK;CAAI;AAEjE,MAAM,4BAAc,IAAA,iOAAI,EAAC,SAAS,YAAY,EAC5C,KAAK,EACL,QAAQ,EAIT;IACC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qOAAQ,EAAC;IAEvC,IAAA,sOAAS,EAAC;QACR,mDAAmD;QACnD,MAAM,QAAQ,WAAW,IAAM,WAAW,OAAO;QACjD,OAAO,IAAM,aAAa;IAC5B,GAAG,EAAE;IAEL,MAAM,cAAc,OAAO,OAAO,CAAC;IAEnC,qBACE,kQAAC;QAAK,WAAU;kBACd,cAAA,kQAAC;YACC,WAAW,IAAA,6IAAE,EACX,sDACA,UAAU,KAAK;YAEjB,OAAO;gBACL,WAAW,UAAU,CAAC,YAAY,EAAE,cAAc,GAAG,EAAE,CAAC,GAAG;gBAC3D,oBAAoB,GAAG,SAAS,EAAE,CAAC;YACrC;sBAEC,OAAO,GAAG,CAAC,CAAC,kBACX,kQAAC;oBAEC,WAAU;oBACV,eAAa,MAAM;8BAElB;mBAJI;;;;;;;;;;;;;;;AAUjB;AAEA,MAAM,0BAAY,IAAA,iOAAI,EAAC,SAAS,UAAU,EAAE,IAAI,EAAoB;IAClE,qBAAO,kQAAC;QAAK,WAAU;kBAAgB;;;;;;AACzC;AAEO,MAAM,gCAAkB,IAAA,iOAAI,EAAC,SAAS,gBAAgB,EAC3D,KAAK,EACL,SAAS,EACT,WAAW,IAAI,EACM;IACrB,gCAAgC;IAChC,MAAM,iBAAiB,MAAM,cAAc;IAE3C,mCAAmC;IACnC,MAAM,aAAa,eAAe,KAAK,CAAC;IAExC,kGAAkG;IAClG,MAAM,aAAa,WAAW,MAAM,CAAC,CAAA,IAAK,OAAO,QAAQ,CAAC,IAAI,MAAM;IAEpE,IAAI,aAAa;IAEjB,qBACE,kQAAC;QAAK,WAAW,IAAA,6IAAE,EAAC,4BAA4B;kBAC7C,WAAW,GAAG,CAAC,CAAC,MAAM;YACrB,IAAI,OAAO,QAAQ,CAAC,OAAO;gBACzB,0FAA0F;gBAC1F,MAAM,oBAAoB;gBAC1B;gBAEA,sDAAsD;gBACtD,MAAM,oBAAoB,aAAa,oBAAoB;gBAC3D,MAAM,oBAAoB,WAAY,oBAAoB;gBAE1D,qBACE,kQAAC;oBAEC,OAAO;oBACP,UAAU,KAAK,GAAG,CAAC,mBAAmB;mBAFjC,GAAG,MAAM,CAAC,EAAE,MAAM;;;;;YAK7B;YAEA,qBAAO,kQAAC;gBAAsB,MAAM;eAAb;;;;;QACzB;;;;;;AAGN","debugId":null}},
    {"offset": {"line": 3800, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/james/showcase-redo/showcase-next/src/components/home/AnimatedStat.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { AnimatedCounter } from \"@/components/AnimatedCounter\";\r\n\r\nexport function AnimatedStat({ value, label, suffix }: { \r\n  value: number; \r\n  label: string; \r\n  suffix: string \r\n}) {\r\n  return (\r\n    <div className=\"text-center\">\r\n      <div className=\"font-display text-4xl sm:text-5xl font-bold text-foreground\">\r\n        <AnimatedCounter value={value} duration={3500} />\r\n        {suffix}\r\n      </div>\r\n      <div className=\"text-sm text-muted-foreground mt-1\">\r\n        {label}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS,aAAa,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAIlD;IACC,qBACE,kQAAC;QAAI,WAAU;;0BACb,kQAAC;gBAAI,WAAU;;kCACb,kQAAC,4KAAe;wBAAC,OAAO;wBAAO,UAAU;;;;;;oBACxC;;;;;;;0BAEH,kQAAC;gBAAI,WAAU;0BACZ;;;;;;;;;;;;AAIT","debugId":null}}]
}