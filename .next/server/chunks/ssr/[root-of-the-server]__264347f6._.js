module.exports = [
"[project]/showcase-next/.next-internal/server/app/[slug]/page/actions.js [app-rsc] (server actions loader, ecmascript)", ((__turbopack_context__, module, exports) => {

}),
"[project]/showcase-next/src/app/layout.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/showcase-next/src/app/layout.tsx [app-rsc] (ecmascript)"));
}),
"[project]/showcase-next/src/app/error.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/showcase-next/src/app/error.tsx [app-rsc] (ecmascript)"));
}),
"[project]/showcase-next/src/app/loading.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/showcase-next/src/app/loading.tsx [app-rsc] (ecmascript)"));
}),
"[project]/showcase-next/src/app/not-found.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/showcase-next/src/app/not-found.tsx [app-rsc] (ecmascript)"));
}),
"[project]/showcase-next/src/components/CategoryPage.tsx [app-rsc] (client reference proxy) <module evaluation>", ((__turbopack_context__) => {
"use strict";

// This file is generated by next-core EcmascriptClientReferenceModule.
__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/showcase-next/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/showcase-next/src/components/CategoryPage.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/showcase-next/src/components/CategoryPage.tsx <module evaluation>", "default");
}),
"[project]/showcase-next/src/components/CategoryPage.tsx [app-rsc] (client reference proxy)", ((__turbopack_context__) => {
"use strict";

// This file is generated by next-core EcmascriptClientReferenceModule.
__turbopack_context__.s([
    "default",
    ()=>__TURBOPACK__default__export__
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/showcase-next/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-server-dom-turbopack-server.js [app-rsc] (ecmascript)");
;
const __TURBOPACK__default__export__ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$server$2d$dom$2d$turbopack$2d$server$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["registerClientReference"])(function() {
    throw new Error("Attempted to call the default export of [project]/showcase-next/src/components/CategoryPage.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.");
}, "[project]/showcase-next/src/components/CategoryPage.tsx", "default");
}),
"[project]/showcase-next/src/components/CategoryPage.tsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

var __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$components$2f$CategoryPage$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/showcase-next/src/components/CategoryPage.tsx [app-rsc] (client reference proxy) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$components$2f$CategoryPage$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__ = __turbopack_context__.i("[project]/showcase-next/src/components/CategoryPage.tsx [app-rsc] (client reference proxy)");
;
__turbopack_context__.n(__TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$components$2f$CategoryPage$2e$tsx__$5b$app$2d$rsc$5d$__$28$client__reference__proxy$29$__);
}),
"[project]/showcase-next/src/integrations/supabase/server.ts [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "supabaseServer",
    ()=>supabaseServer
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f40$supabase$2f$supabase$2d$js$2f$dist$2f$esm$2f$wrapper$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/showcase-next/node_modules/@supabase/supabase-js/dist/esm/wrapper.mjs [app-rsc] (ecmascript)");
;
const SUPABASE_URL = ("TURBOPACK compile-time value", "https://zpeafwkthnrjuosyaexm.supabase.co");
const SUPABASE_PUBLISHABLE_KEY = ("TURBOPACK compile-time value", "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpwZWFmd2t0aG5yanVvc3lhZXhtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4NDM0ODEsImV4cCI6MjA4NDQxOTQ4MX0.z_Q2mK5qX7yNy3QDayvlN8HDtx1uOT8twaGY4EJFNlY");
if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
;
const supabaseServer = (0, __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f40$supabase$2f$supabase$2d$js$2f$dist$2f$esm$2f$wrapper$2e$mjs__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["createClient"])(SUPABASE_URL, SUPABASE_PUBLISHABLE_KEY, {
    auth: {
        persistSession: false,
        autoRefreshToken: false
    }
});
}),
"[project]/showcase-next/src/lib/data/categories.ts [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "getAllCategories",
    ()=>getAllCategories,
    "getCategoryBySlug",
    ()=>getCategoryBySlug,
    "getListingsByCategory",
    ()=>getListingsByCategory,
    "getSubcategories",
    ()=>getSubcategories,
    "getTopLevelCategories",
    ()=>getTopLevelCategories
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$integrations$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/showcase-next/src/integrations/supabase/server.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/showcase-next/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react.js [app-rsc] (ecmascript)");
;
;
const getTopLevelCategories = (0, __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["cache"])(async ()=>{
    const { data, error } = await __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$integrations$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["supabaseServer"].from('categories').select('*').is('parent_id', null).order('name');
    if (error) {
        console.error('Error fetching categories:', error);
        return [];
    }
    return data;
});
const getCategoryBySlug = (0, __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["cache"])(async (slug)=>{
    // First try to find by url_slug
    const { data: byUrlSlug, error: urlSlugError } = await __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$integrations$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["supabaseServer"].from('categories').select('*').eq('url_slug', slug).maybeSingle();
    if (urlSlugError) {
        console.error('Error fetching category by url_slug:', urlSlugError);
    }
    if (byUrlSlug) {
        return byUrlSlug;
    }
    // Fallback to regular slug
    const { data, error } = await __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$integrations$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["supabaseServer"].from('categories').select('*').eq('slug', slug).maybeSingle();
    if (error) {
        console.error('Error fetching category by slug:', error);
        return null;
    }
    return data;
});
const getSubcategories = (0, __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["cache"])(async (parentId)=>{
    const { data, error } = await __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$integrations$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["supabaseServer"].from('categories').select('*').eq('parent_id', parentId).order('name');
    if (error) {
        console.error('Error fetching subcategories:', error);
        return [];
    }
    return data;
});
const getAllCategories = (0, __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["cache"])(async ()=>{
    const { data, error } = await __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$integrations$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["supabaseServer"].from('categories').select('*').order('name');
    if (error) {
        console.error('Error fetching all categories:', error);
        return [];
    }
    return data;
});
const getListingsByCategory = (0, __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["cache"])(async (categoryId, options)=>{
    let query = __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$integrations$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["supabaseServer"].from('listings').select(`
      *,
      listing_categories!inner(category_id)
    `).eq('listing_categories.category_id', categoryId).eq('is_active', true).order('tier', {
        ascending: false
    }).order('name');
    if (options?.continent) {
        query = query.eq('continent', options.continent);
    }
    if (options?.country) {
        query = query.eq('country', options.country);
    }
    if (options?.region) {
        query = query.eq('region', options.region);
    }
    if (options?.city) {
        query = query.eq('city', options.city);
    }
    const { data, error } = await query;
    if (error) {
        console.error('Error fetching listings:', error);
        return [];
    }
    return data || [];
});
}),
"[project]/showcase-next/src/app/[slug]/page.tsx [app-rsc] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "default",
    ()=>CategoryPageRoute,
    "generateMetadata",
    ()=>generateMetadata
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/showcase-next/node_modules/next/dist/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.js [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$components$2f$CategoryPage$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/showcase-next/src/components/CategoryPage.tsx [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$integrations$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/showcase-next/src/integrations/supabase/server.ts [app-rsc] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$lib$2f$data$2f$categories$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/showcase-next/src/lib/data/categories.ts [app-rsc] (ecmascript)");
;
;
;
;
async function generateMetadata({ params }) {
    const { slug } = await params;
    const { data: category, error } = await __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$integrations$2f$supabase$2f$server$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["supabaseServer"].from('categories').select('name, seo_title, seo_meta_description, seo_meta_keywords').eq('slug', slug).single();
    console.log('Metadata query result:', {
        category,
        error
    });
    if (!category) {
        return {
            title: 'Category Not Found | Showcase Music Directory',
            description: 'The requested category could not be found'
        };
    }
    const baseUrl = 'https://www.showcase-music.com';
    const pageUrl = `${baseUrl}/${slug}`;
    // Use SEO overrides if they exist, otherwise use defaults
    const title = category.seo_title || `${category.name} | Showcase Music Directory`;
    const description = category.seo_meta_description || `Find ${category.name} companies and services on Showcase Music Directory`;
    const keywords = category.seo_meta_keywords?.split(',').map((k)=>k.trim()) || [];
    return {
        title,
        description,
        ...keywords.length > 0 && {
            keywords
        },
        alternates: {
            canonical: pageUrl
        },
        openGraph: {
            title,
            description,
            url: pageUrl,
            siteName: 'Showcase Music Directory',
            type: 'website'
        },
        twitter: {
            card: 'summary',
            title,
            description
        },
        robots: {
            index: true,
            follow: true
        }
    };
}
async function CategoryPageRoute({ params }) {
    const { slug } = await params;
    // Fetch initial data server-side in parallel
    const [category, subcategories] = await Promise.all([
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$lib$2f$data$2f$categories$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getCategoryBySlug"])(slug),
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$lib$2f$data$2f$categories$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getCategoryBySlug"])(slug).then((cat)=>cat ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$lib$2f$data$2f$categories$2e$ts__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["getSubcategories"])(cat.id) : [])
    ]);
    // Pass initial data to client component (listings fetched client-side with filters)
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$rsc$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$showcase$2d$next$2f$src$2f$components$2f$CategoryPage$2e$tsx__$5b$app$2d$rsc$5d$__$28$ecmascript$29$__["default"], {
        initialCategory: category,
        initialSubcategories: subcategories
    }, void 0, false, {
        fileName: "[project]/showcase-next/src/app/[slug]/page.tsx",
        lineNumber: 77,
        columnNumber: 5
    }, this);
}
}),
"[project]/showcase-next/src/app/[slug]/page.tsx [app-rsc] (ecmascript, Next.js Server Component)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/showcase-next/src/app/[slug]/page.tsx [app-rsc] (ecmascript)"));
}),
"[externals]/next/dist/shared/lib/no-fallback-error.external.js [external] (next/dist/shared/lib/no-fallback-error.external.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/shared/lib/no-fallback-error.external.js", () => require("next/dist/shared/lib/no-fallback-error.external.js"));

module.exports = mod;
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__264347f6._.js.map